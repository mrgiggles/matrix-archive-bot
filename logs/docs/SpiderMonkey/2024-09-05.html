<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2024-09-05</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2024-09-05<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-09-04" class="nav-link"><span>prev</span></a>
<a href="2024-09-06" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Sep 04 2024 20:07:01 GMT-0700 (Pacific Daylight Time)">03:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">perhaps you haven't entered any realm?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Sep 04 2024 20:07:38 GMT-0700 (Pacific Daylight Time)">03:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">but it works when there're no JS syntax errors?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Sep 04 2024 20:08:42 GMT-0700 (Pacific Daylight Time)">03:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yeah, if there's no syntax error, it just creates <code>JS::Stencil</code>, which is GC-free struct.  but if there's error, it reports an error to the current global</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Sep 04 2024 20:09:14 GMT-0700 (Pacific Daylight Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">err, just to make sure, what is <code>ctx</code> ?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Sep 04 2024 20:09:22 GMT-0700 (Pacific Daylight Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell"><code>JSContext*</code></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Sep 04 2024 20:09:22 GMT-0700 (Pacific Daylight Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if it's <code>JSContext*</code>, then the above applies</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Sep 04 2024 20:09:48 GMT-0700 (Pacific Daylight Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if you use <code>JS::FrontendContext*</code>, the error is also GC-free struct</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Sep 04 2024 20:10:27 GMT-0700 (Pacific Daylight Time)">03:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">I see</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Sep 04 2024 20:10:46 GMT-0700 (Pacific Daylight Time)">03:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">Thank you, I'll have to double check some things</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Sep 04 2024 20:11:29 GMT-0700 (Pacific Daylight Time)">03:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, if you've already entered a realm, you can use the <code>JSContext*</code>-variant, so the error is immediately reported to the global.   if you're outside of realm, you can use <code>JS::FrontendContext*</code> variant, and report it to a global later by <a href="https://searchfox.org/mozilla-central/rev/5959ec6b84d66592a77a3e5e2d2aedc1b3e7d4c5/js/public/experimental/CompileScript.h#63">JS::ConvertFrontendErrorsToRuntimeErrors</a></td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Sep 04 2024 20:13:10 GMT-0700 (Pacific Daylight Time)">03:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">How would you create <code>JS::FrontendContext*</code>? Can it be on the same thread as the <code>JSContext*</code>?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Sep 04 2024 20:13:26 GMT-0700 (Pacific Daylight Time)">03:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/rev/5959ec6b84d66592a77a3e5e2d2aedc1b3e7d4c5/js/public/experimental/CompileScript.h#32">JS::NewFrontendContext</a></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Sep 04 2024 20:13:50 GMT-0700 (Pacific Daylight Time)">03:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">FrontendContext-based APIs can be used on any thread</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Sep 04 2024 20:14:02 GMT-0700 (Pacific Daylight Time)">03:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">and you can easily swap <code>JSContext*</code> with <code>FrontendContext*</code>?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Sep 04 2024 20:14:14 GMT-0700 (Pacific Daylight Time)">03:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what do you mean?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Sep 04 2024 20:14:48 GMT-0700 (Pacific Daylight Time)">03:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">if I compiled and encoded a stencil with a <code>FrontendContext*</code>, can I then decode and run that stencil with a <code>JSContext*</code> Or extra calls are needed to transfer stuff?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Sep 04 2024 20:15:47 GMT-0700 (Pacific Daylight Time)">03:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yeah, no transfer is necessary.  the resulting <code>JS::Stencil</code> is compatible between them</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Sep 04 2024 20:50:05 GMT-0700 (Pacific Daylight Time)">03:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">I assume <code>FrontendContext*</code> isn't in esr102</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Sep 04 2024 20:54:52 GMT-0700 (Pacific Daylight Time)">03:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">oh, that's unfortunate.  it's added in 110</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Sep 04 2024 22:42:59 GMT-0700 (Pacific Daylight Time)">05:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@liam_g:mozilla.org">liam_g</span>&gt;</div></td><td class="msg-cell">Each time I write <code>typeof x === "object"</code>, does Spidermonkey 1. allocate a new R-value string called "object" and 2. perform a string comparison? Or are these optimized away somehow?</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Sep 04 2024 22:43:43 GMT-0700 (Pacific Daylight Time)">05:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@liam_g:mozilla.org">liam_g</span>&gt;</div></td><td class="msg-cell">I know that this doesn't amount to very much, I'm mostly just asking out of curiosity</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Sep 04 2024 22:46:14 GMT-0700 (Pacific Daylight Time)">05:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">string is allocated only once when instantiating the script, and the string is associated with the script, and that string is pushed to the stack for each time (<a href="https://searchfox.org/mozilla-central/rev/5959ec6b84d66592a77a3e5e2d2aedc1b3e7d4c5/js/src/vm/Opcodes.h#353-360">JSOp::String</a>)</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Sep 04 2024 22:47:09 GMT-0700 (Pacific Daylight Time)">05:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the type strings are atomized, and the comparison is done by simple pointer comparison</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Sep 04 2024 22:48:39 GMT-0700 (Pacific Daylight Time)">05:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">err, the above seems to be slightly old</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Sep 04 2024 22:49:35 GMT-0700 (Pacific Daylight Time)">05:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the comparison expression is compiled into single opcode <a href="https://searchfox.org/mozilla-central/rev/5959ec6b84d66592a77a3e5e2d2aedc1b3e7d4c5/js/src/vm/Opcodes.h#414-426">JSOp::TypeofEq</a>, which optimizes away the string and string comparison</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Sep 04 2024 22:52:06 GMT-0700 (Pacific Daylight Time)">05:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the <code>TypeofEq</code> is introduced from 127 (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1862273">bug 1862273</a>).  until then, the above atom comparison explanation applies</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Sep 05 2024 01:10:19 GMT-0700 (Pacific Daylight Time)">08:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">yulia | out sick</span>: <span class="nick-4">jonco</span> yoav was asking if we have feedback to <a href="https://github.com/whatwg/html/pull/10528">https://github.com/whatwg/html/pull/10528</a>  (at least it needs non-chromium review)</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Sep 05 2024 01:42:34 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: I'll try and take a look today</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Sep 05 2024 01:45:38 GMT-0700 (Pacific Daylight Time)">08:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@tarek:mozilla.org">Tarek</span>&gt;</div></td><td class="msg-cell"><p>I am trying to do it with d8. I used this script:</p>
<pre><code>let wasm = "ort-wasm-simd-threaded.wasm";
const wasmCode = read(wasm, "binary");
const wasmModule = new WebAssembly.Module(wasmCode);
print(wasmModule);
</code></pre>
<p>and ran <code>d8 --wasm-tier-up --liftoff testCompileWasm.js</code></p>
<p>that returns the module instantly. I am not sure if that's how to do it though? I don't understand what would be the "equivalent" of using ion in v8</p>
</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Sep 05 2024 01:58:22 GMT-0700 (Pacific Daylight Time)">08:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@tarek:mozilla.org">Tarek</span>&gt;</div></td><td class="msg-cell"><code>--wasm-tier-up</code> seems to be the turbo fan thing</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Sep 05 2024 02:23:42 GMT-0700 (Pacific Daylight Time)">09:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">jonco</span>: you might understand <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1892764">https://bugzilla.mozilla.org/show_bug.cgi?id=1892764</a> Is the idea that after a minor GC we've learnt about the call site that the return value should be probably tenured?</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Sep 05 2024 02:24:34 GMT-0700 (Pacific Daylight Time)">09:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: yes, that's right</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Sep 05 2024 02:26:02 GMT-0700 (Pacific Daylight Time)">09:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">ok, and that is why it can't probably help too much with sp3, since there we try hard to not do a minorgc during a subtest run, and I guess the next time the same subtest runs, we don't have the information from the previous run</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Sep 05 2024 02:27:19 GMT-0700 (Pacific Daylight Time)">09:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell">yes, because the nursery size is so large we rarely collect</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Sep 05 2024 02:27:40 GMT-0700 (Pacific Daylight Time)">09:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell">with better support for pretenuring it could become viable to reduce this</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Sep 05 2024 02:36:16 GMT-0700 (Pacific Daylight Time)">09:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">but it would mean we'd still need minorGC during a subtest run... hmm, perhaps if we can store the data about previous pages using the same functions or so (like jit hints), then this could reduce need for minorGC quite dramatically </td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Sep 05 2024 02:37:36 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell">yes, it would be interesting to store some of this data in jithints somehow</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Sep 05 2024 03:45:24 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@liam_g:mozilla.org">liam_g</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> the comparison expression is compiled into single opcode <a href="https://searchfox.org/mozilla-central/rev/5959ec6b84d66592a77a3e5e2d2aedc1b3e7d4c5/js/src/vm/Opcodes.h#414-426">JSOp::TypeofEq</a>, which optimizes away the string and string comparison</blockquote></mx-reply>Thanks for the detailed explanation. The micro-optimizer in me will sleep well tonight!</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Sep 05 2024 05:14:08 GMT-0700 (Pacific Daylight Time)">12:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">Hello <a href="https://searchfox.org/mozilla-central/source/js/src/vm/BytecodeFormatFlags.h#55">this bytecode flag</a> when should a bytecode have this flag? anytime it requires access to the env chain? context: i have added <a href="https://searchfox.org/mozilla-central/source/js/src/vm/Opcodes.h#3416,3431">two new opcodes</a> which use the env chain but realise i forgot to add this flag</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Sep 05 2024 05:26:45 GMT-0700 (Pacific Daylight Time)">12:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> perhaps you haven't entered any realm?</blockquote></mx-reply>I believe this was 100% the problem<br>Why doesn't mozjs have proper error messages about this kind of stuff 😩</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Sep 05 2024 05:27:14 GMT-0700 (Pacific Daylight Time)">12:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">segfaults without a descriptive error message destroys me</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Sep 05 2024 05:28:00 GMT-0700 (Pacific Daylight Time)">12:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">are you using a debug build?  I would expect there be some assertion</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Sep 05 2024 05:42:11 GMT-0700 (Pacific Daylight Time)">12:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Hello <a href="https://searchfox.org/mozilla-central/source/js/src/vm/BytecodeFormatFlags.h#55">this bytecode flag</a> when should a bytecode have this flag? anytime it requires access to the env chain? context: i have added <a href="https://searchfox.org/mozilla-central/source/js/src/vm/Opcodes.h#3416,3431">two new opcodes</a> which use the env chain but realise i forgot to add this flag</blockquote></mx-reply>iiuc only the jit uses this info for some kind of caching <a href="https://searchfox.org/mozilla-central/source/js/src/jit/JitScript.cpp#596">here</a></td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Sep 05 2024 05:54:58 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-10">jandem</span>: ^ can you take a look?</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Sep 05 2024 06:07:57 GMT-0700 (Pacific Daylight Time)">13:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">debadree25</span>: the WarpBuilder code for these ops uses the block's environment chain so the bytecode ops should have the flag. The code is asserting the flag is set (through <code>MOZ_ASSERT(usesEnvironmentChain())</code>) so what probably happens is that they're always used with other env-chain bytecode ops that ensure it's set?</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Sep 05 2024 06:16:09 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-12">debadree25</span>: the WarpBuilder code for these ops uses the block's environment chain so the bytecode ops should have the flag. The code is asserting the flag is set (through <code>MOZ_ASSERT(usesEnvironmentChain())</code>) so what probably happens is that they're always used with other env-chain bytecode ops that ensure it's set?</blockquote></mx-reply>indeed PushLexicalEnv is always pushed before these so i guess that saves it!</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu Sep 05 2024 06:25:36 GMT-0700 (Pacific Daylight Time)">13:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">but i guess would be good to add the annotation in case something changes in the future</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu Sep 05 2024 06:27:24 GMT-0700 (Pacific Daylight Time)">13:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">agreed</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu Sep 05 2024 07:04:02 GMT-0700 (Pacific Daylight Time)">14:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@yury:mozilla.org">yury</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">Tarek</span>: Tiering up is a little bit different between v8 and sm. I'm not sure we can compare apples and oranges here. Maybe knowing <code>--no-liftoff</code> stats vs <code>--liftoff --no-turbofan</code> might help with comparison?</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu Sep 05 2024 07:20:20 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">Bryan Thrall [:bthrall]</span>: the testing functions I was thinking of were addMarkObservers and getMarks: <a href="https://searchfox.org/mozilla-central/source/js/src/shell/js.cpp#9962-9979">https://searchfox.org/mozilla-central/source/js/src/shell/js.cpp#9962-9979</a></td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu Sep 05 2024 07:20:44 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell">you can use this to check whether some GC thing you expect to die has in fact died</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu Sep 05 2024 08:33:22 GMT-0700 (Pacific Daylight Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-4">jonco</span>: Regarding your alloc site comment -- The reason I'm passing a punned <code>gc::Heap</code> is because when we do <a href="https://searchfox.org/mozilla-central/source/js/src/jit/WarpOracle.cpp#1332-1338">WarpTranspilation we intentionally censor the actual alloc site</a>, so I can't use a localAllocSite with a heap. Having said that... creating a default allocSite that is "tenured" another which is "default" does simplify that code a bit... though I'm not sure what that would look like in practice.</p>
<p>(I'm still trying to figure out why the mismatched zones happen though)</p>
</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu Sep 05 2024 08:38:54 GMT-0700 (Pacific Daylight Time)">15:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell">Yes, we already have optimizedAllocSite which we use when we need a site in optimized JIT code. This one is in the unknown state but it would be possible to have another per-zone site for use in optimized JIT code that was in the long lived state which could be used here.</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu Sep 05 2024 08:51:29 GMT-0700 (Pacific Daylight Time)">15:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Interesting. Ok. I'll look into that in a bit :) </td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu Sep 05 2024 11:00:43 GMT-0700 (Pacific Daylight Time)">18:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">what does JS_NUNBOX32 and JS_PUNBOX64 mean?</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu Sep 05 2024 11:01:02 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">just whether 32 bit or 64 bit?</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu Sep 05 2024 11:04:54 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> just whether 32 bit or 64 bit?</blockquote></mx-reply>nunboxing and punboxing are about how JS values are represented, though it sounds like it does coincide with the architecture. See a reply from Luke here about what the names mean. <a href="https://wingolog.org/archives/2011/05/18/value-representation-in-javascript-implementations">https://wingolog.org/archives/2011/05/18/value-representation-in-javascript-implementations</a></td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu Sep 05 2024 11:05:24 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell">That's from 2011 so I don't know how current all of the details are but presumably the basic idea is the same.</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu Sep 05 2024 11:06:06 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">oh i see! thanks for the article checking it out!</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu Sep 05 2024 11:08:04 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">you can also read the <a href="https://searchfox.org/mozilla-central/source/js/public/Value.h#100-114">docs in the source</a></td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu Sep 05 2024 13:38:52 GMT-0700 (Pacific Daylight Time)">20:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">I'm a bit confused about encoding compiled stencils because when I <code>cat</code> it, I see plaintext JS and then weird encoded characters below the plaintext in the output buffer.</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu Sep 05 2024 13:49:29 GMT-0700 (Pacific Daylight Time)">20:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">shouldn't plaintext not be in there?</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu Sep 05 2024 13:49:41 GMT-0700 (Pacific Daylight Time)">20:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I would assume that's the stencil, and it contains the source text. It looks like you can create a stencil in a way where you <a href="https://searchfox.org/mozilla-central/rev/f09e3f9603a08b5b51bf504846091579bc2ff531/js/src/frontend/CompilationStencil.h#1179-1182">promise you'll never need the source text</a>, and it won't include it.</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Thu Sep 05 2024 13:50:42 GMT-0700 (Pacific Daylight Time)">20:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">I see</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Thu Sep 05 2024 13:51:12 GMT-0700 (Pacific Daylight Time)">20:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I'm guessing it's there by default to support <a href="https://devdoc.net/web/developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource.html">toSource</a></td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Thu Sep 05 2024 14:02:13 GMT-0700 (Pacific Daylight Time)">21:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">Is it possible to cache JIT compilation?</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Thu Sep 05 2024 14:08:30 GMT-0700 (Pacific Daylight Time)">21:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">For the most part, no. The JIT compiles in various pointers. There are periodic attempts at caching various things, sometimes to skip part of parsing and/or compilation, sometimes to hint at how to JIT compile certain code (the same JS code can produce very different machine code from compilation to compilation, at least in the faster tiers). I don't know what things are currently possible. But the answer to the basic question of "can I save out JIT-compiled code and load it in to use later without recompiling?" is no.</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Thu Sep 05 2024 14:12:41 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell"><p>Hey everyone! I asked the following <a href="https://mozilla.slack.com/archives/C028P1R5X/p1725058913510629">question</a> in the <a href="https://mozilla.enterprise.slack.com/archives/C028P1R5X">mdn Slack channel</a> earlier, and was told I should try asking here.</p>
<hr>
<p><strong>Original Question</strong></p>
<p>Hey MDN folks! I had some questions about the pages for the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/dotAll">RegExp.prototype.dotAll</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicode#description">RegExp.prototype.unicode</a> flags.</p>
<p>Both pages seem to suggest that JS regex by default won't match all unicode characters.</p>
<p>But I've tried using the dotAll flag <strong><em>without</em></strong> the unicode flag and <code>.</code> seems to match non-BMP characters such as emojis just fine.</p>
<p>And I've also tried matching a basic regex without the unicode flag and it also matches non-BMP characters.</p>
<p>I wonder if the docs are out of date and perhaps JS changed the default behavior? Or maybe I'm misunderstanding the docs and there is room to improve the clarity here.</p>
<p>In either case, I'm a little bit confused, and I'm hoping maybe a positive change to the docs may come from this, or at the very least someone could help explain to me what I'm misunderstanding.</p>
</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Thu Sep 05 2024 14:21:47 GMT-0700 (Pacific Daylight Time)">21:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I wouldn't expect dotAll to affect matching of random unicode characters. It should really only be about whether or not to match newlines and newline-like things.</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Thu Sep 05 2024 14:22:23 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell"><p>Definitely! Sorry for the confusion. It's just that the dotall MDN page says:</p>
<blockquote>
<p>"This effectively means the dot will match any character on the Unicode Basic Multilingual Plane (BMP). To allow it to match astral characters, the u (unicode) flag should be used. Using both flags in conjunction allows the dot to match any Unicode character, without exceptions."</p>
</blockquote>
<p>Which doesn't seem to be true.</p>
</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Thu Sep 05 2024 14:22:35 GMT-0700 (Pacific Daylight Time)">21:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">according to a <a href="https://searchfox.org/mozilla-central/rev/f09e3f9603a08b5b51bf504846091579bc2ff531/js/src/irregexp/imported/regexp-parser.cc#1009">comment in the source</a>, it makes a difference for exactly 4 things: \x0A, \x0D, \u2028 and \u2029.</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Thu Sep 05 2024 14:23:26 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@iain:mozilla.org">iain|parental-leave</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">nordzilla</span>: Right above that, it says "The s flag indicates that the dot special character (.) should additionally match the following line terminator ("newline") characters in a string, which it would not match otherwise" (and then lists the four characters sfink pointed at)</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Thu Sep 05 2024 14:23:26 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell">Maybe I'm misunderstanding, but I thought emojis <em>were</em> astral characters.</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu Sep 05 2024 14:23:46 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@iain:mozilla.org">iain|parental-leave</span>&gt;</div></td><td class="msg-cell">Oh, sorry, misunderstood the question</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu Sep 05 2024 14:23:53 GMT-0700 (Pacific Daylight Time)">21:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@iain:mozilla.org">iain|parental-leave</span>&gt;</div></td><td class="msg-cell">Will disappear back to parental leave now</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu Sep 05 2024 14:24:28 GMT-0700 (Pacific Daylight Time)">21:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">darn, 'cause I'm going to be totally lost here. I can't even keep straight codepoints vs code units vs characters vs graphemes vs entire borg cubes.</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu Sep 05 2024 14:26:22 GMT-0700 (Pacific Daylight Time)">21:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">so you're sure . matches the <em>whole</em> astral character without the u flag?</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu Sep 05 2024 14:26:24 GMT-0700 (Pacific Daylight Time)">21:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell"><p>You and me both! I'd just like to get a better understanding of all this.</p>
<p>The tl;dr is:</p>
<p>While the dotall flag itself is concerned with matching newlines, the MDN page for dotall suggests that a regex without the <code>u</code> (Unicode) flag won't match astral characters, but I've found (perhaps mistakenly?) that it does.</p>
</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu Sep 05 2024 14:29:13 GMT-0700 (Pacific Daylight Time)">21:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell"><pre><code>js&gt; "😄".match(/(.)(.)/)
["\uD83D\uDE04", "\uD83D", "\uDE04"]
</code></pre>
</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu Sep 05 2024 14:31:00 GMT-0700 (Pacific Daylight Time)">21:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I think the idea is that <code>/./</code> doesn't understand surrogate pairs as forming a single matchable "character", but <code>/./u</code> does.</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu Sep 05 2024 14:31:11 GMT-0700 (Pacific Daylight Time)">21:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">so it's more about how much it matches than whether it matches</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu Sep 05 2024 14:31:25 GMT-0700 (Pacific Daylight Time)">21:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell"><p>Ah, I think you've just uncovered my misunderstanding!</p>
<p>In my tests, I've been using <code>.*</code>, and it seemed to power through all of the characters I threw at it.</p>
<p>But the reality is that it still matches the individual components without the <code>u</code> flag, and in the case of <code>.*</code>, that is no different.</p>
</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu Sep 05 2024 14:33:51 GMT-0700 (Pacific Daylight Time)">21:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell"><p>Now I see the difference:</p>
<p><strong>Different</strong></p>
<pre><code>"😄".match(/./)

Array [ "\ud83d" ]



"😄".match(/./u)

Array [ "😄" ]
</code></pre>
<hr>
<p><strong>Not Different</strong></p>
<pre><code>"😄".match(/.*/)

Array [ "😄" ]



"😄".match(/.*/u)

Array [ "😄" ]
</code></pre>
</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu Sep 05 2024 14:34:35 GMT-0700 (Pacific Daylight Time)">21:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell">I had misunderstood the docs to mean that my <code>.*</code> would stop at a non-BMP character. And I was confused why it seemed to be matching everything.</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu Sep 05 2024 14:35:08 GMT-0700 (Pacific Daylight Time)">21:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">hah, right, I guess it "puts the pieces back together" with .*</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu Sep 05 2024 14:36:17 GMT-0700 (Pacific Daylight Time)">21:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">but I think there's still a valid mdn doc update to be done here, because I totally see your reading of the text you quoted. It's not wrong, but it's sort of deceptive that it's not saying what <em>does</em> happen without the u flag. It's a totally valid reading to assume that it doesn't match at all.</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu Sep 05 2024 14:39:32 GMT-0700 (Pacific Daylight Time)">21:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell">I agree! I suppose the next step is to just file an issue here?
<a href="https://github.com/mdn/content/issues">https://github.com/mdn/content/issues</a>

Happy to do that if so. I've never contributed to MDN before.</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu Sep 05 2024 14:42:42 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">the last time I contributed to MDN, it was just a wiki and it was straightforward. Now it looks like it's a github thing and you have to read a <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md">giant page</a> to figure out how to contribute.</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu Sep 05 2024 14:42:56 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">if filing an issue works, that seems easiest to me, not having read the giant page.</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Sep 05 2024 14:42:59 GMT-0700 (Pacific Daylight Time)">21:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell">I saw that page 😂</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Sep 05 2024 14:43:28 GMT-0700 (Pacific Daylight Time)">21:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@nordzilla:mozilla.org">nordzilla</span>&gt;</div></td><td class="msg-cell">I'll do what needs to be done! Thanks for your help in uncovering what I wasn't understanding!</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Sep 05 2024 14:43:38 GMT-0700 (Pacific Daylight Time)">21:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">thanks for contributing!</td></tr>

</tbody></table></div></div></div>
</body></html>