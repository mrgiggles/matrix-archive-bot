<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2021-07-07</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2021-07-07<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-07-06" class="nav-link"><span>prev</span></a>
<a href="2021-07-09" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Jul 06 2021 17:42:09 GMT-0700 (Pacific Daylight Time)">00:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Who can review mfbt these days? While reviewing anba's Map/Set patches I realized (because anba had faithfully reproduced it in masm) that <a href="https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/mfbt/HashFunctions.cpp#27">this line in HashBytes</a> will add both a word of data (good) and the <em>length</em> of a word of data (constant; almost certainly not intended) to the hash.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Jul 06 2021 17:42:57 GMT-0700 (Pacific Daylight Time)">00:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Hooray for variadic functions!</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Jul 06 2021 21:59:44 GMT-0700 (Pacific Daylight Time)">04:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">what's JSAutoRealm and Realms?  i found document link "<a href="http://developer.mozilla.org/en-US/docs/SpiderMonkey/SpiderMonkey_compartments&quot;">developer.mozilla.org/en-US/docs/SpiderMonkey/SpiderMonkey_compartments"</a>; , but this link have been invalid.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Jul 06 2021 22:00:25 GMT-0700 (Pacific Daylight Time)">05:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/js/public/Realm.h#17-20">https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/js/public/Realm.h#17-20</a></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Jul 06 2021 22:00:46 GMT-0700 (Pacific Daylight Time)">05:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/js/public/Realm.h#141-182">https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/js/public/Realm.h#141-182</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Jul 06 2021 22:02:03 GMT-0700 (Pacific Daylight Time)">05:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">objects belong to one realm, and when operating on the raw (not-wrapped) object, you need to be in the object's realm.  <code>JSAutoRealm</code> lets you enter the given object's realm</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Jul 06 2021 22:02:44 GMT-0700 (Pacific Daylight Time)">05:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">oh, the URL you've mentioned is there :P</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Jul 06 2021 22:03:10 GMT-0700 (Pacific Daylight Time)">05:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">for compartments, <a href="https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/js/public/Zone.h#15-35">https://searchfox.org/mozilla-central/rev/1c5c3f4ec274462b92cf5bd82235ae3a56c508e9/js/public/Zone.h#15-35</a></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Jul 06 2021 22:03:49 GMT-0700 (Pacific Daylight Time)">05:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">can you file a bug for the outdated URL in the comment?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Jul 06 2021 22:04:11 GMT-0700 (Pacific Daylight Time)">05:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">how to file a bug? ðŸ˜‚</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Jul 06 2021 22:04:28 GMT-0700 (Pacific Daylight Time)">05:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">do you have <a href="http://bugzilla.mozilla.org">bugzilla.mozilla.org</a> account?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Jul 06 2021 22:04:32 GMT-0700 (Pacific Daylight Time)">05:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzilla.mozilla.org/home">https://bugzilla.mozilla.org/home</a></td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Jul 06 2021 22:05:11 GMT-0700 (Pacific Daylight Time)">05:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">no, i can register one account now.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Jul 06 2021 22:05:42 GMT-0700 (Pacific Daylight Time)">05:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">great :)  after you've registered, there will be "New Bug" link at the top bar</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Jul 06 2021 22:05:58 GMT-0700 (Pacific Daylight Time)">05:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">okï¼Œi will try.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Jul 06 2021 22:06:48 GMT-0700 (Pacific Daylight Time)">05:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">SpiderMonkey bugs are filed under "Core" product, "JavaScript Engine" component</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Jul 06 2021 22:07:12 GMT-0700 (Pacific Daylight Time)">05:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, in the "Enter A Bug" page, "Other Products" category.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Jul 06 2021 22:07:18 GMT-0700 (Pacific Daylight Time)">05:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">there's "Core"</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Jul 06 2021 22:15:28 GMT-0700 (Pacific Daylight Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">done.  <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1719412">https://bugzilla.mozilla.org/show_bug.cgi?id=1719412</a></td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Jul 06 2021 22:23:13 GMT-0700 (Pacific Daylight Time)">05:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">Thank you!</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Jul 07 2021 00:34:04 GMT-0700 (Pacific Daylight Time)">07:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@dbezhetskov:igalia.com">dbezhetskov</span>&gt;</div></td><td class="msg-cell">Hi folks, I was been assigned to do the review <a href="https://phabricator.services.mozilla.com/D118283">https://phabricator.services.mozilla.com/D118283</a> here but I can't leave comments because I'm not in the <code>editbugs</code> group, who can I ask for granting permissions?</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Jul 07 2021 00:41:56 GMT-0700 (Pacific Daylight Time)">07:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@ms2ger:igalia.com">Ms2ger</span>&gt;</div></td><td class="msg-cell">Once upon a time I would have asked <span class="nick-3">jdm</span></td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Jul 07 2021 01:09:39 GMT-0700 (Pacific Daylight Time)">08:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><p>ðŸ¤” On HeapApi.h#554 (SM 88):</p>
<pre><code class="language-rs">MOZ_ALWAYS_INLINE bool CellHasStoreBuffer(const Cell* cell) {
  return GetCellChunkBase(cell)-&gt;storeBuffer;
}
</code></pre>
<pre><code>Exception: Exception 0xc0000005 encountered at address 0x7ff71fb8f1c3: Access violation reading location 0x00000000
</code></pre>
<p>I'm getting a silent exception, and I'm confused</p>
</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Jul 07 2021 01:10:42 GMT-0700 (Pacific Daylight Time)">08:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">is <code>cell</code> nullptr ?</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Jul 07 2021 01:11:15 GMT-0700 (Pacific Daylight Time)">08:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what's the backtrace?</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Jul 07 2021 01:11:36 GMT-0700 (Pacific Daylight Time)">08:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">backtrace as in?</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Jul 07 2021 01:12:25 GMT-0700 (Pacific Daylight Time)">08:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">stack trace, or call stack.  how the execution reach the function</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Jul 07 2021 01:14:09 GMT-0700 (Pacific Daylight Time)">08:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><pre><code>js::gc::detail::CellHasStoreBuffer(const js::gc::Cell *) HeapAPI.h:558
js::gc::IsInsideNursery(const js::gc::Cell *) HeapAPI.h:567
js::gc::Cell::isTenured() Cell.h:158
CanCheckGrayBits(const js::gc::Cell *) GC.cpp:8951
js::gc::detail::AssertCellIsNotGray(const js::gc::Cell *) GC.cpp:9005
JS::AssertCellIsNotGray(const js::gc::Cell *) RootingAPI.h:407
JS::AssertObjectIsNotGray(JSObject *) RootingAPI.h:412
js::ContextChecks::checkObject(JSObject *) JSContext-inl.h:95
js::ContextChecks::check(JSObject *,int) JSContext-inl.h:89
JSContext::checkImpl&lt;JS::Handle&lt;JSObject *&gt;,JS::Handle&lt;JS::PropertyKey&gt;,JS::Handle&lt;JS::Value&gt; &gt;(const JS::Handle&lt;JSObject *&gt; &amp;,const JS::Handle&lt;JS::PropertyKey&gt; &amp;,const JS::Handle&lt;JS::Value&gt; &amp;) JSContext-inl.h:206
JSContext::check&lt;JS::Handle&lt;JSObject *&gt;,JS::Handle&lt;JS::PropertyKey&gt;,JS::Handle&lt;JS::Value&gt; &gt;(const JS::Handle&lt;JSObject *&gt; &amp;,const JS::Handle&lt;JS::PropertyKey&gt; &amp;,const JS::Handle&lt;JS::Value&gt; &amp;) JSContext-inl.h:213
DefineDataPropertyById(JSContext *,Handle&lt;JSObject *&gt;,Handle&lt;JS::PropertyKey&gt;,Handle&lt;JS::Value&gt;,unsigned int) jsapi.cpp:2180
DefineDataProperty(JSContext *,Handle&lt;JSObject *&gt;,const char *,Handle&lt;JS::Value&gt;,unsigned int) jsapi.cpp:2262
JS_DefineProperty(JSContext *,Handle&lt;JSObject *&gt;,const char *,Handle&lt;JS::Value&gt;,unsigned int) jsapi.cpp:2268
ion::objects::object::IonObject::define(mozjs_sys::generated::root::JSContext *,String,Value,unsigned int) object.rs:112
runtime::globals::console::define(mozjs_sys::generated::root::JSContext *,IonObject) console.rs:498
runtime::init(mozjs_sys::generated::root::JSContext *,IonObject) lib.rs:21
cli::commands::repl::start_repl() repl.rs:31
cli::main() main.rs:74
core::ops::function::FnOnce::call_once&lt;fn(),tuple&lt;&gt;&gt;(void (*)()) function.rs:227
std::sys_common::backtrace::__rust_begin_short_backtrace&lt;fn(),tuple&lt;&gt;&gt;(void (*)()) backtrace.rs:125
std::rt::lang_start::{{closure}}&lt;tuple&lt;&gt;&gt;(std::rt::lang_start::closure-0 *) rt.rs:66
std::rt::lang_start_internal() rt.rs:51
std::rt::lang_start&lt;tuple&lt;&gt;&gt;(void (*)(),long long,unsigned char **) rt.rs:65
main 0x00007ff71faa5320
__scrt_common_main_seh() 0x00007ff72150830c
BaseThreadInitThunk 0x00007ffcc1837c24
RtlUserThreadStart 0x00007ffcc252d721
</code></pre>
</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Jul 07 2021 01:14:34 GMT-0700 (Pacific Daylight Time)">08:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Line 14 is the one I'm calling</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Jul 07 2021 01:16:22 GMT-0700 (Pacific Daylight Time)">08:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what's the value of <code>obj</code> argument of <code>JS_DefineProperty</code> ?</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Jul 07 2021 01:16:37 GMT-0700 (Pacific Daylight Time)">08:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">maybe, it sounds like that is <code>nullptr</code></td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Jul 07 2021 01:18:58 GMT-0700 (Pacific Daylight Time)">08:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">I have this feeling that this <code>Handle</code> is outliving the <code>RootedGuard</code> which is what is causing it</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Jul 07 2021 01:19:37 GMT-0700 (Pacific Daylight Time)">08:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what is RootedGuard ?</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Jul 07 2021 01:20:44 GMT-0700 (Pacific Daylight Time)">08:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><p><code>JS_DefineProperty(cx, rooted.handle().into(), <a href="http://key.as">key.as</a>_ptr() as *const i8, rval.handle().into(), attrs);</code></p>
<pre><code class="language-rs">pub unsafe fn handle(&amp;self, cx: *mut JSContext) -&gt; Handle&lt;*mut JSObject&gt; {
	rooted!(in(cx) let rooted = self.raw());
	rooted.handle().into();
}
</code></pre>
<p>RootedGuard: <a href="https://doc.servo.org/mozjs/rust/struct.RootedGuard.html">https://doc.servo.org/mozjs/rust/struct.RootedGuard.html</a><br>rooted!: <a href="https://doc.servo.org/mozjs/macro.rooted.html">https://doc.servo.org/mozjs/macro.rooted.html</a></p>
</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Jul 07 2021 01:21:45 GMT-0700 (Pacific Daylight Time)">08:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if you've extracted the handle directly from rooted, it won't outlive I guess</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Jul 07 2021 01:22:02 GMT-0700 (Pacific Daylight Time)">08:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what's the value of <code>rooted</code> there ?</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Jul 07 2021 01:22:13 GMT-0700 (Pacific Daylight Time)">08:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">does it contain valid object pointer?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Jul 07 2021 01:28:44 GMT-0700 (Pacific Daylight Time)">08:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">just tested without using theseperate function, and yep, it doesn't outlive when I do this instead</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Jul 07 2021 01:30:59 GMT-0700 (Pacific Daylight Time)">08:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">might have to add a lifetime to this struct then</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Jul 07 2021 11:49:44 GMT-0700 (Pacific Daylight Time)">18:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@theqwertiest:mozilla.org">TheQwertiest</span>&gt;</div></td><td class="msg-cell">hey everyone!
a small question (probably not for this channel though), does anyone know if there is any task prioritization in firefox event loop? (e.g. redraw vs mouse events vs timers and etc)
It seems I've reached the limit of what I can do with SM without a proper html event loop and now I have to implement one as well...</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Jul 07 2021 11:53:07 GMT-0700 (Pacific Daylight Time)">18:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@theqwertiest:mozilla.org">TheQwertiest</span>&gt;</div></td><td class="msg-cell">and I've felt a little dead inside just by looking at the mozilla code that implements timers properly (i.e. setTimeout/setInterval stuff)...</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Jul 07 2021 11:56:20 GMT-0700 (Pacific Daylight Time)">18:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@theqwertiest:mozilla.org">TheQwertiest</span>&gt;</div></td><td class="msg-cell">though it's a pretty ingenious idea to implement all timers with only a single timeout timer</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Jul 07 2021 12:17:58 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">TheQwertiest</span>: The <a href="https://matrix.to/#/#dom:mozilla.org">#dom:mozilla.org</a> channel is a better place to ask about event loop stuff. I know for things like IPC we treat input stuff as a higher priority, but I'm not sure if you are allowed to reorder events if it would be visible to the page.</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Jul 07 2021 12:18:46 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@theqwertiest:mozilla.org">TheQwertiest</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-13">TheQwertiest</span>: The <a href="https://matrix.to/#/#dom:mozilla.org">#dom:mozilla.org</a> channel is a better place to ask about event loop stuff. I know for things like IPC we treat input stuff as a higher priority, but I'm not sure if you are allowed to reorder events if it would be visible to the page.</blockquote></mx-reply>thanks!</td></tr>

</tbody></table></div></div></div>
</body></html>