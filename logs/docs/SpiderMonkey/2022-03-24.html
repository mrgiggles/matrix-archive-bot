<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2022-03-24</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2022-03-24<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-03-23" class="nav-link"><span>prev</span></a>
<a href="2022-03-25" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search SpiderMonkey">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Mar 24 2022 04:00:28 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">iain</span>: <code>sc-&gt;noScriptRval() == true</code> is enough for checking "top level, non-eval".</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Mar 24 2022 04:00:46 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><del>so the above code can be simplified</del></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Mar 24 2022 04:25:24 GMT-0700 (Pacific Daylight Time)">11:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">err, "non-eval" is inaccurate.  it's used for some more things (event listener etc).  but anyway, you don't need to check <code>isTopLevelContext()</code> to omit GetRval/SetRval in finally</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Mar 24 2022 06:19:07 GMT-0700 (Pacific Daylight Time)">13:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">Heya. So, Iâ€™ll be presenting <code>Intl.MessageFormat</code> for Stage-1 at TC39 next week, and would appreciate a bit of review/feedback. In particular, does our <a href="https://github.com/dminor/proposal-intl-messageformat/blob/more-intro/README.md">readme</a> introduce the problem space and motivation well enough? <span class="nick-9">dminor</span> and I are perhaps a bit too close to the subject to really be able to say whether it makes it clear why this is important.</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Mar 24 2022 06:37:31 GMT-0700 (Pacific Daylight Time)">13:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">eemeli</span>: is there any difference between the existing system and the proposal, for "localization often relies on parsing these custom formats during the runtime or rendering of an application." in the Motivation's first paragraph ?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Mar 24 2022 06:40:17 GMT-0700 (Pacific Daylight Time)">13:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><ol>
<li>The syntax/format isn't custom, as it's getting specified by Unicode.</li>
<li>The parsing would be done by the native implementation, rather than JS code that needs to be deployed to the client.</li>
</ol>
</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Mar 24 2022 06:40:53 GMT-0700 (Pacific Daylight Time)">13:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">But I think I understand your point; some syntax is indeed still getting parsed at runtime.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Mar 24 2022 06:41:50 GMT-0700 (Pacific Daylight Time)">13:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I see.  also, I think it would be nice to mention "2" there, if deployment/traffic is part of the problem</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Mar 24 2022 06:42:19 GMT-0700 (Pacific Daylight Time)">13:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">(it's also possible to transpile the messages into JS functions during the application's build, but afaik only my <code>messageformat</code> lib does that)</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Mar 24 2022 06:44:09 GMT-0700 (Pacific Daylight Time)">13:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I see.  also, I think it would be nice to mention "2" there, if deployment/traffic is part of the problem</blockquote></mx-reply>It is a part of the problem; I'll see about making that part clearer.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Mar 24 2022 07:04:00 GMT-0700 (Pacific Daylight Time)">14:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">eemeli</span>: what are the specific problems for translators?  having many different formats?  or having many different tools for each project?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Mar 24 2022 07:06:01 GMT-0700 (Pacific Daylight Time)">14:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">(I've done some translation in the past, and the latter was problematic for me, but I haven't thought about format at the point</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Mar 24 2022 07:14:49 GMT-0700 (Pacific Daylight Time)">14:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">is it correct that the benefit for translators is that they can use their favorite tool for any project?  the second paragraph mentions standard tooling. does it include existing tools that is going to support MF2 ?  or is there any plan for creating a new standard tool?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Mar 24 2022 07:37:41 GMT-0700 (Pacific Daylight Time)">14:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell"><p>For translators, MF2 is doing at least three different things that are intended to make life easier:</p>
<ol>
<li>Individual messages are more linear. This matters e.g. for messages with plural cases, where the syntax &amp; data model requires something like</li>
</ol>
<pre><code>n === 1 ? `You have 1 new message` : `You have ${n} new messages`
</code></pre>
<p>as opposed to</p>
<pre><code>`You have ` + n === 1 ? `1 new message` : `${n} new messages`
</code></pre>
<p>which is how existing formats (e.g. MF1 and Fluent) allow you to represent a message. The former is <em>much</em> easier for translators.</p>
<ol start="2">
<li>
<p>Drawing on quite a bit of experience, we're developing a plaintext syntax that's easy to understand, edit, and parse, so that those who end up working on MF2 resource files directly have a best possible experience.</p>
</li>
<li>
<p>With the work on the data model, we're creating a common target for all message formatting syntaxes and formats. Effectively, we're building the foundations for making it easy to transform messages from one representation to another. This ought to ensure that we can make it easier to use existing tools with the new shiny stuff, and to find representations of complex messages that are easier for translators to work with.</p>
</li>
</ol>
</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Mar 24 2022 07:39:18 GMT-0700 (Pacific Daylight Time)">14:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">Quite a lot of that is of course outside the scope of this <code>Intl.MessageFormat</code> proposal.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Mar 24 2022 07:41:50 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">One particular thing that we're doing in parallel is defining the XLIFF 2 representation of MF2 messages, as well as the transforms to and from XLIFF; that'll make not only plugging into a lot of the existing tooling directly easier, but it also provides an example basis for similar transforms for any other formats.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Mar 24 2022 07:50:06 GMT-0700 (Pacific Daylight Time)">14:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">sorry, give me some more time for thinking about it</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Mar 24 2022 08:09:22 GMT-0700 (Pacific Daylight Time)">15:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-6">eemeli</span>: how do you think about separating the problem space for MF2 and <code>Intl.MessageFormat</code> ?  I think, if the document is for people who don't know much about MF2, the Motivation part isn't much clear about what problem is solved by MF2, or <code>Intl.MessageFormat</code></td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Mar 24 2022 08:14:36 GMT-0700 (Pacific Daylight Time)">15:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">That separation is somewhat difficult, as <code>Intl.MessageFormat</code> is an implementation of MF2. So the whole set of benefits is only really realised by the combination of both.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Mar 24 2022 08:16:21 GMT-0700 (Pacific Daylight Time)">15:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">So while the proposal is about implementing a syntax parser and a message formatter, those are rather essential parts for enabling all the things that the MF2 spec enables.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Mar 24 2022 08:16:39 GMT-0700 (Pacific Daylight Time)">15:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@eemeli:mozilla.org">eemeli</span>&gt;</div></td><td class="msg-cell">(in the JS ecosystem, that is)</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Mar 24 2022 08:36:26 GMT-0700 (Pacific Daylight Time)">15:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">hm, I see</td></tr>

</tbody></table></div></div></div>
</body></html>