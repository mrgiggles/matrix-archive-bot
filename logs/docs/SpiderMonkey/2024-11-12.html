<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2024-11-12</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2024-11-12<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-11-11" class="nav-link"><span>prev</span></a>
<a href="2024-11-13" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Nov 12 2024 01:40:37 GMT-0800 (Pacific Standard Time)">09:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">how expensive are DOM access from spidermonkey and is there a huge difference between DOM writes and DOM reads? more specifically, how bad would performance degrade when each DOM write/read would cost additional 300 cycles CPU cycles?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Nov 12 2024 01:41:11 GMT-0800 (Pacific Standard Time)">09:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">would you expect benchmarks to nosedive or is this in the area of "barely noticeable"?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Nov 12 2024 01:52:08 GMT-0800 (Pacific Standard Time)">09:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what kind of read/write is it?  a property access on the DOM object, such as <code>link.href</code> ?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Nov 12 2024 01:52:58 GMT-0800 (Pacific Standard Time)">09:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">exactly</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Nov 12 2024 01:54:04 GMT-0800 (Pacific Standard Time)">09:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">or something like <code>window.preamble.textContent;</code></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Nov 12 2024 01:55:43 GMT-0800 (Pacific Standard Time)">09:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@ms2ger:igalia.com">Ms2ger</span>&gt;</div></td><td class="msg-cell">I would ask bz, but that'll be hard now. Maybe <span class="nick-3">peterv</span> or <span class="nick-4">smaug</span> has the order of magnitude in their head</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Nov 12 2024 01:56:14 GMT-0800 (Pacific Standard Time)">09:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@ms2ger:igalia.com">Ms2ger</span>&gt;</div></td><td class="msg-cell">But some of those are definitely very hot</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Nov 12 2024 01:58:26 GMT-0800 (Pacific Standard Time)">09:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">in most case they're accessors defined on the prototype, and those accessors generated by the bindgen has JitInfo (<a href="https://searchfox.org/mozilla-central/source/__GENERATED__/dom/bindings/NodeBinding.cpp#809">example</a></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Nov 12 2024 01:59:53 GMT-0800 (Pacific Standard Time)">09:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">where would the additional 300 cycles happen ?  inside the binding (e.g. <a href="https://searchfox.org/mozilla-central/source/__GENERATED__/dom/bindings/NodeBinding.cpp#768">Node_Binding::set_textContent</a>), or inside the underlying implemnetation (<a href="https://searchfox.org/mozilla-central/rev/f732a1651018b7c32002981a9c8b8613975ffbf9/dom/base/nsINode.h#1751">nsINode::SetTextContent</a>) or somewhere else?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Nov 12 2024 02:00:38 GMT-0800 (Pacific Standard Time)">10:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">I was going to say, if bz was still here he might have a heart attack.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Nov 12 2024 02:00:38 GMT-0800 (Pacific Standard Time)">10:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">inside the binding</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Nov 12 2024 02:03:14 GMT-0800 (Pacific Standard Time)">10:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">the fact that specialized JIT paths exist indicate high performance sensitivity :D I was wondering whether DOM writes anyways cause so much other work that 300 cycles would be dwarfed, relatively speaking</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Nov 12 2024 02:03:46 GMT-0800 (Pacific Standard Time)">10:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@ms2ger:igalia.com">Ms2ger</span>&gt;</div></td><td class="msg-cell">Depends on the case</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Nov 12 2024 02:03:53 GMT-0800 (Pacific Standard Time)">10:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">Yeah.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Nov 12 2024 02:03:55 GMT-0800 (Pacific Standard Time)">10:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, the additional cycles happen on most of the get/set bindings?  then I would expect it to be somewhat noticeable  (not sure how much tho)</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Nov 12 2024 02:03:56 GMT-0800 (Pacific Standard Time)">10:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">as always :D </td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Nov 12 2024 02:04:30 GMT-0800 (Pacific Standard Time)">10:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">"Dom Writes" is a bad term, either use setter or method please. Unless you literally mean changes the DOM?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Nov 12 2024 02:07:20 GMT-0800 (Pacific Standard Time)">10:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">noted. I meant "SM reading/writing properties of objects which are part of the DOM", if that makes more sense?</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Nov 12 2024 02:08:05 GMT-0800 (Pacific Standard Time)">10:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, that excludes the actual underlying behavior that's performed on the DOM side when the read/write is triggered?</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Nov 12 2024 02:08:33 GMT-0800 (Pacific Standard Time)">10:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Nov 12 2024 02:08:56 GMT-0800 (Pacific Standard Time)">10:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">sounds really bad to me, imo. I remember bz optimizing the bindings on the order of nanoseconds</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Nov 12 2024 02:09:59 GMT-0800 (Pacific Standard Time)">10:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">this sounds like a constant overhead for anything that isn't just pure JS object code</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Nov 12 2024 02:10:58 GMT-0800 (Pacific Standard Time)">10:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">things would be so much easier if it weren't for performance -.-</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Nov 12 2024 02:11:43 GMT-0800 (Pacific Standard Time)">10:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">does the additional operation need to be performed on all getter/setter calls?</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Nov 12 2024 02:12:38 GMT-0800 (Pacific Standard Time)">10:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">(all properties? both first, and subsequent calls on single property?)</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Nov 12 2024 02:15:12 GMT-0800 (Pacific Standard Time)">10:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">not necessarily all getters/setters. just setters would be sufficient. but all subsequent calls on the same property setter would add cost</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Nov 12 2024 02:17:23 GMT-0800 (Pacific Standard Time)">10:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yeah, that would be something we would want to avoid in general.  maybe we should look into the details of the operation, if we're to discuss further</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Nov 12 2024 02:21:17 GMT-0800 (Pacific Standard Time)">10:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@emilio:mozilla.org">emilio</span>&gt;</div></td><td class="msg-cell">What are you trying to do exactly? Can it be optimized so it only happens once or so?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Nov 12 2024 03:14:56 GMT-0800 (Pacific Standard Time)">11:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@pvanderbeken:mozilla.org">peterv</span>&gt;</div></td><td class="msg-cell">bz at some point started counting cycles for specific getters/setters, so 300 sounds like a no</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Nov 12 2024 03:48:41 GMT-0800 (Pacific Standard Time)">11:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@lbe:mozilla.org">l11d</span>&gt;</div></td><td class="msg-cell">I hope not to tread on anyone's toes when saying that mere mortals cannot write bulletproof JIT compilers, at least not with the technology available today. Even a complete rewrite of SM in Rust would do little to rectify the situation, as logical flaws in JIT compilers can escalate to memory corruption. Hence, I'm thinking about future research directions in JS security, particularly more principled ways. My thoughts center on VM-based security, but if 300 cycles overhead (minimum cost of vmenter/vmexit) are a no-go already, this might not be viable</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Nov 12 2024 04:27:24 GMT-0800 (Pacific Standard Time)">12:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">according to the crash reports, all crashes (afaics) happen when fulfilling a promise that was created with pending state and the onFulfilled handler added before the resolution</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue Nov 12 2024 05:03:52 GMT-0800 (Pacific Standard Time)">13:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, the hostDefinedObject is first stored into the <code>PromiseReactionRecord</code>'s HostDefinedData slot, and then kept there for a while, and then passed to <code>CycleCollectedJSContext::enqueuePromiseJob</code> later</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue Nov 12 2024 05:05:02 GMT-0800 (Pacific Standard Time)">13:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">given the other cases (e.g. adding reaction on already-resolved promise) don't hit the crash, it would be something specific to that scenario</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue Nov 12 2024 05:11:57 GMT-0800 (Pacific Standard Time)">13:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">possibility is either the hostDefinedObject's slot is modified while it's stored into the reaction record and the <code>INCUMBENT_SETTING_SLOT</code> slot is set to undefined value, or a wrong object is returned from the reaction record where the object has undefined in the 0-th reserved slot</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue Nov 12 2024 05:22:17 GMT-0800 (Pacific Standard Time)">13:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yet another possibility is that it's pre-existing issue which appears as different crash signature, but I'm not aware of the case</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue Nov 12 2024 07:23:41 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> isInt32 will check if a number is an integer. isDouble which check if it is potentially a decimal.</blockquote></mx-reply><code>isInt32()</code> fails for uint32 max value and <code>isDouble()</code> is true</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue Nov 12 2024 07:27:34 GMT-0800 (Pacific Standard Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">Do I have to do <code>toNumber()</code> and manually see if it's not a decimal and fits into uint32?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue Nov 12 2024 07:32:56 GMT-0800 (Pacific Standard Time)">15:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">hm... what is it that you are trying to do, and in which part of the code base?</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue Nov 12 2024 07:33:34 GMT-0800 (Pacific Standard Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">storing a uint32 in JS then bringing it back into the C++ side</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue Nov 12 2024 07:34:07 GMT-0800 (Pacific Standard Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">ok, so it is coming in from js code, and you are calling into the engine. do you want to store it as a uint32 for memory efficiency sake?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue Nov 12 2024 07:35:13 GMT-0800 (Pacific Standard Time)">15:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">in C++ outside of JS? yeah, shortest bitwidth</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue Nov 12 2024 07:37:21 GMT-0800 (Pacific Standard Time)">15:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">Ok, the engine afaik (maybe someone correct me if i am wrong) only distinguishes between int32 and double when it comes from JS. if you are storing a max uint32 it will overflow the int32 check, and normally we store that as a double even if it can be stored potentially as a uint32, as it is coming from JS, and it is technically signed (it has a positive sign). There isn't enough room inside of word to represent that accurately </td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue Nov 12 2024 07:39:18 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">if you want to approach it in a way that might not be natural in terms of thinking about it in order to fill a word, rather than using uint32 max, you can use -1</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue Nov 12 2024 07:39:26 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">a double can hold a uint32 however</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue Nov 12 2024 07:39:31 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">yep</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue Nov 12 2024 07:39:46 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">but recall, its coming from JS -- because of that, it is not a uint32</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue Nov 12 2024 07:39:49 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">it just looks like one</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue Nov 12 2024 07:40:23 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">if you want to represent uint32_max it would really be -1. those values are equivalent</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue Nov 12 2024 07:40:37 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">in the end it all depends on what you are trying to do though</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue Nov 12 2024 07:42:51 GMT-0800 (Pacific Standard Time)">15:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">uint32_max wouldn't be -1 in the double however, so if I do <code>toNumber()</code> I would get the appropriate value</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue Nov 12 2024 07:43:35 GMT-0800 (Pacific Standard Time)">15:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@yulia:mozilla.org">yulia | PTO</span>&gt;</div></td><td class="msg-cell">thats correct</td></tr>

</tbody></table></div></div></div>
</body></html>