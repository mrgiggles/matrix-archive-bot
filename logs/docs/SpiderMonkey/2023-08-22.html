<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2023-08-22</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2023-08-22<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-08-20" class="nav-link"><span>prev</span></a>
<a href="2023-08-23" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Aug 22 2023 09:41:54 GMT-0700 (Pacific Daylight Time)">16:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@elliottt:mozilla.org">elliottt</span>&gt;</div></td><td class="msg-cell">i've been working on updating the fastly javascript sdk to spidermonkey 116, and noticed strange behavior around one specific test in our CI: the test raises "out of memory" if there is a string template with function calls inside it, in a branch that's never executed. naming the parts of the template that have function calls in it and using those names causes the problem to disappear. has anything changed with how string templates are handled that would make their presence in a function change behavior, even when they're on a path that's not executed?

an additional wrinkle here is that i've only been able to reproduce this in CI, and it's in response to ssl requests from within github ci.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Aug 22 2023 09:48:02 GMT-0700 (Pacific Daylight Time)">16:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">O.o That seems very peculiar. If you could write up anything about this an open a bug, because it's All Hands this week, you're going to get relatively long feedback time right now</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Aug 22 2023 09:48:39 GMT-0700 (Pacific Daylight Time)">16:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">(And I know it would be a lot of work, but a bisection of any sort would also help) </td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Aug 22 2023 09:48:44 GMT-0700 (Pacific Daylight Time)">16:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@elliottt:mozilla.org">elliottt</span>&gt;</div></td><td class="msg-cell">i've been trying to minimize it and get it reproducible outside of ci, and will continue working on that. worst case i'll have a minimal case that i can show a failure in ci :)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Aug 22 2023 09:49:08 GMT-0700 (Pacific Daylight Time)">16:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@elliottt:mozilla.org">elliottt</span>&gt;</div></td><td class="msg-cell">i'll have a look at the diff between the 115 release we were using and 116 to see if anything jumps out</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Aug 22 2023 09:53:53 GMT-0700 (Pacific Daylight Time)">16:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><a href="https://www.mgaudet.ca/technical/2020/9/1/how-do-generators-generate-in-spidermonkey">https://www.mgaudet.ca/technical/2020/9/1/how-do-generators-generate-in-spidermonkey</a> </td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Aug 22 2023 12:14:59 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@elliottt:mozilla.org">elliottt</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> O.o That seems very peculiar. If you could write up anything about this an open a bug, because it's All Hands this week, you're going to get relatively long feedback time right now</blockquote></mx-reply>unfortunately i've now lost the ability to reproduce this in ci. i'll watch for it and work on minimizing if it shows up again :(</td></tr>

</tbody></table></div></div></div>
</body></html>