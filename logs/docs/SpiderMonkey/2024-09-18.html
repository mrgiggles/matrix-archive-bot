<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2024-09-18</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2024-09-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-09-17" class="nav-link"><span>prev</span></a>
<a href="2024-09-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search SpiderMonkey">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Sep 18 2024 00:34:46 GMT-0700 (Pacific Daylight Time)">07:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">kfjvj</span>: what's the backtrace for the assertion failure? and how does your code look like?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Sep 18 2024 07:01:20 GMT-0700 (Pacific Daylight Time)">14:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">is there a shell command or something to run speedometer3 (like say <code>./mach run speedometer3</code>)? or do i have to like build the browser and run <a href="https://browserbench.org/Speedometer3.0/">https://browserbench.org/Speedometer3.0/</a> ?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Sep 18 2024 07:02:04 GMT-0700 (Pacific Daylight Time)">14:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I thought <code>./mach raptor --browsertime --test speedometer3</code> would do</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Sep 18 2024 07:02:13 GMT-0700 (Pacific Daylight Time)">14:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">with a browser build</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Sep 18 2024 07:03:18 GMT-0700 (Pacific Daylight Time)">14:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">debadree25</span>: starting the browser and going to the website is what I'd do in this case</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Sep 18 2024 07:06:14 GMT-0700 (Pacific Daylight Time)">14:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">understood thank you!</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Sep 18 2024 07:56:45 GMT-0700 (Pacific Daylight Time)">14:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-15">kfjvj</span>: what's the backtrace for the assertion failure? and how does your code look like?</blockquote></mx-reply>The backtrace is pretty complex and it involves a lot of our code.  I was wondering if someone knew what it means for a gc thing to be "forwarded", and under what conditions something may or may not be forwarded.  I thought it would shed some light on my investigation.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Sep 18 2024 07:58:30 GMT-0700 (Pacific Daylight Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> The backtrace is pretty complex and it involves a lot of our code.  I was wondering if someone knew what it means for a gc thing to be "forwarded", and under what conditions something may or may not be forwarded.  I thought it would shed some light on my investigation.</blockquote></mx-reply><p>However, here is a portion of the trace that doesn't involve our code.</p>
<pre><code>#0  0x00007f8fd8215eb9 in bool js::gc::IsAboutToBeFinalizedInternal&lt;JSObject&gt;(JSObject*) () from /home/dpetro17/host_workspace/dcp/build/deployStage/usr/lib/libmozjs-102.so
#1  0x00007f8fd79a8518 in js::ContextChecks::check(JSObject*, int) () from /home/dpetro17/host_workspace/dcp/build/deployStage/usr/lib/libmozjs-102.so
#2  0x00007f8fd7ca1c00 in void JSContext::checkImpl&lt;JS::Handle&lt;JSObject*&gt;, JS::Handle&lt;JS::PropertyKey&gt;, JS::Handle&lt;JS::Value&gt; &gt;(JS::Handle&lt;JSObject*&gt; const&amp;, JS::Handle&lt;JS::PropertyKey&gt; const&amp;, JS::Handle&lt;JS::Value&gt; const&amp;) () from /home/dpetro17/host_workspace/dcp/build/deployStage/usr/lib/libmozjs-102.so
#3  0x00007f8fd7cb7858 in JS_SetPropertyById(JSContext*, JS::Handle&lt;JSObject*&gt;, JS::Handle&lt;JS::PropertyKey&gt;, JS::Handle&lt;JS::Value&gt;) () from /home/dpetro17/host_workspace/dcp/build/deployStage/usr/lib/libmozjs-102.so
#4  0x00007f8fd7cb7af0 in JS_SetProperty(JSContext*, JS::Handle&lt;JSObject*&gt;, char const*, JS::Handle&lt;JS::Value&gt;) () from /home/dpetro17/host_workspace/dcp/build/deployStage/usr/lib/libmozjs-102.so
</code></pre>
</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Sep 18 2024 07:59:41 GMT-0700 (Pacific Daylight Time)">14:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">kfjvj</span>: looks like a problem with your rooting or tracing of the object you pass to <code>JS_SetProperty</code></td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Sep 18 2024 08:00:08 GMT-0700 (Pacific Daylight Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">can you share the caller of <code>JS_SetProperty</code> ?  where do the parameters come from?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Sep 18 2024 08:02:11 GMT-0700 (Pacific Daylight Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> can you share the caller of <code>JS_SetProperty</code> ?  where do the parameters come from?</blockquote></mx-reply><pre><code>static constexpr char kQfField[] = "qf";
static constexpr char kMsField[] = "ms";
static constexpr char kValueField[] = "value";

JS::Value toJsHelper(JSContext* ctx, const vsp::os::dcp::AlphaNumericDataBase&amp; data, const JS::Value&amp; valueField) {
    JS::RootedObject obj{ctx, JS_NewPlainObject(ctx)};
    if (!JS_SetProperty(ctx, obj, kQfField, JS::RootedValue(ctx, vs::scripting::conversions::ToJs(ctx, data.qf)))) {
        return JS::NullValue();
    }

    if (!JS_SetProperty(ctx, obj, kMsField, JS::RootedValue(ctx, vs::scripting::conversions::ToJs(ctx, data.ms)))) {
        return JS::NullValue();
    }

    if (!JS_SetProperty(ctx, obj, kValueField, JS::RootedValue(ctx, valueField))) {
        return JS::NullValue();
    }

    return JS::ObjectOrNullValue(obj.get());
}
</code></pre>
</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Sep 18 2024 08:02:21 GMT-0700 (Pacific Daylight Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell">And now that I'm typing that, I think I see the problem.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Sep 18 2024 08:02:48 GMT-0700 (Pacific Daylight Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">RootedValue should be allocated on stack</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Sep 18 2024 08:03:16 GMT-0700 (Pacific Daylight Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell">Yep... I was looking way too closely in the wrong place.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Sep 18 2024 08:03:21 GMT-0700 (Pacific Daylight Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell">Thanks for your help.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Sep 18 2024 08:04:10 GMT-0700 (Pacific Daylight Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">also, use a <code>Handle</code> for the <code>valueField</code> argument</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Sep 18 2024 08:04:49 GMT-0700 (Pacific Daylight Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> also, use a <code>Handle</code> for the <code>valueField</code> argument</blockquote></mx-reply>I thought valueField was supposed to be a char*</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Sep 18 2024 08:05:38 GMT-0700 (Pacific Daylight Time)">15:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">just to be clear, I mean, RootedValue should be a local variable there, and the local variable should live acorss the JS_SetProperty call.  otherwise it's destructed before calling JS_SetProperty</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Sep 18 2024 08:06:04 GMT-0700 (Pacific Daylight Time)">15:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">I meant the <code>JS::Value&amp; valueField</code> argument should be a <code>Handle</code></td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Sep 18 2024 08:06:37 GMT-0700 (Pacific Daylight Time)">15:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> just to be clear, I mean, RootedValue should be a local variable there, and the local variable should live acorss the JS_SetProperty call.  otherwise it's destructed before calling JS_SetProperty</blockquote></mx-reply>Oh yes, I understand precisely what you mean.  As soon as I copied that code I saw the issue.  Not everyone on my team knows the proper use of the rooting API, and I had missed it before.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Sep 18 2024 08:11:38 GMT-0700 (Pacific Daylight Time)">15:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I wonder if <a href="https://searchfox.org/mozilla-central/source/build/clang-plugin">our clang plugin</a> works on embeddings.  we have annotations for those classes (<a href="https://searchfox.org/mozilla-central/rev/a13db27562f9237db97e2ea5b01dc879d5b55b74/js/public/RootingAPI.h#1164">MOZ_RAII</a> in this case) to prevent that kind of misuse.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Sep 18 2024 08:18:50 GMT-0700 (Pacific Daylight Time)">15:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell">As a side note to the above discussion, I'm surprised our code compiled at all.  I thought that JS::Rooted had deleted move-constructors.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Sep 18 2024 08:21:05 GMT-0700 (Pacific Daylight Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@kfjvj:matrix.org">kfjvj</span>&gt;</div></td><td class="msg-cell">Although I suppose that the if the function in question is converting from Rooted to Handle, that would bypass any need for a move constructor.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Sep 18 2024 10:04:07 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell"><p>is there any additional installation of libraries etc required if i am building with <code>--with-temporal-api</code> I get this linker error whenever i try:</p>
<pre><code>06.51 ld64.lld: error: undefined symbol: ICU4XCalendar_destroy
 1:06.51 &gt;&gt;&gt; referenced by Calendar.cpp:1228 (/Users/debadreechatterjee/Documents/personal/mozilla-unified/js/src/builtin/temporal/Calendar.cpp:1228)
 1:06.51 &gt;&gt;&gt;               ../builtin/temporal/Unified_cpp_builtin_temporal0.o:(symbol BuiltinCalendarDay(JSContext*, js::temporal::CalendarId, js::temporal::PlainDate const&amp;, JS::MutableHandle&lt;JS::Value&gt;)+0xe4)
 1:06.51 &gt;&gt;&gt; referenced by Calendar.cpp:1228 (/Users/debadreechatterjee/Documents/personal/mozilla-unified/js/src/builtin/temporal/Calendar.cpp:1228)
</code></pre>
</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Sep 18 2024 10:04:51 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">any chance you're using the same obj directory as different configuration?</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Sep 18 2024 10:05:26 GMT-0700 (Pacific Daylight Time)">17:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if that's the case, using different obj directory, or <code>./mach clobber</code> to remove the obj directory can solve that kind of linker issue sometimes</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Sep 18 2024 10:06:25 GMT-0700 (Pacific Daylight Time)">17:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell">ohh yes i am ah! trying</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Sep 18 2024 10:18:06 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@mgaudet:mozilla.org">mgaudet|sick</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-12">debadree25</span>: Something you'll see in all my mozconfigs is that each configuration gets its own object directory: <a href="https://github.com/mgaudet/mozconfigs/blob/master/debug_shell.mozconfig#L15">https://github.com/mgaudet/mozconfigs/blob/master/debug_shell.mozconfig#L15</a></p>
<p>It's pretty wasteful from a disk-space usage perspective (though cleanup is easy... <code>rm -rf obj-*</code>), but it's nice for avoiding these sorts of config-change issues</p>
</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Sep 18 2024 10:23:17 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Hrm... the problem of having too many source directories is you can lose a patch :P </td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Sep 18 2024 10:29:34 GMT-0700 (Pacific Daylight Time)">17:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">Bryan Thrall [:bthrall]</span>: I forgot to mention my number one pain point! Python. I literally cannot with python these days. It seems like literally any time I have to do anything with python it's wrong, broken, or yells at me .</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Sep 18 2024 10:30:08 GMT-0700 (Pacific Daylight Time)">17:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">I truly loathe how much mozilla development relies on python as a result of this pain </td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Sep 18 2024 10:31:20 GMT-0700 (Pacific Daylight Time)">17:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><a href="https://gist.github.com/mgaudet/b42b078859b26d1f8ddb0f4c2a344564">https://gist.github.com/mgaudet/b42b078859b26d1f8ddb0f4c2a344564</a> is the latest</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Sep 18 2024 10:31:54 GMT-0700 (Pacific Daylight Time)">17:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">And the problem with all this python stuff is that I can't get into a reliable state where I understand how all the pieces work and everything can be managed smoothly. Instead, I just live in this space where everything is gently broken at all times </td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Sep 18 2024 10:32:59 GMT-0700 (Pacific Daylight Time)">17:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@debadree25:mozilla.org">debadree25</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <p><span class="nick-12">debadree25</span>: Something you'll see in all my mozconfigs is that each configuration gets its own object directory: <a href="https://github.com/mgaudet/mozconfigs/blob/master/debug_shell.mozconfig#L15">https://github.com/mgaudet/mozconfigs/blob/master/debug_shell.mozconfig#L15</a></p>
<p>It's pretty wasteful from a disk-space usage perspective (though cleanup is easy... <code>rm -rf obj-*</code>), but it's nice for avoiding these sorts of config-change issues</p>
</blockquote></mx-reply>Ah i see got it! its normally ok my laptop has lot of space and i have nothing else on it hehe :-)</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Sep 18 2024 10:33:30 GMT-0700 (Pacific Daylight Time)">17:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Ah i see got it! its normally ok my laptop has lot of space and i have nothing else on it hehe :-)</blockquote></mx-reply>Excellent. Hopefully that trick will give you a little more enjoyment during development</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Sep 18 2024 10:35:22 GMT-0700 (Pacific Daylight Time)">17:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> And the problem with all this python stuff is that I can't get into a reliable state where I understand how all the pieces work and everything can be managed smoothly. Instead, I just live in this space where everything is gently broken at all times </blockquote></mx-reply>Oh right <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1876182">https://bugzilla.mozilla.org/show_bug.cgi?id=1876182</a></td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Sep 18 2024 10:38:20 GMT-0700 (Pacific Daylight Time)">17:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">mgaudet</span>: do it like me, install <code>pipx</code>, and pretend the rest never existed</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Sep 18 2024 10:39:26 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">I even have pipx installed! I just don't know how to get my environments all sane and pipx'd </td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Sep 18 2024 10:39:45 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span></div></td><td class="msg-cell">wishes bootstrap would aid here :) </td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Sep 18 2024 10:51:06 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@bvisness:mozilla.org">bvisness</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <a href="https://gist.github.com/mgaudet/b42b078859b26d1f8ddb0f4c2a344564">https://gist.github.com/mgaudet/b42b078859b26d1f8ddb0f4c2a344564</a> is the latest</blockquote></mx-reply>oh yeah I encountered that the other day and it just went away when I restarted my terminal</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Sep 18 2024 10:52:56 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">MADDENING</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Sep 18 2024 10:53:22 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Seriously. I lay 90% of this at the feet of python, but it's legit my number one pain point </td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Sep 18 2024 11:02:05 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Hrm... the problem of having too many source directories is you can lose a patch :P </blockquote></mx-reply>I occasionally will use git worktrees for that. The branch state is shared directly for the different source directories</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Sep 18 2024 11:03:38 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I occasionally will use git worktrees for that. The branch state is shared directly for the different source directories</blockquote></mx-reply>Yeah, I've used that, and mercurial equivalent. In my case, the issue is I have build-machine:{mercurial, git, sapling}, laptop:{mercurial, git, sapling} -- none of which share backing stores</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Sep 18 2024 11:04:15 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">90% of recent work has been in build-machine:git, but occasionally I've had reason to look for patches elsewhere, and so that's a log of hunting. </td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Sep 18 2024 11:04:52 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">(Also bizarrely <code>git log | grep BugNum</code> didn't find the patch that was right freaking there? Until after I did <code>moz-phab patch rev</code> and then I spotted it.)</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Sep 18 2024 11:05:28 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">I was trying to find a way to sync reflogs somehow. What I was going to do whenever my replacement laptop ever arrives is set <code>git maintence</code> to auto fetch from build machine to laptop since most patches originate from build machine, but sometimes I read them from laptop offline</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Sep 18 2024 11:05:45 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><code>git reflog</code> might find it?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Sep 18 2024 13:27:33 GMT-0700 (Pacific Daylight Time)">20:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">Bryan Thrall [:bthrall]</span>: am I correct that the special case in <a href="https://phabricator.services.mozilla.com/D221206">https://phabricator.services.mozilla.com/D221206</a> is removed?</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Sep 18 2024 13:57:33 GMT-0700 (Pacific Daylight Time)">20:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@bthrall:mozilla.org">Bryan Thrall [:bthrall]</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">arai</span>: the case where <code>lineEnd</code> could be zero when <code>line</code> is not zero is now gone, because of the change on js/src/debugger/Debugger.cpp:5411, and checked by the assertion on lines 5804-5805.<br>That is the one you mean, right?</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Sep 18 2024 13:58:23 GMT-0700 (Pacific Daylight Time)">20:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yeah, that one.  and if that's gone, the assertion in <code>scriptIsLineMatch</code> looks unnecessary</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Sep 18 2024 14:04:04 GMT-0700 (Pacific Daylight Time)">21:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@bthrall:mozilla.org">Bryan Thrall [:bthrall]</span>&gt;</div></td><td class="msg-cell">Yes, I think you're right</td></tr>

</tbody></table></div></div></div>
</body></html>