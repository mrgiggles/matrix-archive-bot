<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2021-09-02</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2021-09-02<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-09-01" class="nav-link"><span>prev</span></a>
<a href="2021-09-03" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Sep 02 2021 02:08:26 GMT-0700 (Pacific Daylight Time)">09:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><p>Stacktrace:</p>
<pre><code class="language-rs">JSRuntime::getIncumbentGlobal(JSContext *) Runtime.cpp:573
js::GetObjectFromIncumbentGlobal(JSContext *,MutableHandle&lt;JSObject *&gt;) JSObject.cpp:1828
NewReactionRecord(JSContext *,Handle&lt;PromiseCapability&gt;,Handle&lt;JS::Value&gt;,Handle&lt;JS::Value&gt;,IncumbentGlobalObject) Promise.cpp:4211
InternalAwait&lt;`lambda at C:/Users/Afzal/.cargo/git/checkouts/mozjs-fa11ffc7d4f1cc2d/de147f0/mozjs/js/src/builtin/Promise.cpp:4559:16'&gt;(JSContext *,Handle&lt;JS::Value&gt;,Handle&lt;JSObject *&gt;,PromiseHandler,PromiseHandler,&lt;unnamed-tag&gt;) Promise.cpp:4542
js::AsyncFunctionAwait(JSContext *,Handle&lt;js::AsyncFunctionGeneratorObject *&gt;,Handle&lt;JS::Value&gt;) Promise.cpp:4562
Interpret(JSContext *,js::RunState &amp;) Interpreter.cpp:3754
js::RunScript(JSContext *,js::RunState &amp;) Interpreter.cpp:405
js::ExecuteKernel(JSContext *,Handle&lt;JSScript *&gt;,Handle&lt;JSObject *&gt;,Handle&lt;JS::Value&gt;,AbstractFramePtr,MutableHandle&lt;JS::Value&gt;) Interpreter.cpp:772
js::Execute(JSContext *,Handle&lt;JSScript *&gt;,Handle&lt;JSObject *&gt;,MutableHandle&lt;JS::Value&gt;) Interpreter.cpp:804
ExecuteScript(JSContext *,Handle&lt;JSObject *&gt;,Handle&lt;JSScript *&gt;,MutableHandle&lt;JS::Value&gt;) CompilationAndEvaluation.cpp:442
JS_ExecuteScript(JSContext *,Handle&lt;JSScript *&gt;,MutableHandle&lt;JS::Value&gt;) CompilationAndEvaluation.cpp:459
ion::script::IonScript::evaluate(mozjs_sys::generated::root::JSContext *) script.rs:48
ion::script::IonScript::compile_and_evaluate(str,str) script.rs:60
cli::evaluate::eval_inline(mozjs::rust::Runtime *,str) evaluate.rs:21
cli::commands::repl::start_repl() repl.rs:51
cli::main() main.rs:73
core::ops::function::FnOnce::call_once&lt;fn(),tuple&lt;&gt;&gt;(void (*)()) function.rs:227
std::sys_common::backtrace::__rust_begin_short_backtrace&lt;fn(),tuple&lt;&gt;&gt;(void (*)()) backtrace.rs:125
std::rt::lang_start::{{closure}}&lt;tuple&lt;&gt;&gt;(std::rt::lang_start::closure-0 *) rt.rs:49
std::rt::lang_start_internal() rt.rs:34
std::rt::lang_start&lt;tuple&lt;&gt;&gt;(void (*)(),long long,unsigned char **) rt.rs:48
main 0x00007ff6b5454006
__scrt_common_main_seh() 0x00007ff6b6ee27d4
BaseThreadInitThunk 0x00007ffee4e07c24
RtlUserThreadStart 0x00007ffee640d721
</code></pre>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Sep 02 2021 02:22:01 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Redfire</span>: did you set-up a job queue during initialization?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Sep 02 2021 02:23:20 GMT-0700 (Pacific Daylight Time)">09:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Oh wait, ðŸ¤¦I didn't setup the job queue on the repl (which was where I was testing it)</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Sep 02 2021 02:23:42 GMT-0700 (Pacific Daylight Time)">09:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Let me try that again....</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Sep 02 2021 05:19:57 GMT-0700 (Pacific Daylight Time)">12:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><p>Ok, now I'm really confused</p>
<pre><code class="language-rs">Assertion failure: (asBits_ &amp; detail::ValueGCThingPayloadMask) != 0, at C:/Users/[REDACTED]/Software/spiderfire/target/debug/build/mozjs_sys-0ae23950f3bb0ff4/out/build/dist/include\js/Value.h:780
Exception: Exception 0x80000003 encountered at address 0x7ff709c84fc9
</code></pre>
<pre><code class="language-rs">JS::Value::toObject() Value.h:780
js::ContextChecks::check(const JS::Value &amp;,int) JSContext-inl.h:131
JSContext::checkImpl&lt;JS::Handle&lt;JS::Value&gt;,JS::Handle&lt;JS::Value&gt;,JS::HandleValueArray&gt;(const JS::Handle&lt;JS::Value&gt; &amp;,const JS::Handle&lt;JS::Value&gt; &amp;,const JS::HandleValueArray &amp;) JSContext-inl.h:206
JSContext::check&lt;JS::Handle&lt;JS::Value&gt;,JS::Handle&lt;JS::Value&gt;,JS::HandleValueArray&gt;(const JS::Handle&lt;JS::Value&gt; &amp;,const JS::Handle&lt;JS::Value&gt; &amp;,const JS::HandleValueArray &amp;) JSContext-inl.h:213
JS::Call(JSContext *,Handle&lt;JS::Value&gt;,Handle&lt;JS::Value&gt;,const JS::HandleValueArray &amp;,MutableHandle&lt;JS::Value&gt;) jsapi.cpp:2849
runtime::job_queue::MicrotaskQueue::run_jobs(mozjs_sys::generated::root::JSContext *) job_queue.rs:65
runtime::job_queue::MicrotaskQueue::enqueue_task(mozjs_sys::generated::root::JSContext *,Microtask,IonObject) job_queue.rs:34
runtime::job_queue::enqueue_promise_job(core::ffi::c_void *,mozjs_sys::generated::root::JSContext *,Handle&lt;mut mozjs_sys::generated::root::JSObject*&gt;,Handle&lt;mut mozjs_sys::generated::root::JSObject*&gt;,Handle&lt;mut mozjs_sys::generated::root::JSObject*&gt;,Handle&lt;mut mozjs_sys::generated::root::JSObject*&gt;) job_queue.rs:102
RustJobQueue::enqueuePromiseJob(JSContext *,Handle&lt;JSObject *&gt;,Handle&lt;JSObject *&gt;,Handle&lt;JSObject *&gt;,Handle&lt;JSObject *&gt;) jsglue.cpp:66
JSRuntime::enqueuePromiseJob(JSContext *,Handle&lt;JSFunction *&gt;,Handle&lt;JSObject *&gt;,Handle&lt;js::GlobalObject *&gt;) Runtime.cpp:609
EnqueuePromiseReactionJob(JSContext *,Handle&lt;JSObject *&gt;,Handle&lt;JS::Value&gt;,PromiseState) Promise.cpp:1260
PerformPromiseThenWithReaction(JSContext *,Handle&lt;js::PromiseObject *&gt;,Handle&lt;PromiseReactionRecord *&gt;) Promise.cpp:5376
InternalAwait&lt;`lambda at C:/Users/Afzal/.cargo/git/checkouts/mozjs-fa11ffc7d4f1cc2d/de147f0/mozjs/js/src/builtin/Promise.cpp:4559:16'&gt;(JSContext *,Handle&lt;JS::Value&gt;,Handle&lt;JSObject *&gt;,PromiseHandler,PromiseHandler,&lt;unnamed-tag&gt;) Promise.cpp:4549
js::AsyncFunctionAwait(JSContext *,Handle&lt;js::AsyncFunctionGeneratorObject *&gt;,Handle&lt;JS::Value&gt;) Promise.cpp:4562
Interpret(JSContext *,js::RunState &amp;) Interpreter.cpp:3754
js::RunScript(JSContext *,js::RunState &amp;) Interpreter.cpp:405
js::ExecuteKernel(JSContext *,Handle&lt;JSScript *&gt;,Handle&lt;JSObject *&gt;,Handle&lt;JS::Value&gt;,AbstractFramePtr,MutableHandle&lt;JS::Value&gt;) Interpreter.cpp:772
js::Execute(JSContext *,Handle&lt;JSScript *&gt;,Handle&lt;JSObject *&gt;,MutableHandle&lt;JS::Value&gt;) Interpreter.cpp:804
ExecuteScript(JSContext *,Handle&lt;JSObject *&gt;,Handle&lt;JSScript *&gt;,MutableHandle&lt;JS::Value&gt;) CompilationAndEvaluation.cpp:442
JS_ExecuteScript(JSContext *,Handle&lt;JSScript *&gt;,MutableHandle&lt;JS::Value&gt;) CompilationAndEvaluation.cpp:459
ion::script::IonScript::evaluate(mozjs_sys::generated::root::JSContext *) script.rs:48
ion::script::IonScript::compile_and_evaluate(str,str) script.rs:60
cli::evaluate::eval_inline(mozjs::rust::Runtime *,str) evaluate.rs:21
cli::commands::repl::start_repl() repl.rs:53
cli::main() main.rs:73
core::ops::function::FnOnce::call_once&lt;fn(),tuple&lt;&gt;&gt;(void (*)()) function.rs:227
std::sys_common::backtrace::__rust_begin_short_backtrace&lt;fn(),tuple&lt;&gt;&gt;(void (*)()) backtrace.rs:125
std::rt::lang_start::{{closure}}&lt;tuple&lt;&gt;&gt;(std::rt::lang_start::closure-0 *) rt.rs:49
std::rt::lang_start_internal() rt.rs:34
std::rt::lang_start&lt;tuple&lt;&gt;&gt;(void (*)(),long long,unsigned char **) rt.rs:48
main 0x00007ff709ba4006
__scrt_common_main_seh() 0x00007ff70b632df4
BaseThreadInitThunk 0x00007ffee4e07c24
RtlUserThreadStart 0x00007ffee640d721
</code></pre>
</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Sep 02 2021 05:24:21 GMT-0700 (Pacific Daylight Time)">12:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">On <code>js::ContextChecks::check(const JS::Value &amp;,int) JSContext-inl.h:131</code>, <code>argIndex=1</code> which should be <code>fval</code>?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Sep 02 2021 05:35:53 GMT-0700 (Pacific Daylight Time)">12:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">Redfire: it sounds like the function is null?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Sep 02 2021 05:36:04 GMT-0700 (Pacific Daylight Time)">12:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">can you check the value of the job ?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Sep 02 2021 05:36:44 GMT-0700 (Pacific Daylight Time)">12:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">So it is ðŸ¤”</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Sep 02 2021 05:37:09 GMT-0700 (Pacific Daylight Time)">12:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Do I just check and make sure the function isn't null?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Sep 02 2021 05:51:18 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">given it's calling <code>toObject()</code>, it means it matches <code>isObject()</code></td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Sep 02 2021 05:51:31 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">and object value cannot be null</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Sep 02 2021 05:52:14 GMT-0700 (Pacific Daylight Time)">12:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">null value is different thing than "object value with null"</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Sep 02 2021 05:52:41 GMT-0700 (Pacific Daylight Time)">12:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, I guess the callee value is constructed in wrong way</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Sep 02 2021 05:54:15 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Am I supposed to be using the <code>promise</code> or <code>job</code> parameter on <code>EnqueuePromiseJob</code></td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Sep 02 2021 05:54:48 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">job parameter</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Sep 02 2021 05:55:00 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">job is a function that is supposed to be called by embedding</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Sep 02 2021 05:55:37 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Oh, I was using <code>promise</code>. ðŸ˜…<br>What's <code>promise</code> supposed to be used for then?</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Sep 02 2021 05:57:51 GMT-0700 (Pacific Daylight Time)">12:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">only as a hint for the job</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Sep 02 2021 05:57:57 GMT-0700 (Pacific Daylight Time)">12:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/rev/49b6e60550243b4b4d71d6ab35a3ff2b9a9f7c69/xpcom/base/CycleCollectedJSContext.cpp#187-193">https://searchfox.org/mozilla-central/rev/49b6e60550243b4b4d71d6ab35a3ff2b9a9f7c69/xpcom/base/CycleCollectedJSContext.cpp#187-193</a></td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Sep 02 2021 05:58:24 GMT-0700 (Pacific Daylight Time)">12:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">in Gecko, it's used for event handling</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Sep 02 2021 05:58:49 GMT-0700 (Pacific Daylight Time)">12:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">whether the promise is created inside the callback of user's input, that allows some API</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Sep 02 2021 06:01:25 GMT-0700 (Pacific Daylight Time)">13:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">I definitely read servo's implementation wrong, they used <code>job</code> too.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Sep 02 2021 06:02:19 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><p>In unrelated-ish news, I have this code because FFI... Pointer Casting in rust (<code>extra</code> is <code>*const c_void</code>)</p>
<pre><code class="language-rs">let queue = &amp;*(extra as *const MicrotaskQueue);
</code></pre>
</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Sep 02 2021 06:33:59 GMT-0700 (Pacific Daylight Time)">13:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">Does anyone remember which SM version top-level await was added in? 
</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Sep 02 2021 06:43:08 GMT-0700 (Pacific Daylight Time)">13:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ms2ger:igalia.com">Ms2ger ðŸ’‰ðŸ’‰</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1519100">https://bugzilla.mozilla.org/show_bug.cgi?id=1519100</a> says 63</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Sep 02 2021 06:43:23 GMT-0700 (Pacific Daylight Time)">13:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ms2ger:igalia.com">Ms2ger ðŸ’‰ðŸ’‰</span>&gt;</div></td><td class="msg-cell">*85</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Sep 02 2021 06:43:29 GMT-0700 (Pacific Daylight Time)">13:43</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-6" title="@ms2ger:igalia.com">Ms2ger ðŸ’‰ðŸ’‰</span></div></td><td class="msg-cell">looked in the wrong place</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Sep 02 2021 06:43:51 GMT-0700 (Pacific Daylight Time)">13:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ms2ger:igalia.com">Ms2ger ðŸ’‰ðŸ’‰</span>&gt;</div></td><td class="msg-cell">Back in my day, we were at 3.7!</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Sep 02 2021 06:43:56 GMT-0700 (Pacific Daylight Time)">13:43</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-6" title="@ms2ger:igalia.com">Ms2ger ðŸ’‰ðŸ’‰</span></div></td><td class="msg-cell">shakes fist at cloud</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Sep 02 2021 07:37:53 GMT-0700 (Pacific Daylight Time)">14:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">TLA was implemented in 85, but only turned on by default in 89 (bug 1681046)</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Sep 02 2021 07:37:55 GMT-0700 (Pacific Daylight Time)">14:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1681046">https://bugzil.la/1681046</a> â€” RESOLVED (ystartsev) â€” Enable Top Level Await</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Sep 02 2021 12:27:51 GMT-0700 (Pacific Daylight Time)">19:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">Hey how about this one: we're currently embedding JS60 and it apparently REQUIRES python2 and our sysadmins have removed it from our build systems.</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Sep 02 2021 12:28:19 GMT-0700 (Pacific Daylight Time)">19:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I started looking at trying to fix the dependency but it's all tangled up in a mess of configure nonsense. </td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Sep 02 2021 12:37:41 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">are you using <code>./configure</code> or <code>mach build</code>?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Sep 02 2021 12:39:45 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I used configure for JS60 but that depends on both an out-of-date version of autoconf (that I build as a prerequisite) and also python2</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Sep 02 2021 12:39:52 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">Bug 1699753 seems to be the metabgu for py2 removal</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Sep 02 2021 12:39:53 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1699753">https://bugzil.la/1699753</a> â€” NEW (nobody) â€” [meta] Unsupport Python 2 in mozilla-central</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Sep 02 2021 12:40:34 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">the out-of-date autoconf is some "fun" historical artifact where they changed how the m4 integration work. I think it is 20 years old</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Sep 02 2021 12:40:53 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">So I bit the bullet &amp; tried to use these instructions <a href="https://firefox-source-docs.mozilla.org/setup/linux_build.html#building-firefox-on-linux">https://firefox-source-docs.mozilla.org/setup/linux_build.html#building-firefox-on-linux</a></td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Sep 02 2021 12:41:15 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">and even then it requires python2 if I try and use --vcs=git</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Sep 02 2021 12:41:31 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">on latest version, or 60?</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Sep 02 2021 12:41:57 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I started from these instructions <a href="https://firefox-source-docs.mozilla.org/js/build.html">https://firefox-source-docs.mozilla.org/js/build.html</a></td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Sep 02 2021 12:41:58 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">(ugh.. python 2 -&gt; 3 is what.. 15 years now?)</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Sep 02 2021 12:42:27 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">well JS60 requires it, and that's the last Spidermonkey version we've verified.</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Sep 02 2021 12:43:11 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">it was certainly less than 15 years ago that building Spidermonkey for embedding required python2</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu Sep 02 2021 12:43:33 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">oh I mean the python ecosystem timeline</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu Sep 02 2021 12:43:39 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">sure</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu Sep 02 2021 12:44:11 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">(py 3.0  was released 2008 it looks like)</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu Sep 02 2021 12:44:54 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">I do not remember if those <code>mach build</code> steps work in esr-60 or not</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu Sep 02 2021 12:44:56 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu Sep 02 2021 12:46:38 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I don't even really know (or have been able to find out) what the current LTS version is we should be building against</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu Sep 02 2021 12:47:34 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><a href="https://whattrainisitnow.com/">https://whattrainisitnow.com/</a> Current is 78, upcoming is 91</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu Sep 02 2021 12:48:49 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">So I would endure the pain of updating to 78 or 98  if I knew how to get those versions.</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu Sep 02 2021 12:49:25 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr78/docs/Building%20SpiderMonkey.md#getting-the-source-code">https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr78/docs/Building%20SpiderMonkey.md#getting-the-source-code</a></td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu Sep 02 2021 12:49:43 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">firefox tarballs are best bet. They are versioned and signed.</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu Sep 02 2021 12:51:38 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">and FYI the git-cinnebar version that you get if you try and follow the instructions to use git instead of mercurial also requires python27</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu Sep 02 2021 12:51:46 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">you can try use the spidermonkey monkey only bundles, but those have to be pulled directly off CI. I recommend the firefox bundle though, because the extra 200MB download or whatever probably makes up for headaches</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu Sep 02 2021 12:52:03 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> and FYI the git-cinnebar version that you get if you try and follow the instructions to use git instead of mercurial also requires python27</blockquote></mx-reply>ugh, good to know. I'll try to file that</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu Sep 02 2021 12:53:36 GMT-0700 (Pacific Daylight Time)">19:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/glandium/git-cinnabar#experimental-support-for-python-3x">https://github.com/glandium/git-cinnabar#experimental-support-for-python-3x</a> seems to be how to use python3 for cinnabar right now</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu Sep 02 2021 13:11:24 GMT-0700 (Pacific Daylight Time)">20:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">oh joy</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu Sep 02 2021 13:12:05 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">following esr78 embedding instructions and it works down to error: failed to parse manifest at <code>/home/develop/spidermonkey/firefox-78.1.0/Cargo.toml</code></td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu Sep 02 2021 13:12:13 GMT-0700 (Pacific Daylight Time)">20:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell"><p>```error: failed to parse manifest at <code>/home/develop/spidermonkey/firefox-78.1.0/Cargo.toml</code></p>
<pre><code></code></pre>
</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Thu Sep 02 2021 13:14:11 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell"><p>/home/kwilliams/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/bin/cargo rustc  --manifest-path /home/develop/spidermonkey/firefox-78.1.0/js/src/rust/Cargo.toml -vv --lib --target=x86_64-unknown-linux-gnu  --<br>error: failed to parse manifest at <code>/home/develop/spidermonkey/firefox-78.1.0/Cargo.toml</code></p>
<p>Caused by:<br>dependency (nix) specification is ambiguous. Only one of <code>branch</code>, <code>tag</code> or <code>rev</code> is allowed.</p>
</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Thu Sep 02 2021 13:16:15 GMT-0700 (Pacific Daylight Time)">20:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell">I have gotten that error as well, but it was later fixed. I'd recommend using firefox-78.10.0 or whatever the latest is</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Thu Sep 02 2021 13:17:24 GMT-0700 (Pacific Daylight Time)">20:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I'm using the instructions here: <a href="https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr78/docs/Building%20SpiderMonkey.md">https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr78/docs/Building%20SpiderMonkey.md</a> 

That downloads firefox-78.1.0.xz</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Thu Sep 02 2021 13:17:58 GMT-0700 (Pacific Daylight Time)">20:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">I don't think we updated for point releases</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Thu Sep 02 2021 13:18:23 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell">I guess this is the latest? <a href="https://ftp.mozilla.org/pub/firefox/releases/78.13.0esr/source/">https://ftp.mozilla.org/pub/firefox/releases/78.13.0esr/source/</a></td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Thu Sep 02 2021 13:18:27 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">ESR gets a minor point release about once a month with security fixes</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Thu Sep 02 2021 13:19:05 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell">but yes, it would be prohibitive in maintenance cost to bump that link every month ðŸ˜›</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Thu Sep 02 2021 13:19:59 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I'm beginning to wonder who else is embedding spidermonkey</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Thu Sep 02 2021 13:21:48 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">Can't we suggest people use <a href="https://github.com/mozilla/gecko-dev/tree/esr78">https://github.com/mozilla/gecko-dev/tree/esr78</a>, that seems like the easiest solution?</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Thu Sep 02 2021 13:21:56 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">A few of them are <a href="https://discourse.mozilla.org/t/survey-where-are-you-embedding-spidermonkey/77988">https://discourse.mozilla.org/t/survey-where-are-you-embedding-spidermonkey/77988</a></td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu Sep 02 2021 13:22:44 GMT-0700 (Pacific Daylight Time)">20:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">evilpie</span> only problem is it isn't clear what a release is and what is staged</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu Sep 02 2021 13:23:32 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">If you want a canonical version number, the ftp is versioned, signed, and tracked by release management</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu Sep 02 2021 13:23:46 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">firefox-78.13.0 seems to be building at least</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu Sep 02 2021 13:24:49 GMT-0700 (Pacific Daylight Time)">20:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">So I prefer the ftp from a release integrity perspective</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu Sep 02 2021 13:26:36 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I should reply on that survey chain</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu Sep 02 2021 13:26:45 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">really quite annoying that latest-esr doesn't work</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu Sep 02 2021 13:29:23 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">I think for scripting, I've tried using the publish task (beetmover) to identify the release</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu Sep 02 2021 13:35:21 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell"><a href="https://product-details.mozilla.org/1.0/firefox_versions.json">https://product-details.mozilla.org/1.0/firefox_versions.json</a> can be used to get the version and then you can manually construct the <a href="http://archive.mozilla.org">archive.mozilla.org</a> URL</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu Sep 02 2021 13:42:28 GMT-0700 (Pacific Daylight Time)">20:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell"><a href="https://discourse.mozilla.org/t/survey-where-are-you-embedding-spidermonkey/77988/12?u=kent_williams">https://discourse.mozilla.org/t/survey-where-are-you-embedding-spidermonkey/77988/12?u=kent_williams</a></td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu Sep 02 2021 13:43:00 GMT-0700 (Pacific Daylight Time)">20:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">evilpie</span>: that is pretty useful, thanks</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu Sep 02 2021 13:43:06 GMT-0700 (Pacific Daylight Time)">20:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I suspect our company (Leepfrog) was a very early adopter of SpiderMonkey because it goes back to the last millenium</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu Sep 02 2021 13:45:18 GMT-0700 (Pacific Daylight Time)">20:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">Cool. A few on the list are "spidermonkey was the only thing around when we started". Communications dropped off over the years and we are slowly trying improve things</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu Sep 02 2021 13:45:57 GMT-0700 (Pacific Daylight Time)">20:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">LOL The C++ compiler commands.  I DON'T THINK THERE ARE ENOUGH COMMAND LINE FLAGS.
</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu Sep 02 2021 13:48:11 GMT-0700 (Pacific Daylight Time)">20:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">we currently support RHEL7 &amp; RHEL8 and the stock compiler on RHEL7 doesn't support C++17</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu Sep 02 2021 13:50:47 GMT-0700 (Pacific Daylight Time)">20:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">On Windows people occasionally use a different compiler for spidermonkey vs their application. In that case they compile spidermonkey first and then use the .dll + public headers to load it into their application</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu Sep 02 2021 13:55:28 GMT-0700 (Pacific Daylight Time)">20:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell"><p>/home/develop/spidermonkey/firefox-78.13.0/js/src/util/Text.h:246:12: error: no member named<br>'ConvertLatin1toUtf16' in namespace 'mozilla'<br>mozilla::ConvertLatin1toUtf16(mozilla::MakeSpan(src, srclen),</p>
<pre><code class="language-^">/home/develop/spidermonkey/firefox-78.13.0/js/src/util/Text.h:252:12: error: no member named
    'ConvertLatin1toUtf16' in namespace 'mozilla'
mozilla::ConvertLatin1toUtf16(
~~~~~~~~~^
</code></pre>
</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Sep 02 2021 13:55:55 GMT-0700 (Pacific Daylight Time)">20:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">that happens if I add --disable-shared-js</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Sep 02 2021 13:57:33 GMT-0700 (Pacific Daylight Time)">20:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">some discussion <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1588340">here</a> though I'm not familiar with the history</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Sep 02 2021 14:00:04 GMT-0700 (Pacific Daylight Time)">21:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">I guess I usually use .dll/.do when playing with embedding stuff because that seems to be what most questsions I get are for</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu Sep 02 2021 14:06:32 GMT-0700 (Pacific Daylight Time)">21:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">checking to see if this fixes it <a href="https://hg.mozilla.org/integration/autoland/rev/4e8fe724a8f2">https://hg.mozilla.org/integration/autoland/rev/4e8fe724a8f2</a></td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu Sep 02 2021 14:09:28 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">I think that does it.</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu Sep 02 2021 14:09:38 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">great</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu Sep 02 2021 14:10:10 GMT-0700 (Pacific Daylight Time)">21:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">since I already patch SpiderMonkey - for our own junk - it doesn't hurt to add that I guess.</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Thu Sep 02 2021 14:11:06 GMT-0700 (Pacific Daylight Time)">21:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@chaircrusher:mozilla.org">chaircrusher</span>&gt;</div></td><td class="msg-cell">LOL the fan spins up on my workstation building SpiderMonkey -j8 and it never does otherwise.</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Thu Sep 02 2021 14:11:51 GMT-0700 (Pacific Daylight Time)">21:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">I build on 28 cores and fans still spin up</td></tr>

</tbody></table></div></div></div>
</body></html>