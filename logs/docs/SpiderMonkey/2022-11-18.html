<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2022-11-18</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2022-11-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-11-17" class="nav-link"><span>prev</span></a>
<a href="2022-11-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Fri Nov 18 2022 00:57:29 GMT-0800 (Pacific Standard Time)">08:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@ms2ger:igalia.com">Ms2ger 游눌游눌游눌</span>&gt;</div></td><td class="msg-cell">Maybe <code>ScriptKind::eImport</code> should be <code>ScriptKind::eImportMap</code> then :)</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Fri Nov 18 2022 01:17:39 GMT-0800 (Pacific Standard Time)">09:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">it already is, just easy to misread especially if you have the module context already paged in to your thinking. I am not sure what a better name would be, but maybe a comment above that line would help</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Nov 18 2022 01:18:42 GMT-0800 (Pacific Standard Time)">09:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@ms2ger:igalia.com">Ms2ger 游눌游눌游눌</span>&gt;</div></td><td class="msg-cell">Ha</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Fri Nov 18 2022 01:18:51 GMT-0800 (Pacific Standard Time)">09:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@ms2ger:igalia.com">Ms2ger 游눌游눌游눌</span>&gt;</div></td><td class="msg-cell"><span class="nick-10">yulia</span> being ahead of me as usual</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Nov 18 2022 07:59:46 GMT-0800 (Pacific Standard Time)">15:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">If you use <code>JS_ConcatStrings</code> or <code>JS_NewDependentString</code>, are the parent string(s) traced automatically so if they would have been GC'ed earlier, they're now GC'ed only after the child is GC'ed?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Nov 18 2022 08:27:58 GMT-0800 (Pacific Standard Time)">16:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@jonco:mozilla.org">jonco</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Redfire</span>: Yes the new string has a pointer to the parent (although in the first case you get a rope which can get flattened later)</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Nov 18 2022 11:19:31 GMT-0800 (Pacific Standard Time)">19:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell">This isn't already in SpiderMonkey embedded is it? Is there a way to enable it?
<a href="https://developer.mozilla.org/en-US/docs/Web/API/setTimeout">https://developer.mozilla.org/en-US/docs/Web/API/setTimeout</a></td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Nov 18 2022 11:21:44 GMT-0800 (Pacific Standard Time)">19:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <p><span class="nick-14">pastah</span>: Sorry; I don't think we expose any of that via the embedder API.</p>
<p>If you're poking around in the JS engine itself, you might be best served starting from our shell build, and exploring all the testing functions that are available (call help() from the shell)</p>
</blockquote></mx-reply>I assume the same answer as this.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Nov 18 2022 11:32:12 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">mgaudet</span> calling <code>help()</code> from the <code>repl</code> binary should show something? Or you mean from the shell that builds with SpiderMonkey itself when you build libraries?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Nov 18 2022 12:54:42 GMT-0800 (Pacific Standard Time)">20:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> This isn't already in SpiderMonkey embedded is it? Is there a way to enable it?<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/setTimeout">https://developer.mozilla.org/en-US/docs/Web/API/setTimeout</a></blockquote></mx-reply>No: the implement setTimeout you really need an event loop, which we don't currently provide.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Nov 18 2022 12:55:23 GMT-0800 (Pacific Standard Time)">20:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-2">mgaudet</span> calling <code>help()</code> from the <code>repl</code> binary should show something? Or you mean from the shell that builds with SpiderMonkey itself when you build libraries?</blockquote></mx-reply>help is <a href="https://searchfox.org/mozilla-central/source/js/src/shell/js.cpp#8820-8823">only implemented as part of our shell</a></td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Nov 18 2022 13:00:16 GMT-0800 (Pacific Standard Time)">21:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">confession: linux perf is horribly failing me at the moment. </td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Nov 18 2022 13:00:19 GMT-0800 (Pacific Standard Time)">21:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell">Seen! Your update will eventually appear on <a href="https://robotzilla.github.io/histoire">https://robotzilla.github.io/histoire</a></td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Nov 18 2022 14:45:23 GMT-0800 (Pacific Standard Time)">22:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">confession: <a href="https://eighty-twenty.org/2021/09/09/perf-addr2line-speed-improvement">Tried rebuilding perf so that it didn't shell out to <code>addr2line</code> so frequently</a>, hoping for a substantial speedup. Alas, still seeing a huge performance problem trying to look at a perf profile with call-stacks. this is even with <a href="https://michcioperz.com/post/slow-perf-script/">libbfd</a>. no idea what's gone so wrong, but this is a mess in a way I have no recollection of last time I used perf (admittedly... a long while ago)</td></tr>

</tbody></table></div></div></div>
</body></html>