<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2022-07-29</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2022-07-29<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-07-28" class="nav-link"><span>prev</span></a>
<a href="2022-07-30" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Fri Jul 29 2022 06:19:28 GMT-0700 (Pacific Daylight Time)">13:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell">Hello I am a fresh grad CSE student.
I love compilers and I wish I could help in this project I already contributed to gcc before.
I know C/C++ algorithms, data structures, OOP, OS, and compilers' theories.

Is there anything I can help with?

Thanks. </td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Fri Jul 29 2022 06:26:25 GMT-0700 (Pacific Daylight Time)">13:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Mohamed Atef</span>: Hi, welcome :)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Jul 29 2022 06:27:07 GMT-0700 (Pacific Daylight Time)">13:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">arai</span>: Hi</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Fri Jul 29 2022 06:28:16 GMT-0700 (Pacific Daylight Time)">13:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">Do you have any specific area that you want to work on?  there are multiple parts/projects, and contribution is always welcome</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Jul 29 2022 06:29:02 GMT-0700 (Pacific Daylight Time)">13:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">e.g.  parser, bytecode compiler, interpreter, JIT compiler, GC, new API, etc</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Jul 29 2022 06:29:52 GMT-0700 (Pacific Daylight Time)">13:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell">There Is no specific area.
But I think bytecode compiler, or JIT would be great. </td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Jul 29 2022 06:32:48 GMT-0700 (Pacific Daylight Time)">13:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">sounds great :)  I can guide through the bytecode compiler part.  let me look for bugs suitable for onboarding</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Jul 29 2022 06:33:11 GMT-0700 (Pacific Daylight Time)">13:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Mohamed Atef</span>: have you setup the development environment for either Firefox or SpiderMonkey ?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Jul 29 2022 06:33:40 GMT-0700 (Pacific Daylight Time)">13:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Mohamed Atef</span>: Hi, you might want to read our <a href="https://firefox-source-docs.mozilla.org/js/index.html">source documentation</a> on how to start working on SpiderMonkey, as well as checking our <a href="https://spidermonkey.dev/">Team blog</a> to see the latest area of development. If you have any specific interest or curiosity, we have a <a href="https://searchfox.org/mozilla-central/search?q=SMDOC">list of curated comments in our source code</a> which are worth reading.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Jul 29 2022 06:35:47 GMT-0700 (Pacific Daylight Time)">13:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-8">Mohamed Atef</span>: have you setup the development environment for either Firefox or SpiderMonkey ?</blockquote></mx-reply>I am setting spidermonkey up.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Jul 29 2022 06:36:52 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-8">Mohamed Atef</span>: Hi, you might want to read our <a href="https://firefox-source-docs.mozilla.org/js/index.html">source documentation</a> on how to start working on SpiderMonkey, as well as checking our <a href="https://spidermonkey.dev/">Team blog</a> to see the latest area of development. If you have any specific interest or curiosity, we have a <a href="https://searchfox.org/mozilla-central/search?q=SMDOC">list of curated comments in our source code</a> which are worth reading.</blockquote></mx-reply>Great I will start now.<br>Thanks</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Jul 29 2022 06:36:55 GMT-0700 (Pacific Daylight Time)">13:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> then you need to handle the sourceMap in your program</blockquote></mx-reply>so basically I read the stack/error report and look for the lineno, column and filename<br>when I find that, i just rename everything accordingly?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Jul 29 2022 06:37:47 GMT-0700 (Pacific Daylight Time)">13:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Redfire</span>: yes</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Jul 29 2022 06:37:49 GMT-0700 (Pacific Daylight Time)">13:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> sounds great :)  I can guide through the bytecode compiler part.  let me look for bugs suitable for onboarding</blockquote></mx-reply>Thanks a lot.<br>I am looking forward working with you.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Jul 29 2022 06:38:15 GMT-0700 (Pacific Daylight Time)">13:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">I see, I'll probably put this off for a while, but shouldn't be too terrible</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Jul 29 2022 06:51:00 GMT-0700 (Pacific Daylight Time)">13:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Mohamed Atef</span>: I found 2 bugs so far.  <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1341943">bug 1341943</a>, which is to avoid generating unnecessary (unreachable) instruction in the bytecode.  and <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1321932">bug 1321932</a>, which is to move the function name calculation from runtime to compile time</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Jul 29 2022 06:51:01 GMT-0700 (Pacific Daylight Time)">13:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1341943">https://bugzil.la/1341943</a> — NEW (nobody) — Do not emit JSOP_RETRVAL for arrow function with expression body</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Jul 29 2022 06:51:02 GMT-0700 (Pacific Daylight Time)">13:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1321932">https://bugzil.la/1321932</a> — NEW (nobody) — Statically set computed property method's function name if computed property name is string or number</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Jul 29 2022 06:51:42 GMT-0700 (Pacific Daylight Time)">13:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I'll add instruction comments there</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Jul 29 2022 06:59:26 GMT-0700 (Pacific Daylight Time)">13:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@orlp:matrix.org">orlp</span>&gt;</div></td><td class="msg-cell">Hey, I'd like to know which hashtable implementation is used for <code>object</code> properties, is it <a href="https://searchfox.org/mozilla-central/source/mfbt/HashTable.h#142">https://searchfox.org/mozilla-central/source/mfbt/HashTable.h#142</a> ?</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Jul 29 2022 07:21:51 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">orlp</span>: the main representation of object properties is a linked list of small arrays as described <a href="https://searchfox.org/mozilla-central/rev/4a15041348e08fb0d6f5726015c32861e663fbfe/js/src/vm/PropMap.h#23">here</a>. As an optimization, when there are many properties we can create a <code>PropMapTable</code> to speedup lookups, see <a href="https://searchfox.org/mozilla-central/rev/4a15041348e08fb0d6f5726015c32861e663fbfe/js/src/vm/PropMap.h#308">this</a>. It uses a <code>HashSet</code> internally.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Jul 29 2022 07:32:21 GMT-0700 (Pacific Daylight Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">one more bug suitable for newcomer: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1481695">bug 1481695</a></td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Jul 29 2022 07:32:23 GMT-0700 (Pacific Daylight Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1481695">https://bugzil.la/1481695</a> — NEW (nobody) — The arguments number mismatch for self-hosted built-ins doesn't have to be runtime error.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Jul 29 2022 07:40:40 GMT-0700 (Pacific Daylight Time)">14:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">apparently the js-wasi builds from CI have some debug information, because we can see <code>Interpret</code>, <code>RunScript</code> etc frames when profiling the demo in the browser: <a href="https://share.firefox.dev/3Br30P9">https://share.firefox.dev/3Br30P9</a></td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Jul 29 2022 07:41:09 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">I was really confused by all that time in <code>Interpret</code> at first. The local builds I used before showed just <code>wasm-function[N]</code></td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Jul 29 2022 07:42:44 GMT-0700 (Pacific Daylight Time)">14:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">(the demo has been useful to test profiler improvements)</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Jul 29 2022 08:20:50 GMT-0700 (Pacific Daylight Time)">15:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> one more bug suitable for newcomer: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1481695">bug 1481695</a></blockquote></mx-reply>here is my understanding of this: I will replace ensureArgs and ensureAtLeastArgs with MOZ_ASSERT?<br>is it that easy or am i missing something?</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Jul 29 2022 08:22:10 GMT-0700 (Pacific Daylight Time)">15:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-1">orlp</span>: the main representation of object properties is a linked list of small arrays as described <a href="https://searchfox.org/mozilla-central/rev/4a15041348e08fb0d6f5726015c32861e663fbfe/js/src/vm/PropMap.h#23">here</a>. As an optimization, when there are many properties we can create a <code>PropMapTable</code> to speedup lookups, see <a href="https://searchfox.org/mozilla-central/rev/4a15041348e08fb0d6f5726015c32861e663fbfe/js/src/vm/PropMap.h#308">this</a>. It uses a <code>HashSet</code> internally.</blockquote></mx-reply>Oh, huh. This is interesting... I've managed to totally forget about this somehow</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Jul 29 2022 08:22:14 GMT-0700 (Pacific Daylight Time)">15:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Mohamed Atef</span>: yeah, replace <code>ensureArgs</code> with <code>MOZ_ASSERT</code>, for special functions named <code>emitSelfHosted*</code></td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Jul 29 2022 08:22:36 GMT-0700 (Pacific Daylight Time)">15:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@mohamed_atef:matrix.org">Mohamed Atef</span>&gt;</div></td><td class="msg-cell">okay thanks.</td></tr>

</tbody></table></div></div></div>
</body></html>