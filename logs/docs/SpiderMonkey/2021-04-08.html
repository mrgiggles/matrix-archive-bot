<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2021-04-08</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2021-04-08<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-04-07" class="nav-link"><span>prev</span></a>
<a href="2021-04-09" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Apr 07 2021 19:19:43 GMT-0700 (Pacific Daylight Time)">02:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Hey, I have a small question about how spidermonkey optimizes functions that are always called with the same type</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Apr 07 2021 19:21:14 GMT-0700 (Pacific Daylight Time)">02:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">So, I've read that it's bad practice to call `foo(a,b){return a+b}` with both strings and numbers, because switching the argument types will jump out of the JITed version</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Apr 07 2021 19:23:03 GMT-0700 (Pacific Daylight Time)">02:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">So what I was wondering is, if I have a superclass with a function like that, and I have a String and a Number subclass that inherit that function, and furthermore each subclass only gets used with one type, will the JIT make two versions, or will it deoptimize every time a different subclass has its method called?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Apr 07 2021 19:26:31 GMT-0700 (Pacific Daylight Time)">02:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if the method is not inlined to the callsite, it will become polymorphic for each type.  if the method is inlined to the callsite, the inlined function will be specialized for the callsite's type</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Apr 07 2021 19:26:42 GMT-0700 (Pacific Daylight Time)">02:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">there's a section about inlining <a href="https://hacks.mozilla.org/2020/11/warp-improved-js-performance-in-firefox-83/">https://hacks.mozilla.org/2020/11/warp-improved-js-performance-in-firefox-83/</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Apr 07 2021 19:34:03 GMT-0700 (Pacific Daylight Time)">02:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">then, about the deoptimization,  if unknown type appears <em>after</em> JIT compile, yes, deoptimization happens there</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Apr 07 2021 19:36:00 GMT-0700 (Pacific Daylight Time)">02:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">I'm writing a math library for a game engine, so it'd be pretty bad if one rare call to an integer vector method deoptimised all of the floating point code</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Apr 07 2021 19:36:25 GMT-0700 (Pacific Daylight Time)">02:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Any ideas for how to avoid that other than cut-and-paste?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Apr 07 2021 19:38:10 GMT-0700 (Pacific Daylight Time)">02:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">which is rare case, integer or floating point?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Apr 07 2021 19:38:59 GMT-0700 (Pacific Daylight Time)">02:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">also, by vector do you mean TypedArray, or regular Array ?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Apr 07 2021 19:39:51 GMT-0700 (Pacific Daylight Time)">02:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">I have an extremely commonly used vector class that contains a typed array and provides typical geometric methods like dot products.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Apr 07 2021 19:40:13 GMT-0700 (Pacific Daylight Time)">02:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">It's virtually always floating point but I need to have an integer version around for webgl compliance.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Apr 07 2021 19:43:06 GMT-0700 (Pacific Daylight Time)">02:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, it's about <code>Float32Array</code> vs <code>Int32Array</code> or similar variant, right?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Apr 07 2021 19:44:01 GMT-0700 (Pacific Daylight Time)">02:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Yeah, there's two classes, both with an attribute named `array`, but one of them creates a Float32Array in the constructor and the other creates an Int32Array.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Apr 07 2021 19:46:51 GMT-0700 (Pacific Daylight Time)">02:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">The methods are simple things like summation and scalar multiplication.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Apr 07 2021 19:50:17 GMT-0700 (Pacific Daylight Time)">02:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">let me check how typed array works there</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Apr 07 2021 19:52:51 GMT-0700 (Pacific Daylight Time)">02:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">(I guess, most of JIT devs are now sleeping</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Apr 07 2021 19:55:38 GMT-0700 (Pacific Daylight Time)">02:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Element is acting pretty weird for me atm so I'm not sure if you saw... But yes they're functions that act on typed arrays.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Apr 07 2021 20:01:36 GMT-0700 (Pacific Daylight Time)">03:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yeah, I see that a bit un-optimized code is generated if a method operates both on Int32Array and Float32Array</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Apr 07 2021 20:02:13 GMT-0700 (Pacific Daylight Time)">03:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">err, maybe my experiment isn't correct</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Apr 07 2021 20:02:34 GMT-0700 (Pacific Daylight Time)">03:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I was checking the behavior when single callsite passes both types</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Apr 07 2021 20:04:27 GMT-0700 (Pacific Daylight Time)">03:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">fwiw, you can do the same experiment, by building SpiderMonkey JS shell, and running it to generate a log for MIR/LIR, and visualize it with <a href="https://github.com/sstangl/iongraph">https://github.com/sstangl/iongraph</a></td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Apr 07 2021 20:05:37 GMT-0700 (Pacific Daylight Time)">03:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Hey that's cool.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Apr 07 2021 20:07:44 GMT-0700 (Pacific Daylight Time)">03:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">How do I get the spew file? (There's a dead link on the ionmonkey wiki page and I don't see how to do it.)</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Apr 07 2021 20:08:25 GMT-0700 (Pacific Daylight Time)">03:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">IONFLAGS=logs path/to/js_shell --ion-offthread-compile=off path/to/script.js</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Apr 07 2021 20:08:46 GMT-0700 (Pacific Daylight Time)">03:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Looks like I need to build ionmonkey too.</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Apr 07 2021 20:09:22 GMT-0700 (Pacific Daylight Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">you just need to build SpiderMonkey JS shell</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Apr 07 2021 20:09:24 GMT-0700 (Pacific Daylight Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://firefox-source-docs.mozilla.org/js/build.html">https://firefox-source-docs.mozilla.org/js/build.html</a></td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Apr 07 2021 20:10:47 GMT-0700 (Pacific Daylight Time)">03:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">IonMonkey is the name of JIT compiler inside it</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Apr 07 2021 20:12:33 GMT-0700 (Pacific Daylight Time)">03:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">then, about the script, you need to run the part that you want to visualize enough time (so, the code becomes hot and JIT compile gets triggered).  running 2000 times would work for most case I think  (I don't remember the latest threshold)</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Apr 07 2021 20:13:10 GMT-0700 (Pacific Daylight Time)">03:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Would the jsshell on the nightly build server work or do I need to do a debug build?</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Apr 07 2021 20:13:47 GMT-0700 (Pacific Daylight Time)">03:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">iirc, it needs to be a debug build</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Apr 07 2021 20:14:25 GMT-0700 (Pacific Daylight Time)">03:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I guess there's a binary in taskcluster artifact or somewhere.  let me look for it</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Apr 07 2021 20:15:22 GMT-0700 (Pacific Daylight Time)">03:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">borane</span>: which OS are you on?</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Apr 07 2021 20:15:31 GMT-0700 (Pacific Daylight Time)">03:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Arch linux</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Apr 07 2021 20:15:46 GMT-0700 (Pacific Daylight Time)">03:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">also, which architecture?</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Apr 07 2021 20:16:02 GMT-0700 (Pacific Daylight Time)">03:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">x86_64</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Apr 07 2021 20:17:16 GMT-0700 (Pacific Daylight Time)">03:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><a href="https://treeherder.mozilla.org/jobs?repo=mozilla-central&amp;selectedTaskRun=ao-omHR9RiO48UcyeEP5SA.0">https://treeherder.mozilla.org/jobs?repo=mozilla-central&amp;selectedTaskRun=ao-omHR9RiO48UcyeEP5SA.0</a></td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Apr 07 2021 20:17:26 GMT-0700 (Pacific Daylight Time)">03:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">that's a UI for build/test automation</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Apr 07 2021 20:17:39 GMT-0700 (Pacific Daylight Time)">03:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the URL shows the latest mozilla-central tip's result</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Apr 07 2021 20:18:02 GMT-0700 (Pacific Daylight Time)">03:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">currently it selects build job for linux x64, debug build</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Apr 07 2021 20:18:12 GMT-0700 (Pacific Daylight Time)">03:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the bottom half of the page shows the details of the job</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Apr 07 2021 20:18:20 GMT-0700 (Pacific Daylight Time)">03:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">and there's "Artifacts" tab there</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Apr 07 2021 20:18:41 GMT-0700 (Pacific Daylight Time)">03:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">and it contains <code><a href="http://target.jsshell.zip">target.jsshell.zip</a></code> link, that I think is JS shell binary</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Apr 07 2021 20:19:36 GMT-0700 (Pacific Daylight Time)">03:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">The powerful forbidden webdev tool</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Apr 07 2021 20:20:44 GMT-0700 (Pacific Daylight Time)">03:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">looks like the archive contains <code>js</code> binary and some <code>.so</code> files</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Apr 07 2021 20:24:07 GMT-0700 (Pacific Daylight Time)">03:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I did another experiment that, call a function both with Int32 and Float32 in one callsite, and then call with Float32 in other callsite, and looks like the callsite with Float32 generates optimized code, with specializaton on function inlining</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Apr 07 2021 20:24:41 GMT-0700 (Pacific Daylight Time)">03:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Oh so it's callsite based?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Apr 07 2021 20:25:16 GMT-0700 (Pacific Daylight Time)">03:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, if the method is small enough (so that the function is inlined), and the callsite uses only one type, you don't have to worry about other callsite's type</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Apr 07 2021 20:25:57 GMT-0700 (Pacific Daylight Time)">03:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Is inlining something that happens gradually, or will small functions always be inlined whenever the JIT runs?</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Apr 07 2021 20:27:48 GMT-0700 (Pacific Daylight Time)">03:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">I don't know the entire latest behavior tho, for my experiment, the small function (one liner) is inlined in the first JIT compilation</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Apr 07 2021 20:28:29 GMT-0700 (Pacific Daylight Time)">03:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">you could wait maybe 8 hours or so, until JIT devs wake up</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Apr 07 2021 20:28:46 GMT-0700 (Pacific Daylight Time)">03:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">you can get more detailed info then</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Apr 07 2021 20:30:13 GMT-0700 (Pacific Daylight Time)">03:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">I'm trying out the js shell, where do the logs get written to?</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Apr 07 2021 20:30:31 GMT-0700 (Pacific Daylight Time)">03:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">in <code>/tmp/ion.json</code></td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Apr 07 2021 20:30:47 GMT-0700 (Pacific Daylight Time)">03:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">iongraph loads from there</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Apr 07 2021 20:32:21 GMT-0700 (Pacific Daylight Time)">03:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">oh, also, if you're using recent python, iongraph may fail because of missing <code>cgi.escape</code> method.  in that case try rewriting <code>cgi</code> with <code>html</code> in the source code</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Apr 07 2021 20:32:49 GMT-0700 (Pacific Daylight Time)">03:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Hey, this is really cool. Thanks for telling me about iongraph/js shell</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Apr 07 2021 20:33:01 GMT-0700 (Pacific Daylight Time)">03:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Hey, why we sometimes directly guardshape on a newobject...</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Apr 07 2021 20:33:12 GMT-0700 (Pacific Daylight Time)">03:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">but sometimes we need unbox it?</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Apr 07 2021 20:33:51 GMT-0700 (Pacific Daylight Time)">03:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">I guess it is becauseof |fallible|, but I don't know what is "fallible"...</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Apr 07 2021 20:34:49 GMT-0700 (Pacific Daylight Time)">03:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> oh, also, if you're using recent python, iongraph may fail because of missing <code>cgi.escape</code> method.  in that case try rewriting <code>cgi</code> with <code>html</code> in the source code</blockquote></mx-reply>It works fine on Python 3.9.2</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Apr 07 2021 20:35:16 GMT-0700 (Pacific Daylight Time)">03:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">cool :)</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Apr 07 2021 20:35:31 GMT-0700 (Pacific Daylight Time)">03:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Oh the top of the git log says Deian Stefan fixed that issue Dec 12 2019.</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Apr 07 2021 20:35:37 GMT-0700 (Pacific Daylight Time)">03:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Thanks Stefan. :)</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Apr 07 2021 20:36:14 GMT-0700 (Pacific Daylight Time)">03:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">ah, then I just need to update my local clone</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Apr 07 2021 20:36:28 GMT-0700 (Pacific Daylight Time)">03:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">thank you for the info :)</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Apr 07 2021 20:51:38 GMT-0700 (Pacific Daylight Time)">03:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: one reason I can think of is, because you can modify <code>Object.prototype</code> properties and that changes the shape of new object</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Apr 07 2021 20:51:58 GMT-0700 (Pacific Daylight Time)">03:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">and that will break assumption of the JIT code</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Apr 07 2021 21:19:28 GMT-0700 (Pacific Daylight Time)">04:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-4">18f</span>: one reason I can think of is, because you can modify <code>Object.prototype</code> properties and that changes the shape of new object</blockquote></mx-reply>I am not fully understand, let me debug and think more..</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Apr 07 2021 21:22:18 GMT-0700 (Pacific Daylight Time)">04:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">you can see bailout log by setting <code>IONFLAGS=bailouts</code> environment variable.  try writing a testcase that adds a new property to <code>Object.prototype</code> at some point inside the loop</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Apr 07 2021 21:22:41 GMT-0700 (Pacific Daylight Time)">04:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">it will trigger bailout from guardshape</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Apr 07 2021 21:24:18 GMT-0700 (Pacific Daylight Time)">04:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">ok!</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Wed Apr 07 2021 21:24:21 GMT-0700 (Pacific Daylight Time)">04:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Thx</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Wed Apr 07 2021 22:00:05 GMT-0700 (Pacific Daylight Time)">05:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">borane</span>: If you're still around, I wrote the inlining code for Warp and can try to answer any questions about it</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Wed Apr 07 2021 22:00:19 GMT-0700 (Pacific Daylight Time)">05:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">(Not asleep, just making dinner)</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Wed Apr 07 2021 22:03:22 GMT-0700 (Pacific Daylight Time)">05:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Quick summary of how inlining works: we keep a warmup counter for each function, and increment it when you call the function or when the function jumps back to the top of a loop. When the warmup counter gets hot enough, we do an optimization compilation. When the warmup counter is about halfway to that point, we do "trial inlining".</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Wed Apr 07 2021 22:05:59 GMT-0700 (Pacific Daylight Time)">05:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">We look at all the calls in the function and figure out whether they have been hit often enough and always call the same small function</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Wed Apr 07 2021 22:07:25 GMT-0700 (Pacific Daylight Time)">05:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">If they are, we create a new ICScript (which ~holds profiling data) for the callee, and modify the call so that it always uses the new ICScript. The ICScript is only ever used for this call site, so the profiling data it collects is specific to this invocation </td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Wed Apr 07 2021 22:08:07 GMT-0700 (Pacific Daylight Time)">05:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">When we eventually compile the caller, we also generate code for the callee, and use the specialized ICScript</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Wed Apr 07 2021 22:08:34 GMT-0700 (Pacific Daylight Time)">05:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">So anything that was monomorphic for calls from that call side will be optimized efficiently in Warp</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Wed Apr 07 2021 22:09:14 GMT-0700 (Pacific Daylight Time)">05:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Right now the size limit on inlineable functions is quite strict, because inlining too aggressively can slow things down</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Wed Apr 07 2021 22:09:38 GMT-0700 (Pacific Daylight Time)">05:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">But we're doing some experiments right now to see whether we should tweak inlining heuristics</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Wed Apr 07 2021 22:10:20 GMT-0700 (Pacific Daylight Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Roughly speaking what's the size of the largest inlineable functions?</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Wed Apr 07 2021 22:10:57 GMT-0700 (Pacific Daylight Time)">05:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">130 bytecode ops, which doesn't necessarily correspond directly to anything in the JS source</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Wed Apr 07 2021 22:12:12 GMT-0700 (Pacific Daylight Time)">05:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">But as an example, here's some self-hosted Array code that was just barely too long: <a href="https://searchfox.org/mozilla-central/source/js/src/builtin/Array.js#1155-1184">https://searchfox.org/mozilla-central/source/js/src/builtin/Array.js#1155-1184</a></td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Wed Apr 07 2021 22:12:44 GMT-0700 (Pacific Daylight Time)">05:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">If you have a copy of the shell, you can see the bytecode using the <code>dis()</code> function</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Wed Apr 07 2021 22:13:26 GMT-0700 (Pacific Daylight Time)">05:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><pre><code>js&gt; function foo(a,b) { return a + b; }
js&gt; dis(foo)
flags: CONSTRUCTOR
loc     op
-----   --
main:
00000:  GetArg 0                        # a
00003:  GetArg 1                        # a b
00006:  Add                             # (a + b)
00007:  Return                          # 
00008:  RetRval                         # !!! UNREACHABLE !!!
</code></pre>
</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Wed Apr 07 2021 22:13:41 GMT-0700 (Pacific Daylight Time)">05:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">I see</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Wed Apr 07 2021 22:15:02 GMT-0700 (Pacific Daylight Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">(But there's a good chance that we're about to increase the limit, so don't make any important decisions based on the numbers here)</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Wed Apr 07 2021 22:15:48 GMT-0700 (Pacific Daylight Time)">05:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">So essentially, my goal is to figure out whether or not calling <code>add</code> on IntegerVec2 can be expected to deoptimize <code>add</code> on <code>FloatVec2</code></td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Wed Apr 07 2021 22:16:38 GMT-0700 (Pacific Daylight Time)">05:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Quickly typing that into the shell, it's well below the limit</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Wed Apr 07 2021 22:16:50 GMT-0700 (Pacific Daylight Time)">05:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">So it will be inlined wherever it's hot</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Wed Apr 07 2021 22:17:55 GMT-0700 (Pacific Daylight Time)">05:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">And if my understanding is correct inlining makes functions immune to deoptimization due to calls elsewhere? I guess that makes sense since the guards are inlined too.</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Wed Apr 07 2021 22:18:36 GMT-0700 (Pacific Daylight Time)">05:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yep</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Wed Apr 07 2021 22:19:41 GMT-0700 (Pacific Daylight Time)">05:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">A 4x4 matrix multiplication takes roughly 128 arithmetic operations so it might come in over the limit</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Wed Apr 07 2021 22:20:48 GMT-0700 (Pacific Daylight Time)">05:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">It's the static size of the code, not the number of operations executed</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Wed Apr 07 2021 22:21:47 GMT-0700 (Pacific Daylight Time)">05:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Oh good idea it didn't occur to me that rolling the loop could be faster due to code size</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Wed Apr 07 2021 22:22:55 GMT-0700 (Pacific Daylight Time)">05:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Again, I should emphasize that what I'm describing is the behaviour right now, and there's a very real chance that it will change in the future </td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Wed Apr 07 2021 22:23:55 GMT-0700 (Pacific Daylight Time)">05:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">If you're writing code that benefits a lot from inlining, and we do not inline it, then that's arguably a problem with our code, not yours</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Wed Apr 07 2021 22:24:42 GMT-0700 (Pacific Daylight Time)">05:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">For example, we've considered tracking whether we've seen polymorphism in a function, and inlining it more aggressively if we have (because we might be able to make it monomorphic for this call site)</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Wed Apr 07 2021 22:25:12 GMT-0700 (Pacific Daylight Time)">05:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">So don't twist your code into knots trying to target our current heuristics</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Wed Apr 07 2021 22:26:22 GMT-0700 (Pacific Daylight Time)">05:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: For unboxing NewObject: are you looking at scalar replacement?</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Wed Apr 07 2021 22:29:12 GMT-0700 (Pacific Daylight Time)">05:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">If so, this patch might help explain: <a href="https://phabricator.services.mozilla.com/D107305">https://phabricator.services.mozilla.com/D107305</a></td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Wed Apr 07 2021 22:30:13 GMT-0700 (Pacific Daylight Time)">05:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">When WarpBuilder is creating a loop, we don't know the type of the phi inputs from the back edge, because we haven't seen it yet</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Wed Apr 07 2021 22:33:48 GMT-0700 (Pacific Daylight Time)">05:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">So if CacheIRTranspiler sees a <code>GuardToObject</code>, then it isn't certain that <code>arguments</code> is an object, so it generates an Unbox just in case</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Wed Apr 07 2021 22:34:15 GMT-0700 (Pacific Daylight Time)">05:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">GVN will remove that unbox, but scalar replacement runs before GVN</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Wed Apr 07 2021 22:51:43 GMT-0700 (Pacific Daylight Time)">05:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">is there some document about performance best practice when embedding sm?  i build a shared library what will be use to parse javascript code by "openresy-lua code","openresty-lua code" will call "boilerplate::RunExample" many times. i found the code's performance is bad, rps decrease to "40 RPS" (without call "boilerplate::RunExample" rps is "15000 RPS"). i use "locust" tool to test "RPS".</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Wed Apr 07 2021 22:51:48 GMT-0700 (Pacific Daylight Time)">05:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">code is on "<a href="https://gist.github.com/leveryd/f4af9aaa9b9719023a2215b99e017322&quot;">https://gist.github.com/leveryd/f4af9aaa9b9719023a2215b99e017322"</a>;</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Wed Apr 07 2021 22:55:58 GMT-0700 (Pacific Daylight Time)">05:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> If so, this patch might help explain: <a href="https://phabricator.services.mozilla.com/D107305">https://phabricator.services.mozilla.com/D107305</a></blockquote></mx-reply>Yes, I see scalar replacement.</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Wed Apr 07 2021 22:56:31 GMT-0700 (Pacific Daylight Time)">05:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">|scalar replacement == "escape analysis"|</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Wed Apr 07 2021 22:56:40 GMT-0700 (Pacific Daylight Time)">05:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">I use this way to understand it.</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Wed Apr 07 2021 22:57:07 GMT-0700 (Pacific Daylight Time)">05:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">But if a unbox use it, it will won't think it is !escape.</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Wed Apr 07 2021 22:57:21 GMT-0700 (Pacific Daylight Time)">05:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">escape... typo error.</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Wed Apr 07 2021 22:57:54 GMT-0700 (Pacific Daylight Time)">05:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Escape analysis and scalar replacement are connected</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Wed Apr 07 2021 22:58:08 GMT-0700 (Pacific Daylight Time)">05:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Escape analysis checks to see if objects escape the function</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Wed Apr 07 2021 22:58:57 GMT-0700 (Pacific Daylight Time)">05:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">If they don't, then scalar replacement rewrites the code to avoid allocating the object</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Wed Apr 07 2021 22:59:18 GMT-0700 (Pacific Daylight Time)">05:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> If they don't, then scalar replacement rewrites the code to avoid allocating the object</blockquote></mx-reply>1</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Wed Apr 07 2021 22:59:57 GMT-0700 (Pacific Daylight Time)">05:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Escape analysis and scalar replacement are connected</blockquote></mx-reply>Means, scarlar replacement will do more work?</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Wed Apr 07 2021 23:01:19 GMT-0700 (Pacific Daylight Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"> Escape analysis tells us if it is safe to do scalar replacement. Scalar replacement does the work.</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Wed Apr 07 2021 23:01:56 GMT-0700 (Pacific Daylight Time)">06:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">oh!</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Wed Apr 07 2021 23:02:08 GMT-0700 (Pacific Daylight Time)">06:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">seems I know what u means..</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Wed Apr 07 2021 23:02:40 GMT-0700 (Pacific Daylight Time)">06:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/source/js/src/jit/ScalarReplacement.cpp#1810-1815">Here</a>, <code>replacer.escapes(ins)</code> is escape analysis, and <code><a href="http://replacer.run">replacer.run</a>()</code> is scalar replacement</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Wed Apr 07 2021 23:03:12 GMT-0700 (Pacific Daylight Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">function jit(){let o =  {x:1, y:2}; let sum = o.x + o.y};</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Wed Apr 07 2021 23:03:16 GMT-0700 (Pacific Daylight Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">opt it.</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Wed Apr 07 2021 23:03:47 GMT-0700 (Pacific Daylight Time)">06:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">function jit(){let o =  {let sum = o_x + o_y;};


</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Wed Apr 07 2021 23:04:02 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">The pass names "scalar replacement".</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Wed Apr 07 2021 23:04:11 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">why we could do it .</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Wed Apr 07 2021 23:04:23 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">because we know "o won't escape"</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Wed Apr 07 2021 23:04:38 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> because we know "o won't escape"</blockquote></mx-reply>This is "escape analysis"</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Wed Apr 07 2021 23:04:42 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">right?</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Wed Apr 07 2021 23:04:47 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yep, exactly!</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Wed Apr 07 2021 23:04:57 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">ok!</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Wed Apr 07 2021 23:04:59 GMT-0700 (Pacific Daylight Time)">06:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Thx</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Thu Apr 08 2021 00:22:36 GMT-0700 (Pacific Daylight Time)">07:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@ashwiniwankhede:mozilla.org">ashwiniwankhede</span>&gt;</div></td><td class="msg-cell">hello. I made some changes in a file, but those were not good so i did revert the changes. now the file is as originally downloaded but when I run the jit-test all the tests are failing. I am not able to understand why?</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Thu Apr 08 2021 00:31:36 GMT-0700 (Pacific Daylight Time)">07:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">have you tried building after reverting?</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Thu Apr 08 2021 00:32:34 GMT-0700 (Pacific Daylight Time)">07:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@ashwiniwankhede:mozilla.org">ashwiniwankhede</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> have you tried building after reverting?</blockquote></mx-reply>yes. i did.</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Thu Apr 08 2021 00:33:39 GMT-0700 (Pacific Daylight Time)">07:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">so you did something like <code>hg up central -C; ./mach build; ./mach jit-test</code> if i got it right</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Thu Apr 08 2021 00:34:13 GMT-0700 (Pacific Daylight Time)">07:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">maybe try <code>./mach clobber</code> followed by <code>./mach build</code> in central and see if that works</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Thu Apr 08 2021 00:42:33 GMT-0700 (Pacific Daylight Time)">07:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@ashwiniwankhede:mozilla.org">ashwiniwankhede</span>&gt;</div></td><td class="msg-cell">It says. The shell is not executable. </td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Thu Apr 08 2021 00:47:00 GMT-0700 (Pacific Daylight Time)">07:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">could check echo $MOZCONFIG</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Thu Apr 08 2021 00:47:06 GMT-0700 (Pacific Daylight Time)">07:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">could you*</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Thu Apr 08 2021 00:47:38 GMT-0700 (Pacific Daylight Time)">07:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">maybe after restarting pc the path is gone</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Thu Apr 08 2021 00:49:47 GMT-0700 (Pacific Daylight Time)">07:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@ashwiniwankhede:mozilla.org">ashwiniwankhede</span>&gt;</div></td><td class="msg-cell">$ echo MOZCONFIG
MOZCONFIG

result</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Thu Apr 08 2021 00:49:59 GMT-0700 (Pacific Daylight Time)">07:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">ooh</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Thu Apr 08 2021 00:50:17 GMT-0700 (Pacific Daylight Time)">07:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">export MOZCONFIG=&lt;path to the mozconfig&gt;</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Thu Apr 08 2021 00:51:49 GMT-0700 (Pacific Daylight Time)">07:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">export MOZCONFIG=$HOME/mozconfigs/debug (this one is given in the documetnation) but I guess you made it another path</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Thu Apr 08 2021 00:52:59 GMT-0700 (Pacific Daylight Time)">07:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> export MOZCONFIG=&lt;path to the mozconfig&gt;</blockquote></mx-reply>after this run echo $MOZCONFIG and see if it showing the path to the file</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Thu Apr 08 2021 00:53:31 GMT-0700 (Pacific Daylight Time)">07:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell">then mach build and mach jit-test . I think it will work</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Thu Apr 08 2021 01:15:33 GMT-0700 (Pacific Daylight Time)">08:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-4">18f</span>: For unboxing NewObject: are you looking at scalar replacement?</blockquote></mx-reply>Hey, If I try to use let o = {x:1, y:2};</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Thu Apr 08 2021 01:15:51 GMT-0700 (Pacific Daylight Time)">08:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">then x and y always be "fixedslot".</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Thu Apr 08 2021 01:16:20 GMT-0700 (Pacific Daylight Time)">08:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Can I create a "DynamicSlot" by newObject</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Thu Apr 08 2021 01:16:22 GMT-0700 (Pacific Daylight Time)">08:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">?</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Thu Apr 08 2021 01:16:58 GMT-0700 (Pacific Daylight Time)">08:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">I use this way, but I am failed...</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Thu Apr 08 2021 01:18:29 GMT-0700 (Pacific Daylight Time)">08:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: you need more than 16 properties. Or something like: <code>var o = {}; o.x1 = 1; ... o.x5 = 5</code> (I think there are 4 inline slots in this case)</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Thu Apr 08 2021 01:21:07 GMT-0700 (Pacific Daylight Time)">08:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">uh, I success.</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Thu Apr 08 2021 01:21:11 GMT-0700 (Pacific Daylight Time)">08:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Thanks!</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Thu Apr 08 2021 02:25:16 GMT-0700 (Pacific Daylight Time)">09:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@leveryd:mozilla.org">leveryd</span>&gt;</div></td><td class="msg-cell">hello is there some document about performance best practice when embedding sm?  i build a shared library what will be used to parse javascript code by "openresy-lua code","openresty-lua code" will call "boilerplate::RunExample" many times. i found the code's performance is bad, rps decrease to "40 RPS" (without call "boilerplate::RunExample" rps is "15000 RPS"). i use "locust" tool to test "RPS".

code is on "<a href="https://gist.github.com/leveryd/f4af9aaa9b9719023a2215b99e017322&quot;">https://gist.github.com/leveryd/f4af9aaa9b9719023a2215b99e017322"</a>;</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Thu Apr 08 2021 03:00:52 GMT-0700 (Pacific Daylight Time)">10:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i m trying to resolve clang format errors: but wen i run locally i m not getting any error  but here it shows:   <a href="https://phabricator.services.mozilla.com/D111168#C3772875NL633">https://phabricator.services.mozilla.com/D111168#C3772875NL633</a></td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Thu Apr 08 2021 03:15:55 GMT-0700 (Pacific Daylight Time)">10:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-9">ashcode</span>: is this with your changes applied? what does <code>hg log -r .</code> say?</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Thu Apr 08 2021 03:18:07 GMT-0700 (Pacific Daylight Time)">10:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-9">ashcode</span>: is this with your changes applied? what does <code>hg log -r .</code> say?</blockquote></mx-reply>oh now it is showing updated code which as used hg pull but before hg pull also i got same out</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Thu Apr 08 2021 03:20:12 GMT-0700 (Pacific Daylight Time)">10:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">but now i m getting errors if i m changing according to wat was written in phabricator</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Thu Apr 08 2021 03:20:27 GMT-0700 (Pacific Daylight Time)">10:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">what's the error?</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Thu Apr 08 2021 03:21:59 GMT-0700 (Pacific Daylight Time)">10:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><pre><code>Processing 3 file(s)...
--- a/js/src/jit/CacheIRHealth.h	2021-04-08 15:38:56.233972418 +0530
+++ b/js/src/jit/CacheIRHealth.h	2021-04-08 15:40:58.817767786 +0530
@@ -33,13 +33,15 @@
 //
 // There are a few ways to generate a health report for a script:
 // 1. Simply running a JS program with the evironment variable
-//    SPEW=CacheIRHealthReport. We generate a health report for a script whenever we
-//    reach the trial inlining threshold.
+//    SPEW=CacheIRHealthReport. We generate a health report for a script
+//    whenever we reach the trial inlining threshold.
 //      ex) SPEW=CacheIRHealthReport dist/bin/js jsprogram.js
-// 2. In the shell you can call CacheIRHealthReport() with no arguments and a report
+// 2. In the shell you can call CacheIRHealthReport() with no arguments and a
+// report
 //    will be generated for all scripts in the current zone.
 //      ex) CacheIRHealthReport()
-// 3. You may also call CacheIRHealthReport() on a particular function to see the
+// 3. You may also call CacheIRHealthReport() on a particular function to see
+// the
 //    health report associated with that function's script.
 //      ex) CacheIRHealthReport(foo)
 //

--- a/js/src/jit/BaselineIC.cpp	2021-04-08 15:37:02.716075922 +0530
+++ b/js/src/jit/BaselineIC.cpp	2021-04-08 15:40:59.257797146 +0530
@@ -630,7 +630,8 @@
                             ICFallbackStub* stub) {
   if (stub-&gt;state().maybeTransition()) {
 #ifdef JS_CACHEIR_SPEW
-    if (cx-&gt;spewer().enabled(cx, frame-&gt;script(), SpewChannel::CacheIRHealthReport)) {
+    if (cx-&gt;spewer().enabled(cx, frame-&gt;script(),
+                             SpewChannel::CacheIRHealthReport)) {
       CacheIRHealth cih;
       RootedScript script(cx, frame-&gt;script());
       cih.rateIC(cx, stub-&gt;icEntry(), script, SpewContext::Transition);

--- a/js/src/util/StructuredSpewer.cpp	2021-04-08 15:40:52.825368666 +0530
+++ b/js/src/util/StructuredSpewer.cpp	2021-04-08 15:40:59.297799817 +0530
@@ -187,9 +187,12 @@
         "usage: SPEW=option,option,... where options can be:\n"
         "\n"
         "  help                     Dump this help message\n"
-        "  channel                  Enable the selected channel from below, if\n"
-        "                           more than one channel is specified, then the\n"
-        "                           channel will be set whichever specified filter\n"
+        "  channel                  Enable the selected channel from below, "
+        "if\n"
+        "                           more than one channel is specified, then "
+        "the\n"
+        "                           channel will be set whichever specified "
+        "filter\n"
         "                           comes first in STRUCTURED_CHANNEL_LIST."
         "  AtStartup                Enable spewing at browser startup instead\n"
         "                           of when gecko profiling starts."
@@ -197,11 +200,14 @@
         " Channels: \n"
         "\n"
         // List Channels
-        "  BaselineICStats          Dump the IC Entry counters during Ion analysis\n"
-        "  ScriptStats              Dump statistics collected by tracelogger that\n"
+        "  BaselineICStats          Dump the IC Entry counters during Ion "
+        "analysis\n"
+        "  ScriptStats              Dump statistics collected by tracelogger "
+        "that\n"
         "                           is aggregated by script. Requires\n"
         "                           JS_TRACE_LOGGING=1\n"
-        "  CacheIRHealthReport      Dump the CacheIR information and associated "
+        "  CacheIRHealthReport      Dump the CacheIR information and "
+        "associated "
         "rating\n"
         // End Channel list
         "\n\n"
</code></pre>
</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Thu Apr 08 2021 03:22:53 GMT-0700 (Pacific Daylight Time)">10:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <pre><code>Processing 3 file(s)...
--- a/js/src/jit/CacheIRHealth.h	2021-04-08 15:38:56.233972418 +0530
+++ b/js/src/jit/CacheIRHealth.h	2021-04-08 15:40:58.817767786 +0530
@@ -33,13 +33,15 @@
 //
 // There are a few ways to generate a health report for a script:
 // 1. Simply running a JS program with the evironment variable
-//    SPEW=CacheIRHealthReport. We generate a health report for a script whenever we
-//    reach the trial inlining threshold.
+//    SPEW=CacheIRHealthReport. We generate a health report for a script
+//    whenever we reach the trial inlining threshold.
 //      ex) SPEW=CacheIRHealthReport dist/bin/js jsprogram.js
-// 2. In the shell you can call CacheIRHealthReport() with no arguments and a report
+// 2. In the shell you can call CacheIRHealthReport() with no arguments and a
+// report
 //    will be generated for all scripts in the current zone.
 //      ex) CacheIRHealthReport()
-// 3. You may also call CacheIRHealthReport() on a particular function to see the
+// 3. You may also call CacheIRHealthReport() on a particular function to see
+// the
 //    health report associated with that function's script.
 //      ex) CacheIRHealthReport(foo)
 //

--- a/js/src/jit/BaselineIC.cpp	2021-04-08 15:37:02.716075922 +0530
+++ b/js/src/jit/BaselineIC.cpp	2021-04-08 15:40:59.257797146 +0530
@@ -630,7 +630,8 @@
                             ICFallbackStub* stub) {
   if (stub-&gt;state().maybeTransition()) {
 #ifdef JS_CACHEIR_SPEW
-    if (cx-&gt;spewer().enabled(cx, frame-&gt;script(), SpewChannel::CacheIRHealthReport)) {
+    if (cx-&gt;spewer().enabled(cx, frame-&gt;script(),
+                             SpewChannel::CacheIRHealthReport)) {
       CacheIRHealth cih;
       RootedScript script(cx, frame-&gt;script());
       cih.rateIC(cx, stub-&gt;icEntry(), script, SpewContext::Transition);

--- a/js/src/util/StructuredSpewer.cpp	2021-04-08 15:40:52.825368666 +0530
+++ b/js/src/util/StructuredSpewer.cpp	2021-04-08 15:40:59.297799817 +0530
@@ -187,9 +187,12 @@
         "usage: SPEW=option,option,... where options can be:\n"
         "\n"
         "  help                     Dump this help message\n"
-        "  channel                  Enable the selected channel from below, if\n"
-        "                           more than one channel is specified, then the\n"
-        "                           channel will be set whichever specified filter\n"
+        "  channel                  Enable the selected channel from below, "
+        "if\n"
+        "                           more than one channel is specified, then "
+        "the\n"
+        "                           channel will be set whichever specified "
+        "filter\n"
         "                           comes first in STRUCTURED_CHANNEL_LIST."
         "  AtStartup                Enable spewing at browser startup instead\n"
         "                           of when gecko profiling starts."
@@ -197,11 +200,14 @@
         " Channels: \n"
         "\n"
         // List Channels
-        "  BaselineICStats          Dump the IC Entry counters during Ion analysis\n"
-        "  ScriptStats              Dump statistics collected by tracelogger that\n"
+        "  BaselineICStats          Dump the IC Entry counters during Ion "
+        "analysis\n"
+        "  ScriptStats              Dump statistics collected by tracelogger "
+        "that\n"
         "                           is aggregated by script. Requires\n"
         "                           JS_TRACE_LOGGING=1\n"
-        "  CacheIRHealthReport      Dump the CacheIR information and associated "
+        "  CacheIRHealthReport      Dump the CacheIR information and "
+        "associated "
         "rating\n"
         // End Channel list
         "\n\n"
</code></pre>
</blockquote></mx-reply>dis is the output of :./mach clang-format -s -p js/src/jit/CacheIRHealth.h js/src/jit/BaselineIC.cpp js/src/util/StructuredSpewer.cpp</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Thu Apr 08 2021 03:23:29 GMT-0700 (Pacific Daylight Time)">10:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">I didn't check it exactly but it mostly matches the output I see on phabricator?</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Thu Apr 08 2021 03:23:47 GMT-0700 (Pacific Daylight Time)">10:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I didn't check it exactly but it mostly matches the output I see on phabricator?</blockquote></mx-reply>yh exactly</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Thu Apr 08 2021 03:24:20 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">clang-format isn't very smart in this case, you should format the comment a bit differently than it's suggesting. It just wants it to fit in 80 characters per line</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Thu Apr 08 2021 03:24:30 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">how can i directly import the patch as shown in phab using hg import</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Thu Apr 08 2021 03:25:45 GMT-0700 (Pacific Daylight Time)">10:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">if you don't use <code>-s</code> I think it applies the changes instead of showing them</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Thu Apr 08 2021 03:27:37 GMT-0700 (Pacific Daylight Time)">10:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">(you probably want to tidy up the comment in CacheIRHealth.h manually after that so it doesn't break after one word)</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Thu Apr 08 2021 03:53:14 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"> i m not able to amend the commit which i commited i think it is because i used update central ..can anyone tell how to fix this?.I thought of closing previous pharicator link and creating a new link ..with my present changes ?can anything else be done if not that?</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Thu Apr 08 2021 03:57:54 GMT-0700 (Pacific Daylight Time)">10:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">hmm, is what happened the following? You created a commit on an old central, updated to the new central, did some work. You want to apply this work to your old branch, but can't find it?</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Thu Apr 08 2021 03:58:08 GMT-0700 (Pacific Daylight Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">did you set up hg to have the <code>hg wip</code> command?</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Thu Apr 08 2021 03:58:22 GMT-0700 (Pacific Daylight Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> did you set up hg to have the <code>hg wip</code> command?</blockquote></mx-reply>no</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Thu Apr 08 2021 03:58:43 GMT-0700 (Pacific Daylight Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">hg wip is a visualization of the tree</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Thu Apr 08 2021 03:58:57 GMT-0700 (Pacific Daylight Time)">10:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">looks like this</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Thu Apr 08 2021 03:59:13 GMT-0700 (Pacific Daylight Time)">10:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> hg wip is a visualization of the tree</blockquote></mx-reply>yh ik but i didnt setup dats y it shows me not found wip</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Thu Apr 08 2021 03:59:36 GMT-0700 (Pacific Daylight Time)">10:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">no worries, i am getting to it -- just explaining the tool a bit :)</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Thu Apr 08 2021 03:59:46 GMT-0700 (Pacific Daylight Time)">10:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">in order to get it set up, you can run <code>./mach bootstrap</code> again</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Thu Apr 08 2021 04:00:03 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> in order to get it set up, you can run <code>./mach bootstrap again</code></blockquote></mx-reply>for linux also ryt?</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Thu Apr 08 2021 04:00:12 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Thu Apr 08 2021 04:00:19 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">so here, i will do it with you</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Thu Apr 08 2021 04:00:23 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">first option is here:</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Thu Apr 08 2021 04:00:39 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you probably want to select <code>2</code> here</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Thu Apr 08 2021 04:01:14 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">answer whatever prompts that are not y/n</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Thu Apr 08 2021 04:01:15 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">actually my changes are uncommitted ,should i leave it as it is and do everything again?i mean use bootstrap</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Thu Apr 08 2021 04:01:34 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">bootstrap shouldn't impact your tree afaik</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Thu Apr 08 2021 04:01:41 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you can save them</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Thu Apr 08 2021 04:01:52 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">one way to do that is through <code>hg diff &gt; my-patch.diff</code></td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Thu Apr 08 2021 04:01:56 GMT-0700 (Pacific Daylight Time)">11:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">then later you can apply those changes</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Thu Apr 08 2021 04:02:03 GMT-0700 (Pacific Daylight Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">ill walk you through that</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Thu Apr 08 2021 04:02:13 GMT-0700 (Pacific Daylight Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">one more doubt</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Thu Apr 08 2021 04:02:54 GMT-0700 (Pacific Daylight Time)">11:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">In my old central also , i committed the changes but those changes were not landed just reviewd</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Thu Apr 08 2021 04:03:24 GMT-0700 (Pacific Daylight Time)">11:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">by old central -- you mean, same repo, but from an earlier moment in time?</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Thu Apr 08 2021 04:03:41 GMT-0700 (Pacific Daylight Time)">11:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">if you pushed to phabricator, but lost the changes locally, they are also recoverable</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Thu Apr 08 2021 04:03:58 GMT-0700 (Pacific Daylight Time)">11:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">but, if you have them still in tree on your local machine, you will be able to find them via hg wip</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Thu Apr 08 2021 04:04:08 GMT-0700 (Pacific Daylight Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you can also find them via hg log, but it is a bit harder</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Thu Apr 08 2021 04:04:27 GMT-0700 (Pacific Daylight Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">for getting hg wip set up, the first important prompt is this one:</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Thu Apr 08 2021 04:04:39 GMT-0700 (Pacific Daylight Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">(this is in mach bootstrap)</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Thu Apr 08 2021 04:04:43 GMT-0700 (Pacific Daylight Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you want to say <code>y</code> here</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Thu Apr 08 2021 04:04:46 GMT-0700 (Pacific Daylight Time)">11:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">ok i ll setup wip with u</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Thu Apr 08 2021 04:05:11 GMT-0700 (Pacific Daylight Time)">11:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">first question is about evolve -- it's up to you if you want it</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Thu Apr 08 2021 04:05:39 GMT-0700 (Pacific Daylight Time)">11:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">evolve is helpful in updating your code</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Thu Apr 08 2021 04:06:27 GMT-0700 (Pacific Daylight Time)">11:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">first feauture is hg help config.ui</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Thu Apr 08 2021 04:06:52 GMT-0700 (Pacific Daylight Time)">11:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">ah, shit -- i already set everything up</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Thu Apr 08 2021 04:06:55 GMT-0700 (Pacific Daylight Time)">11:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">my stuff is out of order</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Thu Apr 08 2021 04:07:02 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">oh</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Thu Apr 08 2021 04:07:13 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">well.... hm -- eventually you will get to an option that asks about hg wip as an alias</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Thu Apr 08 2021 04:07:13 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">its okay i ll tel ..u guide me</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Thu Apr 08 2021 04:07:19 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">make sure you say <code>y</code> to that one</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Thu Apr 08 2021 04:07:37 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> first feauture is hg help config.ui</blockquote></mx-reply>wat abt dis now?</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Thu Apr 08 2021 04:07:43 GMT-0700 (Pacific Daylight Time)">11:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">up to you</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Thu Apr 08 2021 04:08:12 GMT-0700 (Pacific Daylight Time)">11:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">the default configs are helpful, i would say if it is your first time say yes to everything, then next time if you know you don't use an extension you can remove it</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Thu Apr 08 2021 04:09:00 GMT-0700 (Pacific Daylight Time)">11:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i use git as well, config.ui wont effect dat in anyway ryt?</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Thu Apr 08 2021 04:09:11 GMT-0700 (Pacific Daylight Time)">11:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">are you using git to interact with mercurial?</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Thu Apr 08 2021 04:09:24 GMT-0700 (Pacific Daylight Time)">11:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> are you using git to interact with mercurial?</blockquote></mx-reply>no no ..for my personal use</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Thu Apr 08 2021 04:10:00 GMT-0700 (Pacific Daylight Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">i don't have it in front of me, but i would be surprised if it impacted git</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Thu Apr 08 2021 04:10:17 GMT-0700 (Pacific Daylight Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">the only way i could see it impacting git is if you are using git cinnabar to interface with mercurial</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Thu Apr 08 2021 04:10:26 GMT-0700 (Pacific Daylight Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> i use git as well, config.ui wont effect dat in anyway ryt?</blockquote></mx-reply>i m askin will it affect?</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Thu Apr 08 2021 04:10:53 GMT-0700 (Pacific Daylight Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">if you are worried, you can say no to this for now and check the documentation later</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Thu Apr 08 2021 04:10:57 GMT-0700 (Pacific Daylight Time)">11:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">it is unrelated to hg wip</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Thu Apr 08 2021 04:11:29 GMT-0700 (Pacific Daylight Time)">11:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">for evolve - y </td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Thu Apr 08 2021 04:11:37 GMT-0700 (Pacific Daylight Time)">11:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">evolve is also not so important, up to you</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Thu Apr 08 2021 04:11:48 GMT-0700 (Pacific Daylight Time)">11:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">the one you are looking for says something about aliasing a command to <code>hg wip</code></td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Thu Apr 08 2021 04:12:22 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">yh wip is done</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Thu Apr 08 2021 04:12:31 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">now its askin smart annotate</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Thu Apr 08 2021 04:12:31 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">these are all mercurial plugins -- git is a different svn so they shouldn't affect your setup for other projects</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Thu Apr 08 2021 04:12:38 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you can say no to the rest</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Thu Apr 08 2021 04:12:43 GMT-0700 (Pacific Daylight Time)">11:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> these are all mercurial plugins -- git is a different svn so they shouldn't affect your setup for other projects</blockquote></mx-reply>great</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Thu Apr 08 2021 04:13:59 GMT-0700 (Pacific Daylight Time)">11:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">should i write changes to hgrc file? y/n</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Thu Apr 08 2021 04:14:20 GMT-0700 (Pacific Daylight Time)">11:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">y(es)</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Thu Apr 08 2021 04:15:23 GMT-0700 (Pacific Daylight Time)">11:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">enable telemetry</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Thu Apr 08 2021 04:15:49 GMT-0700 (Pacific Daylight Time)">11:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">you can say no, doesn't matter much</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Thu Apr 08 2021 04:19:20 GMT-0700 (Pacific Daylight Time)">11:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@ashwiniwankhede:mozilla.org">ashwiniwankhede</span>&gt;</div></td><td class="msg-cell">hello. i made changes to the code and the jit-test and jstests have passed with --enable-debug --enable-optimize 
can i commit it now?</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Thu Apr 08 2021 04:22:36 GMT-0700 (Pacific Daylight Time)">11:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you should commit your work, often, even if it is intermediary</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Thu Apr 08 2021 04:22:41 GMT-0700 (Pacific Daylight Time)">11:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">so, yes!</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Thu Apr 08 2021 04:22:52 GMT-0700 (Pacific Daylight Time)">11:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you can always squash changes later or rearrange them</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Thu Apr 08 2021 04:23:24 GMT-0700 (Pacific Daylight Time)">11:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@ashwiniwankhede:mozilla.org">ashwiniwankhede</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> you should commit your work, often, even if it is intermediary</blockquote></mx-reply>Okay. Thanks </td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Thu Apr 08 2021 04:24:57 GMT-0700 (Pacific Daylight Time)">11:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">after setting up wip what need to be done</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Thu Apr 08 2021 04:25:41 GMT-0700 (Pacific Daylight Time)">11:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you should be ready to go, try running <code>hg wip</code> in your terminal, and see if you can find you branch</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Thu Apr 08 2021 04:28:54 GMT-0700 (Pacific Daylight Time)">11:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i got the bug which i wanted ,wat do to next</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Thu Apr 08 2021 04:29:31 GMT-0700 (Pacific Daylight Time)">11:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">ok, let's say you are on my tree, and you want to revert to this commit</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Thu Apr 08 2021 04:29:48 GMT-0700 (Pacific Daylight Time)">11:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">or maybe you want to rebase</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Thu Apr 08 2021 04:29:57 GMT-0700 (Pacific Daylight Time)">11:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">what you an do is you can copy the id of the commit you are interested in</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Thu Apr 08 2021 04:30:33 GMT-0700 (Pacific Daylight Time)">11:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">if you want to switch to it, you would do <code>hg up &lt;commit id&gt;</code></td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Thu Apr 08 2021 04:30:49 GMT-0700 (Pacific Daylight Time)">11:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">but, you might have work in flight, and if it conflicts with your other changes it will throw</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Thu Apr 08 2021 04:31:21 GMT-0700 (Pacific Daylight Time)">11:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">in that case, you can either save your changes (use either hg shelve if you enabled it, or pipe it to an empty file via <code>hg diff &gt; mypatch.diff</code> as before)</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Thu Apr 08 2021 04:31:54 GMT-0700 (Pacific Daylight Time)">11:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">clear your changes by doing hg up . -C, and then move to the branch you are interested via <code>hg up ...</code> -- once this succeeds, you can apply your changes via <code>hg import mypatch.diff</code>. it will ask you for a commit message, if you aren't ready to commit -- leave it empty. the commit will be aborted but the changes will be there.</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Thu Apr 08 2021 04:32:05 GMT-0700 (Pacific Daylight Time)">11:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">or, if you want to update the target branch to the most recent central</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Thu Apr 08 2021 04:32:15 GMT-0700 (Pacific Daylight Time)">11:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">you can do an hg rebase</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Thu Apr 08 2021 04:43:19 GMT-0700 (Pacific Daylight Time)">11:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">while commiting will i get other commits as well
?</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Thu Apr 08 2021 04:45:14 GMT-0700 (Pacific Daylight Time)">11:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">I don't quite understand the question</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Thu Apr 08 2021 04:45:38 GMT-0700 (Pacific Daylight Time)">11:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">Which other commits do you mean?</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Thu Apr 08 2021 04:55:58 GMT-0700 (Pacific Daylight Time)">11:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">hg up 642696:dd97007028ca if i m doin dis ,it shows uncommited changes are der,i saved my changes into a file ,i thought to import it but hg up is not allowing me to do it,should i use hg up 642696:dd97007028ca --clean ?</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Thu Apr 08 2021 05:02:46 GMT-0700 (Pacific Daylight Time)">12:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">my problem got resolved i guess!! </td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Thu Apr 08 2021 05:04:34 GMT-0700 (Pacific Daylight Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">it worked?</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Thu Apr 08 2021 05:05:18 GMT-0700 (Pacific Daylight Time)">12:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">dese things i did</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Thu Apr 08 2021 05:05:20 GMT-0700 (Pacific Daylight Time)">12:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"> 2023  ./mach bootstrap
 2024  ./mach build
 2025  ./mach run
 2026  ./mach jit-test
 2027  hg wip
 2028  hg diff &gt; mypatch.diff
 2029* 
 2030  hg up 642696:dd97007028ca --clean
 2031  hg import mypatch.diff
 2032  hg up.-C
 2033  hg up .-C
 2034  hg up . -C
 2035  hg import mypatch.diff
 2036  hg pull --rebase

ashita@gigster:~/mozilla-unified$ hg pull --rebase
pulling from <a href="https://hg.mozilla.org/mozilla-unified">https://hg.mozilla.org/mozilla-unified</a>
searching for changes
adding changesets
adding manifests
adding file changes
updated firefox tree tag autoland (+90 commits)                                         
updated firefox tree tag central (+60 commits)
added 90 changesets with 517 changes to 504 files
new changesets dab1af643107:5a9d146f18a0
rebasing 642696:dd97007028ca "Bug 1697644: Resolved naming consistency for CacheIR Health Report r=caroline"
merging js/src/shell/js.cpp                                                             
merging js/src/util/StructuredSpewer.cpp                                                
merging js/src/vm/JSScript.cpp </td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Thu Apr 08 2021 05:06:57 GMT-0700 (Pacific Daylight Time)">12:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1697644">https://bugzil.la/1697644</a>  ASSIGNED (cOde.A4sh)  Naming consistency for CacheIR Health Report</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Thu Apr 08 2021 05:13:02 GMT-0700 (Pacific Daylight Time)">12:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">after i import mypatch.diff, it shows hunk failed,in the modified files,what does dat mean?</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Thu Apr 08 2021 05:14:31 GMT-0700 (Pacific Daylight Time)">12:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">it means that the change did not apply cleanly</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Thu Apr 08 2021 05:14:43 GMT-0700 (Pacific Daylight Time)">12:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">if you do <code>hg status</code>, you will see a list of files</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Thu Apr 08 2021 05:14:51 GMT-0700 (Pacific Daylight Time)">12:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">some of them will have <code>.rej</code> on them, with a longer path anme</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Thu Apr 08 2021 05:15:07 GMT-0700 (Pacific Daylight Time)">12:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">that means that, in this file, these specific changes did not apply because there was a conflict</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Thu Apr 08 2021 05:15:14 GMT-0700 (Pacific Daylight Time)">12:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> some of them will have <code>.rej</code> on them, with a longer path anme</blockquote></mx-reply>dis is shown now as well</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Thu Apr 08 2021 05:15:22 GMT-0700 (Pacific Daylight Time)">12:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">its similar to git conflict resolution, where you have <code>&lt;&lt;&lt;&lt;</code> and <code>=====</code></td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Thu Apr 08 2021 05:15:26 GMT-0700 (Pacific Daylight Time)">12:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">but they are in separate files</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Thu Apr 08 2021 05:15:43 GMT-0700 (Pacific Daylight Time)">12:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">so, to resolve it, you can check the rejected changes and apply them as necessary to your files</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Thu Apr 08 2021 05:16:01 GMT-0700 (Pacific Daylight Time)">12:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> so, to resolve it, you can check the rejected changes and apply them as necessary to your files</blockquote></mx-reply>u mean manually?</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Thu Apr 08 2021 05:16:05 GMT-0700 (Pacific Daylight Time)">12:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Thu Apr 08 2021 07:00:18 GMT-0700 (Pacific Daylight Time)">14:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">tcampbell</span>: <span class="nick-12">sfink</span>: Do we have release notes for SpiderMonkey to mention Bug 1689348 ?</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Thu Apr 08 2021 07:00:20 GMT-0700 (Pacific Daylight Time)">14:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1689348">https://bugzil.la/1689348</a>  ASSIGNED (tcampbell)  Remove non-syntactic scope support from JSExecutionContext</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Thu Apr 08 2021 07:00:54 GMT-0700 (Pacific Daylight Time)">14:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">nbp</span>: the best we have is the migration guide in the embedding examples repo</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Thu Apr 08 2021 07:01:07 GMT-0700 (Pacific Daylight Time)">14:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">That patch is only for the DOM side though</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Thu Apr 08 2021 07:01:31 GMT-0700 (Pacific Daylight Time)">14:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">Since we need to finish ESM-ificiation first to remove from SM</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Thu Apr 08 2021 07:01:45 GMT-0700 (Pacific Daylight Time)">14:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">oh  I had thought this was within the JS engine based on file names, but I did not look at the path</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Thu Apr 08 2021 07:02:27 GMT-0700 (Pacific Daylight Time)">14:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">this is basically just a piece of nsJSUtils</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Thu Apr 08 2021 07:03:13 GMT-0700 (Pacific Daylight Time)">14:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">good point about release notes when we eventually remove though</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Thu Apr 08 2021 07:03:15 GMT-0700 (Pacific Daylight Time)">14:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">yep, I've been there :P</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Thu Apr 08 2021 07:03:41 GMT-0700 (Pacific Daylight Time)">14:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">I guess this is also the reason I am the reviewer.</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Thu Apr 08 2021 07:04:01 GMT-0700 (Pacific Daylight Time)">14:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">haha, yep</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Thu Apr 08 2021 07:05:32 GMT-0700 (Pacific Daylight Time)">14:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">nbp</span>: these are the remaining non-syntactic cases <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1689348#c0">https://bugzilla.mozilla.org/show_bug.cgi?id=1689348#c0</a></td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Thu Apr 08 2021 07:06:26 GMT-0700 (Pacific Daylight Time)">14:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">the HTML Forms one will never go away (but we'll probably redesign the scope chain for it at some point), and the FrameScript case is blocked on ESM-ification hitting 100% which wont be any time soon</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Thu Apr 08 2021 07:09:27 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">strangely I had thought the only reason to keep this was for XUL, where functions were defined in a lot of various places.</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Thu Apr 08 2021 07:09:57 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell">unfortunately, the non-syntactic scope trick got used in many odd places over the years. Each one was more custom than the last, which is why I want them all gone and normalized.</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Thu Apr 08 2021 07:09:58 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Yep, exactly!</blockquote></mx-reply>Hey, I read the source code. Found there are 3 structure for recover on bailout. 1. resume point 2. snapshot 3. recover info.</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Thu Apr 08 2021 07:10:24 GMT-0700 (Pacific Daylight Time)">14:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">would u mind tell me they difference? (I know resume point with your explain....)</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Thu Apr 08 2021 07:10:39 GMT-0700 (Pacific Daylight Time)">14:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">these non-syntatic scope sounds like some implementation of eval-in-frame.</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Thu Apr 08 2021 07:11:04 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: I can help.</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Thu Apr 08 2021 07:11:13 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@tcampbell:mozilla.org">tcampbell</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">nbp</span>: yep. exactly, with all the challenges that come with that</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Thu Apr 08 2021 07:11:27 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-4">18f</span>: I can help.</blockquote></mx-reply>Thx</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Thu Apr 08 2021 07:12:21 GMT-0700 (Pacific Daylight Time)">14:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: recover on bailout is a concept that some instruction which appear as being part of the code is in fact sinked to be executed before every resume points, if used to recover a frame while doing a bailout.</td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Thu Apr 08 2021 07:13:23 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: <a href="https://nbp.github.io/slides/RInstruction/index.html?full#recover-idea">https://nbp.github.io/slides/RInstruction/index.html?full#recover-idea</a> (have a look at these slides)</td></tr>
  <tr class="msg" id="L294"><td class="ts-cell"><a class="ts" href="#L294" alt="Thu Apr 08 2021 07:13:59 GMT-0700 (Pacific Daylight Time)">14:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">This presentation is the presentation I made in front of the SpiderMonkey team when adding recover instruction, and consequently the recovered-on-bailout flag.</td></tr>
  <tr class="msg" id="L295"><td class="ts-cell"><a class="ts" href="#L295" alt="Thu Apr 08 2021 07:15:13 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-4">18f</span>: recover on bailout is a concept that some instruction which appear as being part of the code is in fact sinked to be executed before every resume points, if used to recover a frame while doing a bailout.</blockquote></mx-reply>Can I give myself idea about this?</td></tr>
  <tr class="msg" id="L296"><td class="ts-cell"><a class="ts" href="#L296" alt="Thu Apr 08 2021 07:15:23 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">sure.</td></tr>
  <tr class="msg" id="L297"><td class="ts-cell"><a class="ts" href="#L297" alt="Thu Apr 08 2021 07:15:33 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">I read your blog, but I don't know I am right or not.</td></tr>
  <tr class="msg" id="L298"><td class="ts-cell"><a class="ts" href="#L298" alt="Thu Apr 08 2021 07:15:52 GMT-0700 (Pacific Daylight Time)">14:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">With your example.</td></tr>
  <tr class="msg" id="L299"><td class="ts-cell"><a class="ts" href="#L299" alt="Thu Apr 08 2021 07:16:41 GMT-0700 (Pacific Daylight Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">This one '@a' is not easy to remove.</td></tr>
  <tr class="msg" id="L300"><td class="ts-cell"><a class="ts" href="#L300" alt="Thu Apr 08 2021 07:17:16 GMT-0700 (Pacific Daylight Time)">14:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">because it will used in resume point.</td></tr>
  <tr class="msg" id="L301"><td class="ts-cell"><a class="ts" href="#L301" alt="Thu Apr 08 2021 07:17:45 GMT-0700 (Pacific Daylight Time)">14:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">It is used in a resume point, yes. (I assume the then-block is removed as well?)</td></tr>
  <tr class="msg" id="L302"><td class="ts-cell"><a class="ts" href="#L302" alt="Thu Apr 08 2021 07:17:45 GMT-0700 (Pacific Daylight Time)">14:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">But rethink about this, we found we need its value only in "bailout" occurs.</td></tr>
  <tr class="msg" id="L303"><td class="ts-cell"><a class="ts" href="#L303" alt="Thu Apr 08 2021 07:18:11 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">So when  we run opt code. we don't need the value.</td></tr>
  <tr class="msg" id="L304"><td class="ts-cell"><a class="ts" href="#L304" alt="Thu Apr 08 2021 07:18:28 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">we give it a flag to dicate this, then won't emit any code.</td></tr>
  <tr class="msg" id="L305"><td class="ts-cell"><a class="ts" href="#L305" alt="Thu Apr 08 2021 07:18:39 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">the bailout is in charge of computing the value to save it in the frame, as expected.</td></tr>
  <tr class="msg" id="L306"><td class="ts-cell"><a class="ts" href="#L306" alt="Thu Apr 08 2021 07:18:52 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">"won't emit any code == remove x"</td></tr>
  <tr class="msg" id="L307"><td class="ts-cell"><a class="ts" href="#L307" alt="Thu Apr 08 2021 07:19:17 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">We emit recover-instructions, which are referenced by the snapshots.</td></tr>
  <tr class="msg" id="L308"><td class="ts-cell"><a class="ts" href="#L308" alt="Thu Apr 08 2021 07:19:31 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Then when bailout "occurs", we will recover this value by the flag|recover on bailout|..</td></tr>
  <tr class="msg" id="L309"><td class="ts-cell"><a class="ts" href="#L309" alt="Thu Apr 08 2021 07:19:39 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">oh, sry.</td></tr>
  <tr class="msg" id="L310"><td class="ts-cell"><a class="ts" href="#L310" alt="Thu Apr 08 2021 07:19:46 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">The recover instructions are like a tiny control-flow free interpreted language, which is executed on bailout.</td></tr>
  <tr class="msg" id="L311"><td class="ts-cell"><a class="ts" href="#L311" alt="Thu Apr 08 2021 07:19:46 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">I understand wrong,  </td></tr>
  <tr class="msg" id="L312"><td class="ts-cell"><a class="ts" href="#L312" alt="Thu Apr 08 2021 07:20:39 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">the MIR does not exists anymore when we bailout. This is why we have to recall these instruction in the form of recover-instructions.</td></tr>
  <tr class="msg" id="L313"><td class="ts-cell"><a class="ts" href="#L313" alt="Thu Apr 08 2021 07:21:36 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> the MIR does not exists anymore when we bailout. This is why we have to recall these instruction in the form of recover-instructions.</blockquote></mx-reply>Yeah, I understand this.</td></tr>
  <tr class="msg" id="L314"><td class="ts-cell"><a class="ts" href="#L314" alt="Thu Apr 08 2021 07:21:59 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">If we have "recoverInfo", which "info" will be logged?</td></tr>
  <tr class="msg" id="L315"><td class="ts-cell"><a class="ts" href="#L315" alt="Thu Apr 08 2021 07:24:24 GMT-0700 (Pacific Daylight Time)">14:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-9">leveryd</span>: I'm not sure I'm following, but are you calculating the time taken by <code>boilerplate::RunExample</code> assuming it's executed many times?   creating/destroying context + initializing self-hosted code isn't light task.  if you're going to execute many scripts, it's better reusing single context</td></tr>
  <tr class="msg" id="L316"><td class="ts-cell"><a class="ts" href="#L316" alt="Thu Apr 08 2021 07:24:35 GMT-0700 (Pacific Daylight Time)">14:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">When we lower, we convert the resume point to snapshots. The resume point reference instructions as operands, while snapshots are referencing allocation.</td></tr>
  <tr class="msg" id="L317"><td class="ts-cell"><a class="ts" href="#L317" alt="Thu Apr 08 2021 07:25:03 GMT-0700 (Pacific Daylight Time)">14:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: A recover instruction has no associated register, nor stack location.</td></tr>
  <tr class="msg" id="L318"><td class="ts-cell"><a class="ts" href="#L318" alt="Thu Apr 08 2021 07:25:13 GMT-0700 (Pacific Daylight Time)">14:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><span class="nick-9">leveryd</span>: also, try using profiler to see which function is taking long time</td></tr>
  <tr class="msg" id="L319"><td class="ts-cell"><a class="ts" href="#L319" alt="Thu Apr 08 2021 07:26:55 GMT-0700 (Pacific Daylight Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> When we lower, we convert the resume point to snapshots. The resume point reference instructions as operands, while snapshots are referencing allocation.</blockquote></mx-reply>Yes, I could understand this part.</td></tr>
  <tr class="msg" id="L320"><td class="ts-cell"><a class="ts" href="#L320" alt="Thu Apr 08 2021 07:26:57 GMT-0700 (Pacific Daylight Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: the RecoverInfo is used to collect the DAG of recovered-on-bailout instructions, such that we can create space for these recover instructions, space to encode the instruction and to store the results on bailout.</td></tr>
  <tr class="msg" id="L321"><td class="ts-cell"><a class="ts" href="#L321" alt="Thu Apr 08 2021 07:28:00 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-4">18f</span>: the RecoverInfo is used to collect the DAG of recovered-on-bailout instructions, such that we can create space for these recover instructions, space to encode the instruction and to store the results on bailout.</blockquote></mx-reply>I maybe understand this....</td></tr>
  <tr class="msg" id="L322"><td class="ts-cell"><a class="ts" href="#L322" alt="Thu Apr 08 2021 07:28:08 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Let me try.</td></tr>
  <tr class="msg" id="L323"><td class="ts-cell"><a class="ts" href="#L323" alt="Thu Apr 08 2021 07:28:18 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">If I have a resumepoint.</td></tr>
  <tr class="msg" id="L324"><td class="ts-cell"><a class="ts" href="#L324" alt="Thu Apr 08 2021 07:28:28 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">1 2 3  3 4</td></tr>
  <tr class="msg" id="L325"><td class="ts-cell"><a class="ts" href="#L325" alt="Thu Apr 08 2021 07:28:40 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">4 is add x, y</td></tr>
  <tr class="msg" id="L326"><td class="ts-cell"><a class="ts" href="#L326" alt="Thu Apr 08 2021 07:28:52 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/source/js/src/jit/shared/CodeGenerator-shared.cpp#516-539">https://searchfox.org/mozilla-central/source/js/src/jit/shared/CodeGenerator-shared.cpp#516-539</a></td></tr>
  <tr class="msg" id="L327"><td class="ts-cell"><a class="ts" href="#L327" alt="Thu Apr 08 2021 07:28:53 GMT-0700 (Pacific Daylight Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">and 4 has been set |recoveredOnBailout|</td></tr>
  <tr class="msg" id="L328"><td class="ts-cell"><a class="ts" href="#L328" alt="Thu Apr 08 2021 07:29:28 GMT-0700 (Pacific Daylight Time)">14:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">recoverinfo will log "x" and "y" use it try to recover the value of "add"?</td></tr>
  <tr class="msg" id="L329"><td class="ts-cell"><a class="ts" href="#L329" alt="Thu Apr 08 2021 07:30:25 GMT-0700 (Pacific Daylight Time)">14:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">The snapshot will record <code>x</code> and <code>y</code> allocations, while the RecoverInfo should record the <code>Add</code> operation.</td></tr>
  <tr class="msg" id="L330"><td class="ts-cell"><a class="ts" href="#L330" alt="Thu Apr 08 2021 07:31:24 GMT-0700 (Pacific Daylight Time)">14:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">and provide a <code>4 = recovered-result Add x, y</code> where the result of the addition is expected in the snapshot.</td></tr>
  <tr class="msg" id="L331"><td class="ts-cell"><a class="ts" href="#L331" alt="Thu Apr 08 2021 07:31:51 GMT-0700 (Pacific Daylight Time)">14:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">Like displayed in the second image of the blog post.</td></tr>
  <tr class="msg" id="L332"><td class="ts-cell"><a class="ts" href="#L332" alt="Thu Apr 08 2021 07:32:31 GMT-0700 (Pacific Daylight Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">seems I read wrong code.</td></tr>
  <tr class="msg" id="L333"><td class="ts-cell"><a class="ts" href="#L333" alt="Thu Apr 08 2021 07:33:26 GMT-0700 (Pacific Daylight Time)">14:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Thanks for your explain, But something I can't understand fully. because I lack some knowledge, I decide reread your blog and slide and try again.</td></tr>
  <tr class="msg" id="L334"><td class="ts-cell"><a class="ts" href="#L334" alt="Thu Apr 08 2021 07:33:30 GMT-0700 (Pacific Daylight Time)">14:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">18f</span>: can you use searchfox links instead of screnshot, when possible? This is easier to look back at the code for others.</td></tr>
  <tr class="msg" id="L335"><td class="ts-cell"><a class="ts" href="#L335" alt="Thu Apr 08 2021 07:35:00 GMT-0700 (Pacific Daylight Time)">14:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/source/js/src/jit/shared/Lowering-shared.cpp#235-265">https://searchfox.org/mozilla-central/source/js/src/jit/shared/Lowering-shared.cpp#235-265</a></td></tr>
  <tr class="msg" id="L336"><td class="ts-cell"><a class="ts" href="#L336" alt="Thu Apr 08 2021 07:35:04 GMT-0700 (Pacific Daylight Time)">14:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell">Yes, here</td></tr>
  <tr class="msg" id="L337"><td class="ts-cell"><a class="ts" href="#L337" alt="Thu Apr 08 2021 07:36:30 GMT-0700 (Pacific Daylight Time)">14:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">This is <code>buildSnapshot</code>, so we expect to look for allocations, to build the snapshot which would be interpreted by recover instructions.</td></tr>
  <tr class="msg" id="L338"><td class="ts-cell"><a class="ts" href="#L338" alt="Thu Apr 08 2021 07:37:56 GMT-0700 (Pacific Daylight Time)">14:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@18f:mozilla.org">18f</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> This is <code>buildSnapshot</code>, so we expect to look for allocations, to build the snapshot which would be interpreted by recover instructions.</blockquote></mx-reply>Ok, I will think this carefully.</td></tr>
  <tr class="msg" id="L339"><td class="ts-cell"><a class="ts" href="#L339" alt="Thu Apr 08 2021 08:12:53 GMT-0700 (Pacific Daylight Time)">15:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">having untracked files during commit is an issue? if yes how to resolve it,if no how to remove those files</td></tr>
  <tr class="msg" id="L340"><td class="ts-cell"><a class="ts" href="#L340" alt="Thu Apr 08 2021 08:13:07 GMT-0700 (Pacific Daylight Time)">15:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what are them?</td></tr>
  <tr class="msg" id="L341"><td class="ts-cell"><a class="ts" href="#L341" alt="Thu Apr 08 2021 08:13:20 GMT-0700 (Pacific Daylight Time)">15:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i dont knw,hw to check?</td></tr>
  <tr class="msg" id="L342"><td class="ts-cell"><a class="ts" href="#L342" alt="Thu Apr 08 2021 08:13:28 GMT-0700 (Pacific Daylight Time)">15:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><code>hg status</code></td></tr>
  <tr class="msg" id="L343"><td class="ts-cell"><a class="ts" href="#L343" alt="Thu Apr 08 2021 08:15:09 GMT-0700 (Pacific Daylight Time)">15:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">oh ! those are .rej files which got saved when i was having hg import error.Also, spew output files</td></tr>
  <tr class="msg" id="L344"><td class="ts-cell"><a class="ts" href="#L344" alt="Thu Apr 08 2021 08:17:02 GMT-0700 (Pacific Daylight Time)">15:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">then, usually it's better removing them.  just having them isn't much trouble in term of mercurial's tracking (as long as they are not accidentally added) tho</td></tr>
  <tr class="msg" id="L345"><td class="ts-cell"><a class="ts" href="#L345" alt="Thu Apr 08 2021 08:17:47 GMT-0700 (Pacific Daylight Time)">15:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">what is the safe way to remove them?</td></tr>
  <tr class="msg" id="L346"><td class="ts-cell"><a class="ts" href="#L346" alt="Thu Apr 08 2021 08:19:12 GMT-0700 (Pacific Daylight Time)">15:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell"><code>hg purge</code> seems to remove untracked files.  you might need to enable the purge extension</td></tr>
  <tr class="msg" id="L347"><td class="ts-cell"><a class="ts" href="#L347" alt="Thu Apr 08 2021 08:19:19 GMT-0700 (Pacific Daylight Time)">15:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">or, just remove them one by one manually</td></tr>
  <tr class="msg" id="L348"><td class="ts-cell"><a class="ts" href="#L348" alt="Thu Apr 08 2021 08:23:04 GMT-0700 (Pacific Daylight Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">[extensions]
purge =  Does adding dis line in .hgrc work to enable purge extension?</td></tr>
  <tr class="msg" id="L349"><td class="ts-cell"><a class="ts" href="#L349" alt="Thu Apr 08 2021 08:24:10 GMT-0700 (Pacific Daylight Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L350"><td class="ts-cell"><a class="ts" href="#L350" alt="Thu Apr 08 2021 08:29:21 GMT-0700 (Pacific Daylight Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><p>my hrgc file already contains this extension still it shows unknown command purge.Contents of hrgc file                                                                                  [extensions]<br>mq =<br>purge =<br>rebase =<br>share =<br>transplant =</p>
<p>[ui]<br>username = tester <a href="mailto:tester@example.com">tester@example.com</a></p>
</td></tr>
  <tr class="msg" id="L351"><td class="ts-cell"><a class="ts" href="#L351" alt="Thu Apr 08 2021 08:30:22 GMT-0700 (Pacific Daylight Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">sorry, maybe it's not built-in</td></tr>
  <tr class="msg" id="L352"><td class="ts-cell"><a class="ts" href="#L352" alt="Thu Apr 08 2021 08:32:12 GMT-0700 (Pacific Daylight Time)">15:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">(I haven't used it</td></tr>
  <tr class="msg" id="L353"><td class="ts-cell"><a class="ts" href="#L353" alt="Thu Apr 08 2021 08:33:10 GMT-0700 (Pacific Daylight Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">can i remove them using sudo rm -rf command?</td></tr>
  <tr class="msg" id="L354"><td class="ts-cell"><a class="ts" href="#L354" alt="Thu Apr 08 2021 08:33:25 GMT-0700 (Pacific Daylight Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">please do not use <code>sudo</code></td></tr>
  <tr class="msg" id="L355"><td class="ts-cell"><a class="ts" href="#L355" alt="Thu Apr 08 2021 08:33:29 GMT-0700 (Pacific Daylight Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">You don't need <code>sudo</code> or <code>-rf</code>. Just <code>rm</code> is enough</td></tr>
  <tr class="msg" id="L356"><td class="ts-cell"><a class="ts" href="#L356" alt="Thu Apr 08 2021 08:33:46 GMT-0700 (Pacific Daylight Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> You don't need <code>sudo</code> or <code>-rf</code>. Just <code>rm</code> is enough</blockquote></mx-reply>okay</td></tr>
  <tr class="msg" id="L357"><td class="ts-cell"><a class="ts" href="#L357" alt="Thu Apr 08 2021 08:34:06 GMT-0700 (Pacific Daylight Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> having untracked files during commit is an issue? if yes how to resolve it,if no how to remove those files</blockquote></mx-reply>Having untracked files isn't really an issue; if you would like to clean them up, as Iain says, <code>rm</code> will work</td></tr>
  <tr class="msg" id="L358"><td class="ts-cell"><a class="ts" href="#L358" alt="Thu Apr 08 2021 08:34:49 GMT-0700 (Pacific Daylight Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">that <code>.hgrc</code> looks a bit surprising tho; I would expect to see your name under <code>ui.username</code>, and wouldn't expect to see <code>mq =</code> in there</td></tr>
  <tr class="msg" id="L359"><td class="ts-cell"><a class="ts" href="#L359" alt="Thu Apr 08 2021 08:36:39 GMT-0700 (Pacific Daylight Time)">15:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><code>sudo</code> means "do this as the root user", for admin tasks that require more permissions. <code>-r</code> means "remove the contents of directories recursively". <code>-f</code> means "don't ask for confirmation". Put together, <code>sudo rm -rf</code> is very dangerous, because it can remove almost any directory on your machine if you have a typo.</td></tr>
  <tr class="msg" id="L360"><td class="ts-cell"><a class="ts" href="#L360" alt="Thu Apr 08 2021 09:03:38 GMT-0700 (Pacific Daylight Time)">16:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <code>sudo</code> means "do this as the root user", for admin tasks that require more permissions. <code>-r</code> means "remove the contents of directories recursively". <code>-f</code> means "don't ask for confirmation". Put together, <code>sudo rm -rf</code> is very dangerous, because it can remove almost any directory on your machine if you have a typo.</blockquote></mx-reply>yh i know ,i thought i need sudo  coz i created my mozilla folder as sudo, so while removing it ,i thought i might need sudo permissions as well.Anyways i removed using rm,n it worked , Thank you!</td></tr>
  <tr class="msg" id="L361"><td class="ts-cell"><a class="ts" href="#L361" alt="Thu Apr 08 2021 09:04:26 GMT-0700 (Pacific Daylight Time)">16:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> that <code>.hgrc</code> looks a bit surprising tho; I would expect to see your name under <code>ui.username</code>, and wouldn't expect to see <code>mq =</code> in there</blockquote></mx-reply>can u explain more abt mq=??What else should be der in place of that</td></tr>
  <tr class="msg" id="L362"><td class="ts-cell"><a class="ts" href="#L362" alt="Thu Apr 08 2021 09:05:37 GMT-0700 (Pacific Daylight Time)">16:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><span class="nick-9">ashcode</span>: We don't recommend anyone use MQ these days, so you can just remove that line. What's the full path that <code>hgrc</code>? I just wonder if that's not a different file than the one <code>hg</code> is actually using</td></tr>
  <tr class="msg" id="L363"><td class="ts-cell"><a class="ts" href="#L363" alt="Thu Apr 08 2021 09:05:47 GMT-0700 (Pacific Daylight Time)">16:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">hence why <code>hg purge</code> didn't work</td></tr>
  <tr class="msg" id="L364"><td class="ts-cell"><a class="ts" href="#L364" alt="Thu Apr 08 2021 09:06:24 GMT-0700 (Pacific Daylight Time)">16:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if you used <code>sudo</code> to create (or even clone?) the directory, it could be in unexpected state.  it's better checking owner, group, and permission of the directory and fix if necessary</td></tr>
  <tr class="msg" id="L365"><td class="ts-cell"><a class="ts" href="#L365" alt="Thu Apr 08 2021 09:07:56 GMT-0700 (Pacific Daylight Time)">16:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> hence why <code>hg purge</code> didn't work</blockquote></mx-reply>/testing/mozharness/test/helper_files/.hgrc- path of hrgc</td></tr>
  <tr class="msg" id="L366"><td class="ts-cell"><a class="ts" href="#L366" alt="Thu Apr 08 2021 09:08:39 GMT-0700 (Pacific Daylight Time)">16:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i don remember exactly ,i used it to create or while cloning, what are the perimission needed to be given?</td></tr>
  <tr class="msg" id="L367"><td class="ts-cell"><a class="ts" href="#L367" alt="Thu Apr 08 2021 09:09:28 GMT-0700 (Pacific Daylight Time)">16:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><span class="nick-9">ashcode</span> yeah, that's definitely the wrong hgrc; you're more interested in <code>$HOME/.hgrc</code></td></tr>
  <tr class="msg" id="L368"><td class="ts-cell"><a class="ts" href="#L368" alt="Thu Apr 08 2021 09:11:24 GMT-0700 (Pacific Daylight Time)">16:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">but i don hv any .hgrc file in home directory.I even used find -name command to find the directory</td></tr>
  <tr class="msg" id="L369"><td class="ts-cell"><a class="ts" href="#L369" alt="Thu Apr 08 2021 09:12:25 GMT-0700 (Pacific Daylight Time)">16:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><p>Hmm. Something is definitely peculiar; possibly due to too much use of sudo.</p>
<p>It's very rare for you to need to use sudo during mozilla development; you could try re-running <code>mach bootstrap</code>as a regular user and letting it setup your <code>.hgrc</code> as part of that wizard</p>
</td></tr>
  <tr class="msg" id="L370"><td class="ts-cell"><a class="ts" href="#L370" alt="Thu Apr 08 2021 09:12:45 GMT-0700 (Pacific Daylight Time)">16:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">it's hidden file, so it's not listed in filer, or normal <code>ls</code></td></tr>
  <tr class="msg" id="L371"><td class="ts-cell"><a class="ts" href="#L371" alt="Thu Apr 08 2021 09:13:31 GMT-0700 (Pacific Daylight Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i saw it through ui as well ,in linux u hv option to see hidden files ,through that option i saw</td></tr>
  <tr class="msg" id="L372"><td class="ts-cell"><a class="ts" href="#L372" alt="Thu Apr 08 2021 09:14:37 GMT-0700 (Pacific Daylight Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <p>Hmm. Something is definitely peculiar; possibly due to too much use of sudo.</p>
<p>It's very rare for you to need to use sudo during mozilla development; you could try re-running <code>mach bootstrap</code>as a regular user and letting it setup your <code>.hgrc</code> as part of that wizard</p>
</blockquote></mx-reply>I used sudo once while setup only i guess,after that i never used it afair</td></tr>
  <tr class="msg" id="L373"><td class="ts-cell"><a class="ts" href="#L373" alt="Thu Apr 08 2021 09:16:40 GMT-0700 (Pacific Daylight Time)">16:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Mmm. But if you did <code>sudo mach bootstrap</code> for example, it would have setup not -your- <code>.hgrc</code>, but instead the <code>root</code> user's <code>.hgrc</code></td></tr>
  <tr class="msg" id="L374"><td class="ts-cell"><a class="ts" href="#L374" alt="Thu Apr 08 2021 09:16:53 GMT-0700 (Pacific Daylight Time)">16:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">hence why re-running it does make sense</td></tr>
  <tr class="msg" id="L375"><td class="ts-cell"><a class="ts" href="#L375" alt="Thu Apr 08 2021 09:17:24 GMT-0700 (Pacific Daylight Time)">16:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">i did ./mach bootstrap today evening to setup wip command, it worked perfectly fine</td></tr>
  <tr class="msg" id="L376"><td class="ts-cell"><a class="ts" href="#L376" alt="Thu Apr 08 2021 09:18:30 GMT-0700 (Pacific Daylight Time)">16:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">huh. Then you must have a <code>$HOME/.hgrc</code>, or else <code>wip</code> wouldn't work</td></tr>
  <tr class="msg" id="L377"><td class="ts-cell"><a class="ts" href="#L377" alt="Thu Apr 08 2021 09:18:54 GMT-0700 (Pacific Daylight Time)">16:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">you can look at the output of <code>hg config --debug</code> and it'll tell you where it's getting settings from</td></tr>
  <tr class="msg" id="L378"><td class="ts-cell"><a class="ts" href="#L378" alt="Thu Apr 08 2021 09:19:40 GMT-0700 (Pacific Daylight Time)">16:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">that's the source directory, not your home directory, so it's not going to reveal anything about <code>~/.hgrc</code></td></tr>
  <tr class="msg" id="L379"><td class="ts-cell"><a class="ts" href="#L379" alt="Thu Apr 08 2021 09:19:40 GMT-0700 (Pacific Daylight Time)">16:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">This is my home ,with hidden files enabled</td></tr>
  <tr class="msg" id="L380"><td class="ts-cell"><a class="ts" href="#L380" alt="Thu Apr 08 2021 09:20:27 GMT-0700 (Pacific Daylight Time)">16:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">that looks like ~/mozilla-unified/ to me</td></tr>
  <tr class="msg" id="L381"><td class="ts-cell"><a class="ts" href="#L381" alt="Thu Apr 08 2021 09:21:02 GMT-0700 (Pacific Daylight Time)">16:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">home means <code>/home/{your user name}/</code></td></tr>
  <tr class="msg" id="L382"><td class="ts-cell"><a class="ts" href="#L382" alt="Thu Apr 08 2021 09:21:36 GMT-0700 (Pacific Daylight Time)">16:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">oh i assumed the mozilla-unified to be $home here as we building everything here itself ,.. so sry</td></tr>
  <tr class="msg" id="L383"><td class="ts-cell"><a class="ts" href="#L383" alt="Thu Apr 08 2021 09:23:27 GMT-0700 (Pacific Daylight Time)">16:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell"><code>$HOME</code> is a special environment variable (not <code>$home</code>) that is your home directory, which will also be referred to as <code>~</code> in the shell. It will almost certainly be <code>/home/&lt;your user name&gt;/</code></td></tr>
  <tr class="msg" id="L384"><td class="ts-cell"><a class="ts" href="#L384" alt="Thu Apr 08 2021 09:24:17 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">yh purge was not there in .hrgc in home directory, i added it jus now ,everything wrks fine i guess</td></tr>
  <tr class="msg" id="L385"><td class="ts-cell"><a class="ts" href="#L385" alt="Thu Apr 08 2021 09:24:36 GMT-0700 (Pacific Daylight Time)">16:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@ashcode:mozilla.org">ashcode</span>&gt;</div></td><td class="msg-cell">I m so sry</td></tr>
  <tr class="msg" id="L386"><td class="ts-cell"><a class="ts" href="#L386" alt="Thu Apr 08 2021 09:25:06 GMT-0700 (Pacific Daylight Time)">16:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">no problem, these are the sorts of standard startup things that happen</td></tr>
  <tr class="msg" id="L387"><td class="ts-cell"><a class="ts" href="#L387" alt="Thu Apr 08 2021 10:16:12 GMT-0700 (Pacific Daylight Time)">17:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">quick reminder, tomorrow i am doing a university lecture: <a href="https://twitter.com/ioctaptceb/status/1380207128883957762">https://twitter.com/ioctaptceb/status/1380207128883957762</a>  </td></tr>
  <tr class="msg" id="L388"><td class="ts-cell"><a class="ts" href="#L388" alt="Thu Apr 08 2021 10:16:31 GMT-0700 (Pacific Daylight Time)">17:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">Come, watch me suffer on camera as I implement things live.</td></tr>
  <tr class="msg" id="L389"><td class="ts-cell"><a class="ts" href="#L389" alt="Thu Apr 08 2021 10:16:35 GMT-0700 (Pacific Daylight Time)">17:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">(also, retweet it)</td></tr>
  <tr class="msg" id="L390"><td class="ts-cell"><a class="ts" href="#L390" alt="Thu Apr 08 2021 10:59:38 GMT-0700 (Pacific Daylight Time)">17:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><p>One day, <span class="nick-10">jandem</span> , I'd love to get some details on your xdrp setup. I have it about 3/4 done now, but would be curious how yours is rigged up.</p>
<p>Definitely not urgent tho</p>
</td></tr>
  <tr class="msg" id="L391"><td class="ts-cell"><a class="ts" href="#L391" alt="Thu Apr 08 2021 11:02:45 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-2">mgaudet</span>: I installed xrdp on ubuntu and connect to that on macOS with Microsoft Remote Desktop (I think it's in the app store?). It's not perfect, but it works well enough for occasionally starting the browser and clicking on a few things to gather data</td></tr>
  <tr class="msg" id="L392"><td class="ts-cell"><a class="ts" href="#L392" alt="Thu Apr 08 2021 11:05:04 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">there may be better clients. The MS one is a bit annoying when you always connect to the same server. (It has this "list of PCs" view that's overkill when you have just one machine... maybe that can be changed)</td></tr>
  <tr class="msg" id="L393"><td class="ts-cell"><a class="ts" href="#L393" alt="Thu Apr 08 2021 11:06:46 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Hmm. Ok. It's not starting a session for me; but working on it :P Hopefully I'llfigure it out</td></tr>
  <tr class="msg" id="L394"><td class="ts-cell"><a class="ts" href="#L394" alt="Thu Apr 08 2021 11:06:54 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Lunch now tho! </td></tr>
  <tr class="msg" id="L395"><td class="ts-cell"><a class="ts" href="#L395" alt="Thu Apr 08 2021 11:07:50 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">hm weird, I think it just worked here after I entered the IP address</td></tr>
  <tr class="msg" id="L396"><td class="ts-cell"><a class="ts" href="#L396" alt="Thu Apr 08 2021 11:08:34 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">le-sigh. This is my curse :P </td></tr>
  <tr class="msg" id="L397"><td class="ts-cell"><a class="ts" href="#L397" alt="Thu Apr 08 2021 11:34:39 GMT-0700 (Pacific Daylight Time)">18:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@mehaboob_shariff:mozilla.org">mehaboob_shariff</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">pavelp</span>:  Are you working on Clean up BailoutKind::TooManyArgs bug ?</td></tr>
  <tr class="msg" id="L398"><td class="ts-cell"><a class="ts" href="#L398" alt="Thu Apr 08 2021 12:13:55 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@ajvandolder:mozilla.org">avandolder</span>&gt;</div></td><td class="msg-cell">Hey! It's been a while! I just wanted to say that I'm going to be starting my Master's at the University of Waterloo this fall, as part of their PL group (<a href="https://plg.uwaterloo.ca/">https://plg.uwaterloo.ca/</a>)</td></tr>
  <tr class="msg" id="L399"><td class="ts-cell"><a class="ts" href="#L399" alt="Thu Apr 08 2021 12:14:36 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">avandolder</span>: cool! Congrats!</td></tr>
  <tr class="msg" id="L400"><td class="ts-cell"><a class="ts" href="#L400" alt="Thu Apr 08 2021 12:16:29 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">I've worked with some of the alumni of that group</td></tr>
  <tr class="msg" id="L401"><td class="ts-cell"><a class="ts" href="#L401" alt="Thu Apr 08 2021 12:16:41 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@ajvandolder:mozilla.org">avandolder</span>&gt;</div></td><td class="msg-cell">Thanks! I'm thankful for the encouragement you all had given me, I think the experiences I had while interning probably helped me get in too :)</td></tr>
  <tr class="msg" id="L402"><td class="ts-cell"><a class="ts" href="#L402" alt="Thu Apr 08 2021 12:17:30 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">:) </td></tr>
  <tr class="msg" id="L403"><td class="ts-cell"><a class="ts" href="#L403" alt="Thu Apr 08 2021 12:25:25 GMT-0700 (Pacific Daylight Time)">19:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">avandolder</span>: cool congrats</td></tr>
  <tr class="msg" id="L404"><td class="ts-cell"><a class="ts" href="#L404" alt="Thu Apr 08 2021 12:31:47 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">confession: Got Xrdp working after changing a configuration parameter <a href="https://unix.stackexchange.com/a/529945/54727">off in the distance</a></td></tr>
  <tr class="msg" id="L405"><td class="ts-cell"><a class="ts" href="#L405" alt="Thu Apr 08 2021 12:31:50 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell">Seen! Your update will eventually appear on <a href="https://robotzilla.github.io/histoire">https://robotzilla.github.io/histoire</a></td></tr>
  <tr class="msg" id="L406"><td class="ts-cell"><a class="ts" href="#L406" alt="Thu Apr 08 2021 12:53:08 GMT-0700 (Pacific Daylight Time)">19:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">avandolder</span>: I remember reading some of Ondej Lhotk's alias analysis papers in grad school and being very impressed</td></tr>
  <tr class="msg" id="L407"><td class="ts-cell"><a class="ts" href="#L407" alt="Thu Apr 08 2021 14:09:06 GMT-0700 (Pacific Daylight Time)">21:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">General call: Looking for a good-third-bug for <span class="nick-9">ashcode</span> :) At this point they've done a few of the easier tasks, and could probably be aimed at something a touch meatier.</td></tr>
  <tr class="msg" id="L408"><td class="ts-cell"><a class="ts" href="#L408" alt="Thu Apr 08 2021 14:15:20 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">bug 1696085 maybe?  or some more complex task?</td></tr>
  <tr class="msg" id="L409"><td class="ts-cell"><a class="ts" href="#L409" alt="Thu Apr 08 2021 14:15:21 GMT-0700 (Pacific Daylight Time)">21:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1696085">https://bugzil.la/1696085</a>  NEW (nobody)  Use js::EnumFlags for js::ObjLiteralFlags</td></tr>
  <tr class="msg" id="L410"><td class="ts-cell"><a class="ts" href="#L410" alt="Thu Apr 08 2021 14:16:38 GMT-0700 (Pacific Daylight Time)">21:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"><span class="nick-15">arai</span>: That looks pretty good -&gt; if you'd be willing to mentor, I could cc ashcode and go from there?</td></tr>
  <tr class="msg" id="L411"><td class="ts-cell"><a class="ts" href="#L411" alt="Thu Apr 08 2021 14:16:56 GMT-0700 (Pacific Daylight Time)">21:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">sure</td></tr>
  <tr class="msg" id="L412"><td class="ts-cell"><a class="ts" href="#L412" alt="Thu Apr 08 2021 14:17:10 GMT-0700 (Pacific Daylight Time)">21:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell"> Thanks! </td></tr>
  <tr class="msg" id="L413"><td class="ts-cell"><a class="ts" href="#L413" alt="Thu Apr 08 2021 14:30:40 GMT-0700 (Pacific Daylight Time)">21:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">also, in general, I think bug 622261 (error reporting enhancement) contains simple and some more complex tasks.</td></tr>
  <tr class="msg" id="L414"><td class="ts-cell"><a class="ts" href="#L414" alt="Thu Apr 08 2021 14:30:43 GMT-0700 (Pacific Daylight Time)">21:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/622261">https://bugzil.la/622261</a>  NEW (nobody)  [meta] Error message/reporting bugs &amp; enhancements</td></tr>
  <tr class="msg" id="L415"><td class="ts-cell"><a class="ts" href="#L415" alt="Thu Apr 08 2021 14:48:51 GMT-0700 (Pacific Daylight Time)">21:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">Oh interesting. Good idea! </td></tr>
  <tr class="msg" id="L416"><td class="ts-cell"><a class="ts" href="#L416" alt="Thu Apr 08 2021 15:42:11 GMT-0700 (Pacific Daylight Time)">22:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Hey I was wondering, do <code>new</code>-constructed objects that don't escape a function get allocated on the stack?</td></tr>
  <tr class="msg" id="L417"><td class="ts-cell"><a class="ts" href="#L417" alt="Thu Apr 08 2021 15:43:13 GMT-0700 (Pacific Daylight Time)">22:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">I know that escape analysis is performed somewhere, but is it only during compilation, or will the interpreter do it?</td></tr>
  <tr class="msg" id="L418"><td class="ts-cell"><a class="ts" href="#L418" alt="Thu Apr 08 2021 15:50:17 GMT-0700 (Pacific Daylight Time)">22:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-1">borane</span>: Only during compilation</td></tr>
  <tr class="msg" id="L419"><td class="ts-cell"><a class="ts" href="#L419" alt="Thu Apr 08 2021 15:50:43 GMT-0700 (Pacific Daylight Time)">22:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">It is the ScalarReplacement pass in Warp</td></tr>
  <tr class="msg" id="L420"><td class="ts-cell"><a class="ts" href="#L420" alt="Thu Apr 08 2021 15:51:50 GMT-0700 (Pacific Daylight Time)">22:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">For technical reasons, we currently don't scalar-replace objects allocated via <code>new</code>, but we used to, and we have a bug open to fix it</td></tr>
  <tr class="msg" id="L421"><td class="ts-cell"><a class="ts" href="#L421" alt="Thu Apr 08 2021 15:52:27 GMT-0700 (Pacific Daylight Time)">22:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">(Bug 1700422)</td></tr>
  <tr class="msg" id="L422"><td class="ts-cell"><a class="ts" href="#L422" alt="Thu Apr 08 2021 15:52:30 GMT-0700 (Pacific Daylight Time)">22:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1700422">https://bugzil.la/1700422</a>  NEW (nobody)  Support constructors in scalar replacement</td></tr>
  <tr class="msg" id="L423"><td class="ts-cell"><a class="ts" href="#L423" alt="Thu Apr 08 2021 15:53:49 GMT-0700 (Pacific Daylight Time)">22:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Interesting, so I would probably see more allocation pressure if I went back and profiled that same code again.</td></tr>
  <tr class="msg" id="L424"><td class="ts-cell"><a class="ts" href="#L424" alt="Thu Apr 08 2021 15:54:11 GMT-0700 (Pacific Daylight Time)">22:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Depends on when you last profiled it, but yes</td></tr>
  <tr class="msg" id="L425"><td class="ts-cell"><a class="ts" href="#L425" alt="Thu Apr 08 2021 15:54:33 GMT-0700 (Pacific Daylight Time)">22:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">And also on whether we could prove that the objects didn't escape</td></tr>
  <tr class="msg" id="L426"><td class="ts-cell"><a class="ts" href="#L426" alt="Thu Apr 08 2021 15:57:40 GMT-0700 (Pacific Daylight Time)">22:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Ion was able to prove that, probably because all of the functions were short enough for inlining. </td></tr>
  <tr class="msg" id="L427"><td class="ts-cell"><a class="ts" href="#L427" alt="Thu Apr 08 2021 16:00:09 GMT-0700 (Pacific Daylight Time)">23:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@borane:matrix.org">borane</span>&gt;</div></td><td class="msg-cell">Thanks for the info though, I'll avoid creating intermediate storage with <code>new</code> this time around.</td></tr>

</tbody></table></div></div></div>
</body></html>