<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2020-07-05</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2020-07-05<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2020-07-04" class="nav-link"><span>prev</span></a>
<a href="2020-07-06" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Jul 05 2020 02:20:11 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@brent:mozilla.org">brent</span>&gt;</div></td><td class="msg-cell"><p>Hi - I‚Äôm having a swing at my first issue - <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1337723#c14">https://bugzilla.mozilla.org/show_bug.cgi?id=1337723#c14</a> and Lars has helped me take a few baby steps.</p>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Introduction_to_the_JavaScript_shell">https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Introduction_to_the_JavaScript_shell</a> it gives the step: <code>installing the built shell using make install</code></p>
<p>I have built firefox - and <code>./mach run</code> launches <code>.../mozilla-unified/obj-x86_64-pc-linux-gnu/dist/bin/firefox</code></p>
<p>What is the command I need to run from which directory to install the JS shell?</p>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Jul 05 2020 02:27:22 GMT-0700 (Pacific Daylight Time)">09:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">@brent sounds like you just build the browser instead of the shell</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun Jul 05 2020 02:27:52 GMT-0700 (Pacific Daylight Time)">09:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">the build documentation is here <a href="https://firefox-source-docs.mozilla.org/js/build.html">https://firefox-source-docs.mozilla.org/js/build.html</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sun Jul 05 2020 02:28:00 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">make sure MOZCONFIG is set</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sun Jul 05 2020 02:38:33 GMT-0700 (Pacific Daylight Time)">09:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@brent:mozilla.org">brent</span>&gt;</div></td><td class="msg-cell"><p>üí°riiight<br>Is the option I need</p>
<p><code>ac_add_options --enable-application=js</code></p>
</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sun Jul 05 2020 03:00:46 GMT-0700 (Pacific Daylight Time)">10:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">yep, then you'll build just the shell </td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun Jul 05 2020 04:30:07 GMT-0700 (Pacific Daylight Time)">11:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@brent:mozilla.org">brent</span>&gt;</div></td><td class="msg-cell">üëçÔ∏è 
Is there a way to launch the shell to allow debugging? I'm working from vs-code at the moment; so any pointers on being able to connect a vs-code debug session would be great. Else; open to suggestions on any other approaches.
</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun Jul 05 2020 04:59:03 GMT-0700 (Pacific Daylight Time)">11:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">I'm not sure. Personally I mostly use <code>./mach run --debug</code> in the vs-code terminal</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun Jul 05 2020 05:11:02 GMT-0700 (Pacific Daylight Time)">12:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@brent:mozilla.org">brent</span>&gt;</div></td><td class="msg-cell"><p>Sorry for the basic question; but what do I do after <code>./mach run --debug</code>?</p>
<p>I'm getting a gdb console; and am not sure how to use it from there.</p>
<pre><code class="language-brent@brent:~/repos/mozilla-unified$"> 0:00.25 /usr/bin/gdb -q --args /home/brent/repos/mozilla-unified/obj-x86_64-pc-linux-gnu/dist/bin/firefox -no-remote -profile /home/brent/repos/mozilla-unified/obj-x86_64-pc-linux-gnu/tmp/profile-default
Reading symbols from /home/brent/repos/mozilla-unified/obj-x86_64-pc-linux-gnu/dist/bin/firefox...
(gdb) 
</code></pre>
</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun Jul 05 2020 05:31:26 GMT-0700 (Pacific Daylight Time)">12:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">you can do "r" (run) to start the program, in this case the interactive shell. If you pass a .js file name to <code>mach run</code> it will run that</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun Jul 05 2020 05:33:52 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">it's probably possible to use vscode's debugger or to connect it to gdb somehow, but I've never done that</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun Jul 05 2020 05:34:50 GMT-0700 (Pacific Daylight Time)">12:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">oh reading your output above, this is still running the browser. Did you change the mozconfig to one that's for just the shell?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun Jul 05 2020 05:35:01 GMT-0700 (Pacific Daylight Time)">12:35</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-10" title="@jandem:mozilla.org">jandem</span></div></td><td class="msg-cell">back later</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun Jul 05 2020 05:37:01 GMT-0700 (Pacific Daylight Time)">12:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@brent:mozilla.org">brent</span>&gt;</div></td><td class="msg-cell"><p>Right; <code>r</code> the keys to the kingdom; thannnks</p>
<p>I'm (also) having trouble re-triggering the build; so for now still only a debuggable browser built<br>Any thoughts on <a href="https://matrix.to/#/!xvpXYXuzAHqpZoejxX:mozilla.org/$kNsUCO6OZgAKjcUX8wcu1gS2zD3tN-GQnayi-lib-eU?via=mozilla.org&amp;via=matrix.org&amp;via=archlinux.org">https://matrix.to/#/!xvpXYXuzAHqpZoejxX:mozilla.org/$kNsUCO6OZgAKjcUX8wcu1gS2zD3tN-GQnayi-lib-eU?via=mozilla.org&amp;via=matrix.org&amp;via=archlinux.org</a> also welcome :) Sunday learning-curves</p>
</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun Jul 05 2020 05:55:29 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">maybe try a `mach clobber` after you changed your mozconfig</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun Jul 05 2020 05:56:26 GMT-0700 (Pacific Daylight Time)">12:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">that will remove the object directory so you can start with a clean slate </td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sun Jul 05 2020 06:16:37 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@brent:mozilla.org">brent</span>&gt;</div></td><td class="msg-cell">whoop; <code>mach clobber</code> gave me a working next build<br>And I have a js executable in bin<br>Thank you very much for the help</td></tr>

</tbody></table></div></div></div>
</body></html>