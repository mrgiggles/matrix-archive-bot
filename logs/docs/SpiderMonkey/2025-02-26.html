<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2025-02-26</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2025-02-26<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2025-02-25" class="nav-link"><span>prev</span></a>
<a href="2025-02-27" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Feb 26 2025 06:52:47 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@davidj361:matrix.org">davidj361</span>&gt;</div></td><td class="msg-cell"><p>When using UbiNode to analyze memory usage it it just:</p>
<pre><code>ExtensionUtils.jsm (30136 bytes)
------------------------------
| script ExtensionUtils.jsm:436 (2344 bytes)

| NSVO ExtensionUtils.jsm (2240 bytes)

| script ExtensionUtils.jsm:379 (1920 bytes)
|-- Function promiseObserved/&lt; (1168 bytes)
|---- script ExtensionUtils.jsm:380 (1000 bytes)
</code></pre>
<p>Or can you see how many instances there are of things and how much memory it uses?</p>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Feb 26 2025 06:59:17 GMT-0800 (Pacific Standard Time)">14:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">sfink</span>: is <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1924272">https://bugzilla.mozilla.org/show_bug.cgi?id=1924272</a> ready to land ?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Feb 26 2025 07:00:28 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I have a "final" try push running for it right now. With the number of times I've bounced that stack, I'm being very conservative this time.</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Wed Feb 26 2025 07:00:41 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell">yeah I feel you</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Wed Feb 26 2025 07:00:47 GMT-0800 (Pacific Standard Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell">quite a journey this one</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Wed Feb 26 2025 07:01:04 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell">I'll import your stack on the meantime, I need some markers</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Wed Feb 26 2025 08:03:54 GMT-0800 (Pacific Standard Time)">16:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@bas:mozilla.org">Bas</span>&gt;</div></td><td class="msg-cell">There's a presentation in the WebPerf WG about an 'explicit compile hints' thing, does anyone here know about that?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Wed Feb 26 2025 08:08:18 GMT-0800 (Pacific Standard Time)">16:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">Bas</span>: Is it <a href="https://docs.google.com/document/d/1UaBxrtBwOLxsC22RdZQszFQHXeJSVOx2F5AuqyRTOG4/edit?tab=t.0#heading=h.esbfulx6egzl">this</a>?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Wed Feb 26 2025 08:09:25 GMT-0800 (Pacific Standard Time)">16:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">We have a standards-position <a href="https://github.com/mozilla/standards-positions/issues/780">here</a></td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Wed Feb 26 2025 08:09:47 GMT-0800 (Pacific Standard Time)">16:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">There's a similar wasm proposal <a href="https://github.com/WebAssembly/compilation-hints/blob/main/proposals/compilation-hints/Overview.md">here</a></td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Wed Feb 26 2025 08:10:47 GMT-0800 (Pacific Standard Time)">16:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@bas:mozilla.org">Bas</span>&gt;</div></td><td class="msg-cell">Thank you!</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Wed Feb 26 2025 08:22:11 GMT-0800 (Pacific Standard Time)">16:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@bas:mozilla.org">Bas</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">iain</span>: So they're proposing it in Webperf WG now.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Wed Feb 26 2025 08:33:16 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@bas:mozilla.org">Bas</span>&gt;</div></td><td class="msg-cell">Are we strongly opposed to this happening here? It doesn't feel ideal for this to be pushed through an alternate venue, but I'd like to understand how big we feel the potential harm to the web is?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Wed Feb 26 2025 09:28:44 GMT-0800 (Pacific Standard Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">Bas</span>: As I understand it, the reason it's not going through TC39 is because it doesn't have any semantic effects on JS. See the comments <a href="https://github.com/WebKit/standards-positions/issues/172#issuecomment-1524825130">here</a> and <a href="https://github.com/WebKit/standards-positions/issues/172#issuecomment-1531596456">here</a>.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Wed Feb 26 2025 09:30:02 GMT-0800 (Pacific Standard Time)">17:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Our main concern (which I think Apple also <a href="https://github.com/WebKit/standards-positions/issues/172#issuecomment-2397092269">shares</a>) is that we don't want these hints to be tuned for Chrome specifically</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Wed Feb 26 2025 09:30:19 GMT-0800 (Pacific Standard Time)">17:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">So we've been pushing for descriptive/quantitative hints over prescriptive hints</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Wed Feb 26 2025 09:30:40 GMT-0800 (Pacific Standard Time)">17:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">eg "This function will always execute at pageload" vs "eagerly compile this function"</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Wed Feb 26 2025 09:32:42 GMT-0800 (Pacific Standard Time)">17:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">This isn't just a cross-browser issue; it also seems like it should be in Chrome's best interest to avoid having hints that are tuned too precisely for eg Chrome 134.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Wed Feb 26 2025 09:34:02 GMT-0800 (Pacific Standard Time)">17:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I think we would prefer having this go through a standards process instead of watching Google YOLO it</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Wed Feb 26 2025 09:34:11 GMT-0800 (Pacific Standard Time)">17:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I expect the end result would be better for everyone, including Google</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Wed Feb 26 2025 09:35:26 GMT-0800 (Pacific Standard Time)">17:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I don't think we're inherently opposed to the entire concept, so long as it's done well</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Wed Feb 26 2025 09:39:35 GMT-0800 (Pacific Standard Time)">17:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@bas:mozilla.org">Bas</span>&gt;</div></td><td class="msg-cell">I think that's what they do now right? (With the '# allFunctionsCalledOnLoad')</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Wed Feb 26 2025 09:40:03 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yeah, I believe that was in response to Yulia's initial feedback</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Feb 26 2025 09:40:17 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@bas:mozilla.org">Bas</span>&gt;</div></td><td class="msg-cell">There was also some discussion on making this first party only in the WG.</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Feb 26 2025 12:32:08 GMT-0800 (Pacific Standard Time)">20:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@glandium:mozilla.org">glandium</span>&gt;</div></td><td class="msg-cell">Thoughts on <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1950296#c2">https://bugzilla.mozilla.org/show_bug.cgi?id=1950296#c2</a> ? (also a review of the attached patch would be welcome)</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Feb 26 2025 12:45:13 GMT-0800 (Pacific Standard Time)">20:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">I'm fine with the patch, but agree, some experimentation with zstd would make sense, in a separate bug.</td></tr>

</tbody></table></div></div></div>
</body></html>