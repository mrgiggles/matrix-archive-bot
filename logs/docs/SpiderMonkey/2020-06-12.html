<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2020-06-12</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2020-06-12<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2020-06-11" class="nav-link"><span>prev</span></a>
<a href="2020-06-13" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Fri Jun 12 2020 03:44:14 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@nbp:mozilla.org">nbp</span>&gt;</div></td><td class="msg-cell">Guess what we could rename the VM to üï∑Ô∏éüêí without changing the name :P</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Fri Jun 12 2020 04:20:43 GMT-0700 (Pacific Daylight Time)">11:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">eh, dumb questions abound. I am trying to figure out the best way to write a microbenchmark. I found this file: <a href="https://searchfox.org/mozilla-central/source/js/src/devtools/gc-ubench/spidermonkey.js">https://searchfox.org/mozilla-central/source/js/src/devtools/gc-ubench/spidermonkey.js</a> -- <span class="nick-12">sfink</span> is this something I should use if I am writing a microbenchmark for something small?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Jun 12 2020 04:21:49 GMT-0700 (Pacific Daylight Time)">11:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">or, should i stop worrying and learn to love <a href="http://performance.now">performance.now</a>()?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Fri Jun 12 2020 04:23:10 GMT-0700 (Pacific Daylight Time)">11:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@ms2ger:igalia.com">Ms2ger [~half-time dedication]</span>&gt;</div></td><td class="msg-cell"> <a href="http://perf.now">perf.now</a> is no longer really accurate, is it?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Jun 12 2020 04:23:17 GMT-0700 (Pacific Daylight Time)">11:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@ms2ger:igalia.com">Ms2ger [~half-time dedication]</span>&gt;</div></td><td class="msg-cell">Since spectr</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Jun 12 2020 04:24:48 GMT-0700 (Pacific Daylight Time)">11:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">i am not really sure, but i thought it was more accurate than other options, but maybe its good enough for small stuff? This isn't something I have done often so I don't know the best practices</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Jun 12 2020 04:26:08 GMT-0700 (Pacific Daylight Time)">11:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@annevk:mozilla.org">annevk</span>&gt;</div></td><td class="msg-cell">I think it should be accurate in chrome code still</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Jun 12 2020 04:26:17 GMT-0700 (Pacific Daylight Time)">11:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">I usually do something like this: <a href="https://paste.mozilla.org/gAyNQ37U">https://paste.mozilla.org/gAyNQ37U</a> - if the interesting code takes more than a few ms it works well</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Jun 12 2020 04:26:42 GMT-0700 (Pacific Daylight Time)">11:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">oh, dateNow is fine. ok thats good to know</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Jun 12 2020 04:27:03 GMT-0700 (Pacific Daylight Time)">11:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">ok neat, thank you!</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Jun 12 2020 04:28:00 GMT-0700 (Pacific Daylight Time)">11:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">np</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Jun 12 2020 04:35:37 GMT-0700 (Pacific Daylight Time)">11:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell"><p>In the upcoming stream I am planning on covering:</p>
<ol>
<li>the issue raised by anba (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1286997#c5">https://bugzilla.mozilla.org/show_bug.cgi?id=1286997#c5</a>)</li>
<li>eshosts, how to use it, and reasons why an engine might not fix a given issue</li>
<li>doing the benchmark, and verifying if there is a significant performance cost to the change</li>
<li>highlighting the other tests that are failing and starting the fix for that</li>
</ol>
<p>I think that might take up the whole hour. Is there anything more interesting that I could do here?</p>
</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Jun 12 2020 09:50:15 GMT-0700 (Pacific Daylight Time)">16:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">hello all, I was invited here by Yulia and Iain</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Jun 12 2020 09:51:23 GMT-0700 (Pacific Daylight Time)">16:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@rockon999:matrix.org">rockon999</span>&gt;</div></td><td class="msg-cell">ü§®</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Jun 12 2020 09:51:24 GMT-0700 (Pacific Daylight Time)">16:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">hoping to catch up on getting the repo cloned and tackling a GFI real quick</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Jun 12 2020 09:52:01 GMT-0700 (Pacific Daylight Time)">16:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yulia's stream is working! We are luring them in!</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Jun 12 2020 09:52:10 GMT-0700 (Pacific Daylight Time)">16:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell"> :D</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Jun 12 2020 09:52:11 GMT-0700 (Pacific Daylight Time)">16:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">:)</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Jun 12 2020 09:52:13 GMT-0700 (Pacific Daylight Time)">16:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">hi <span class="nick-11">dereknongeneric</span></td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Jun 12 2020 09:52:52 GMT-0700 (Pacific Daylight Time)">16:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">hello, this is the first time I use this chat service and have never used mercurial :p</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Jun 12 2020 09:53:29 GMT-0700 (Pacific Daylight Time)">16:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@rockon999:matrix.org">rockon999</span>&gt;</div></td><td class="msg-cell"><p>yulia: I have heard of the stream, but can you link me üòÉ</p>
<p>just a casual embedder lurking</p></td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Jun 12 2020 09:54:10 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">is the following bug in the engine or elsewhere? <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1645364">https://bugzilla.mozilla.org/show_bug.cgi?id=1645364</a></td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Jun 12 2020 09:54:18 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">two of the streams are here <span class="nick-11">rockon999</span> <a href="https://www.twitch.tv/codehag">https://www.twitch.tv/codehag</a></td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Jun 12 2020 09:54:24 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">one is missing but will be uploaded later</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Jun 12 2020 09:55:05 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-11">dereknongeneric</span>: <a href="https://searchfox.org/">https://searchfox.org/</a> is a great place to find out</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Jun 12 2020 09:55:10 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">where are your diagnostic messages I guess the question is</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Jun 12 2020 09:55:46 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">yep, searchfox is a great place to star!</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Jun 12 2020 09:55:49 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">start*</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Jun 12 2020 09:56:02 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Looks like it's in DOM code: <a href="https://searchfox.org/mozilla-central/search?q=This+page+uses+the+non+standard+property&amp;path=">https://searchfox.org/mozilla-central/search?q=This+page+uses+the+non+standard+property&amp;path=</a></td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Jun 12 2020 09:56:05 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">thanks, I will check it out</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Jun 12 2020 09:57:53 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">ok, im gunna switch to home mode</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Jun 12 2020 09:58:19 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@yulia:mozilla.org">yulia</span>&gt;</div></td><td class="msg-cell">will check back on monday</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Jun 12 2020 09:58:35 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Have a good weekend!</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri Jun 12 2020 09:58:49 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">üëã</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri Jun 12 2020 10:02:01 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/source/dom/locales/en-US/chrome/dom/dom.properties#335">https://searchfox.org/mozilla-central/source/dom/locales/en-US/chrome/dom/dom.properties#335</a></td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Fri Jun 12 2020 10:02:36 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">I don't think this URL should be curly quoted. Is there an error style guide I can take a look at?</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Fri Jun 12 2020 10:04:39 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-11">dereknongeneric</span>: I'm not sure. Maybe ask in #dom?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Fri Jun 12 2020 10:12:31 GMT-0700 (Pacific Daylight Time)">17:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">I was hesitant to file this as a defect since it seemed so trivial, but it looks worth fixing to me</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Fri Jun 12 2020 10:14:44 GMT-0700 (Pacific Daylight Time)">17:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">It's in the same repo as what's going on in the stream, correct?</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Fri Jun 12 2020 10:15:45 GMT-0700 (Pacific Daylight Time)">17:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yep! Although it's part of the browser, not part of spidermonkey itself</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Fri Jun 12 2020 10:17:14 GMT-0700 (Pacific Daylight Time)">17:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">So instead of the "Building spidermonkey" docs, which only build the JS engine, you'll want to look here: <a href="https://firefox-source-docs.mozilla.org/setup/index.html">https://firefox-source-docs.mozilla.org/setup/index.html</a></td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Fri Jun 12 2020 10:18:32 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">excellent, how steep is the learning curve for mercurial if you're already proficient w/ git?</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Fri Jun 12 2020 10:19:06 GMT-0700 (Pacific Daylight Time)">17:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Not too bad</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Fri Jun 12 2020 10:19:38 GMT-0700 (Pacific Daylight Time)">17:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">As part of <code>./mach bootstrap</code> you can get some customization of your <code>.hgrc</code> that gives some useful commands</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Fri Jun 12 2020 10:20:29 GMT-0700 (Pacific Daylight Time)">17:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I think the difference that most frequently trips people up is that you don't need named branches in hg</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Fri Jun 12 2020 10:21:10 GMT-0700 (Pacific Daylight Time)">17:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Actually, let me just link this: <a href="https://mozilla-version-control-tools.readthedocs.io/en/latest/hgmozilla/index.html">https://mozilla-version-control-tools.readthedocs.io/en/latest/hgmozilla/index.html</a></td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Fri Jun 12 2020 10:22:43 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">uh oh, I already did <code>sudo apt-get install mercurial</code></td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Fri Jun 12 2020 10:23:22 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">wasn't aware this was a python thing</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Fri Jun 12 2020 10:23:56 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I think you're probably fine</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Fri Jun 12 2020 10:24:11 GMT-0700 (Pacific Daylight Time)">17:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">ok, cool</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Fri Jun 12 2020 10:24:15 GMT-0700 (Pacific Daylight Time)">17:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I have 4.8.2 locally, and I don't have any problems with it</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Fri Jun 12 2020 10:24:37 GMT-0700 (Pacific Daylight Time)">17:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">great, I have the same version</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Fri Jun 12 2020 10:27:34 GMT-0700 (Pacific Daylight Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">just ran <code>hg clone <a href="https://hg.mozilla.org/mozilla-central">https://hg.mozilla.org/mozilla-central</a></code>, this might be a little while</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Fri Jun 12 2020 10:28:31 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">exciting ^^</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Fri Jun 12 2020 13:01:55 GMT-0700 (Pacific Daylight Time)">20:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell"><p>Note that Mercurial has a downloadable archive format that may be preferable to cloning -- not that cloning is less efficient itself, the wire protocol is pretty good these days, I hear -- but because downloading a single file is a <em>resumable</em> operation with HTTP.</p>
<p>Or at least it is if the URL you're downloading is resumable.  Given Mercurial is a pretty dynamic beast, I don't actually know what links are resumable.  <a href="https://hg.mozilla.org/mozilla-central/archive/tip.zip">https://hg.mozilla.org/mozilla-central/archive/tip.zip</a> for example may or may not be, I don't know.  (And probably isn't, given "tip" is a constantly changing bookmark.)</p>
</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Fri Jun 12 2020 13:05:26 GMT-0700 (Pacific Daylight Time)">20:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">it's almost done, apparently ;)</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Fri Jun 12 2020 13:06:12 GMT-0700 (Pacific Daylight Time)">20:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@dereknongeneric:mozilla.org">dereknongeneric</span>&gt;</div></td><td class="msg-cell">appreciate the tip</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Fri Jun 12 2020 13:19:55 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">Used to be, when I wanted a m-c clone I would just clone from the canonical repository.  Then at some point it just started taking too long, not sure when, and I began cloning from one of my local repositories, then I'd fix up the defaults in <code>.hg/hrc</code> to point to actual mozilla-central or mozilla-inbound.  I no longer remember the last time I cloned directly from mozilla-central.  It's possible the last actual clone from Mozilla servers I did was for a beta or ESR repo.</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Fri Jun 12 2020 13:56:37 GMT-0700 (Pacific Daylight Time)">20:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">Also I think I set up <a href="http://whereswalden.com/2011/11/03/how-i-organize-my-mozilla-trees/">http://whereswalden.com/2011/11/03/how-i-organize-my-mozilla-trees/</a> at a time when cloning directly was adequately fast, and so (aside from an alias to update <em>not</em> by cronjob) all my local trees are clones of a single canonical local repo that mostly just stays up-to-date in the background.</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Fri Jun 12 2020 13:57:57 GMT-0700 (Pacific Daylight Time)">20:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">I am just using <a href="https://hg.mozilla.org/mozilla-unified">https://hg.mozilla.org/mozilla-unified</a> nowadays works quite well</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Fri Jun 12 2020 14:13:47 GMT-0700 (Pacific Daylight Time)">21:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@ryanvm:mozilla.org">RyanVM</span>&gt;</div></td><td class="msg-cell">fwiw, Mozilla's hg instance serves up bundles automatically if you do a fresh clone</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Fri Jun 12 2020 14:14:27 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">Yeah, "the wire protocol is pretty good these days, I hear" was a gesture at that.</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Fri Jun 12 2020 15:11:58 GMT-0700 (Pacific Daylight Time)">22:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">Why does Spidermonkey regularly perform full GCs on the JS heap on applications running animations?</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Fri Jun 12 2020 15:13:38 GMT-0700 (Pacific Daylight Time)">22:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">SpiderMonkey doesn't know what the application is doing, or that it might be time-sensitive at particular moments.  We may have some hacky tricks to get around this, for embeddings that are willing to be sufficiently dirty -- basically we only mean Gecko for this -- but otherwise, the solution to GC jank interfering with stuff is "don't do stuff in JS that could GC".</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Fri Jun 12 2020 15:18:18 GMT-0700 (Pacific Daylight Time)">22:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">It's very difficult to write JavaScript code that doesn't use the GC at all, but it's easier to write JS code that avoids making garbage that will need to be freed by a major GC. Is there a way-- ideally in a release build-- to get a list of garbage that was collected in a major cycle?</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Fri Jun 12 2020 15:22:20 GMT-0700 (Pacific Daylight Time)">22:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">This is not necessarily an answer to the concern, but Web Assembly can far more readily be written to not invoke GCs than JS can.</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Fri Jun 12 2020 15:23:16 GMT-0700 (Pacific Daylight Time)">22:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">Indeed, we recommend it for audio worklets, for that reason.</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Fri Jun 12 2020 15:23:47 GMT-0700 (Pacific Daylight Time)">22:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">(and in that case, we've gone to specific efforts to allow Web Assembly to be usable with guaranteed minimal GCs and allocations, even)</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Fri Jun 12 2020 15:23:54 GMT-0700 (Pacific Daylight Time)">22:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">I appreciate your mention. I'm trying to find the performance regression in a JavaScript game that was 60FPS.</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Fri Jun 12 2020 15:24:46 GMT-0700 (Pacific Daylight Time)">22:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">(Obviously, I cannot rewrite my game in a language that compiles to WebAssembly so easily.)</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Fri Jun 12 2020 15:25:26 GMT-0700 (Pacific Daylight Time)">22:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@evilpie:mozilla.org">evilpie</span>&gt;</div></td><td class="msg-cell">I think <a href="https://profiler.firefox.com/">https://profiler.firefox.com/</a> shows memory usage?</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Fri Jun 12 2020 15:25:28 GMT-0700 (Pacific Daylight Time)">22:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">Yeah, it depends what slice of work you're doing, to say if it could be rewritten.  Audio processing is separate enough it's not bad, often.</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Fri Jun 12 2020 15:26:18 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">I have used the Allocations view. </td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Fri Jun 12 2020 15:26:33 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">When does SM run FinalizationRegistry handlers?</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Fri Jun 12 2020 15:26:46 GMT-0700 (Pacific Daylight Time)">22:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@crazypython:mozilla.org">crazypython</span>&gt;</div></td><td class="msg-cell">(Perhaps I could use the timing of FRs to detect major-cycle garbage.)</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Fri Jun 12 2020 15:28:04 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">My vague understanding is those handlers run when you return to the event loop, which may not be useful for that purpose.</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Fri Jun 12 2020 15:28:08 GMT-0700 (Pacific Daylight Time)">22:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">I could be wrong.</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Fri Jun 12 2020 15:32:41 GMT-0700 (Pacific Daylight Time)">22:32</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span></div></td><td class="msg-cell">sighs</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Fri Jun 12 2020 15:32:43 GMT-0700 (Pacific Daylight Time)">22:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">"streams"</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Fri Jun 12 2020 15:51:08 GMT-0700 (Pacific Daylight Time)">22:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">C++ question. Well, optimizer question. I'm staring at some generated code for <code>str-&gt;zone() == z &amp;&amp; str-&gt;asTenured().getAllocKind() == kind</code>. The zone accessor is generating code for testing whether <code>str</code> is tenured. Is there any way I can persuade it that <code>str</code> is guaranteed to be tenured here, without implementing <code>JSString::tenuredZone()</code> or whatever? <code>if (!str-&gt;isTenured()) { *nullptr = 42; }</code>?</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Fri Jun 12 2020 15:58:23 GMT-0700 (Pacific Daylight Time)">22:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@waldo:mozilla.org">Waldo</span>&gt;</div></td><td class="msg-cell">I would just implement that. You could use the make-assume-unreachable macro in Attributes.h, but one function seems better.</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Fri Jun 12 2020 15:58:26 GMT-0700 (Pacific Daylight Time)">22:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">actually, I think <code>str-&gt;asTenured().zone()</code> will work; I don't need to go through <code>JSString::zone()</code> specifically.</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Fri Jun 12 2020 15:59:59 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I have the reverse problem with another parameter -- it's guaranteed to <em>not</em> be tenured. But I think I'll stop playing this micro-optimization game now. I got sidetracked.</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Fri Jun 12 2020 16:04:26 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell"><span class="nick-13">crazypython</span>: I'm guessing 0AD again? <span class="nick-8">shawnjohnjr</span> was going to file a related bug, not that I was really able to come up with much for them.</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Fri Jun 12 2020 16:04:28 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I haven't seen a bug yet, and couldn't find anything with some searching.</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Fri Jun 12 2020 16:06:48 GMT-0700 (Pacific Daylight Time)">23:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I guess my recommendation of using the devtools isn't very helpful for an embedding.</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Fri Jun 12 2020 16:28:43 GMT-0700 (Pacific Daylight Time)">23:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">darn, I thought <span class="nick-16">loganfsmyth</span> might be about to chip in with some clever way of doing it</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Fri Jun 12 2020 16:29:52 GMT-0700 (Pacific Daylight Time)">23:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@loganfsmyth:mozilla.org">loganfsmyth</span>&gt;</div></td><td class="msg-cell">nope! Just was going to ask a question and then thought of a possible solution mid-way through writing it, as happens so often</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Fri Jun 12 2020 16:30:29 GMT-0700 (Pacific Daylight Time)">23:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@sfink:mozilla.org">sfink</span>&gt;</div></td><td class="msg-cell">I resemble that comment</td></tr>

</tbody></table></div></div></div>
</body></html>