<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2025-02-18</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2025-02-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2025-02-17" class="nav-link"><span>prev</span></a>
<a href="2025-02-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Feb 18 2025 06:31:30 GMT-0800 (Pacific Standard Time)">14:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell"><span class="nick-16">Ryan Hunt</span>: I've taken <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1943467">https://bugzilla.mozilla.org/show_bug.cgi?id=1943467</a>, and ran 50 iterations of our translation benchmark (which is translating a bit of Don Quixote from spanish to english) w/ and w/o your patch, and it's measurably faster</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Feb 18 2025 06:31:48 GMT-0800 (Pacific Standard Time)">14:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell"><a href="https://gist.github.com/padenot/016b16cc22e4206225643ad15076d34e">https://gist.github.com/padenot/016b16cc22e4206225643ad15076d34e</a>, scroll down past the code for the analysis</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Feb 18 2025 06:32:45 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell">not a world of a difference, but we do know that the proportion spent inside intgemm vs. the total WASM program doing the translation isn't very big. We expect bigger wins when doing other kinds of workloads. but it does improve things, and is statistically significant</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Feb 18 2025 06:34:09 GMT-0800 (Pacific Standard Time)">14:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell">so I guess what I'm saying is good job and please land or something</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Feb 18 2025 07:02:50 GMT-0800 (Pacific Standard Time)">15:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">Ms2ger</span>++ <a href="https://blogs.igalia.com/compilers/2025/02/18/sharing-spidermonkey-tests-with-the-world/">https://blogs.igalia.com/compilers/2025/02/18/sharing-spidermonkey-tests-with-the-world/</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Feb 18 2025 07:03:26 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@ms2ger:igalia.com">Ms2ger</span>&gt;</div></td><td class="msg-cell">I guess my karma died with firebot a long time ago</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Feb 18 2025 08:32:43 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@rhunt:mozilla.org">Ryan Hunt</span>&gt;</div></td><td class="msg-cell">Oh good to know, I wasn't sure if you all had measured any improvement. I will try to figure out a way to land those changes</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Feb 18 2025 08:33:28 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell"><a href="http://perf.compare">perf.compare</a> and such cannot detect an improvement, but my new stats code can, with significance</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Feb 18 2025 08:34:19 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@padenot:mozilla.org">padenot</span>&gt;</div></td><td class="msg-cell">I'm working with tarek to get other real-life benches where your fast-path will be more important (e.g. more calls to builtins, and those builtin are doing smaller tasks)</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Feb 18 2025 15:47:22 GMT-0800 (Pacific Standard Time)">23:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@jcranmer:mozilla.org">jcranmer</span>&gt;</div></td><td class="msg-cell"><p>I have an ES spec question:<br>does JS/ES mandate support for denormal values (i.e., prohibit denormal flushing)?<br>my first thought on looking at ยง6.1.6.1 is that the answer is yes, in that it consistently mandates support for IEEE 754-2019<br>but then ยง21.1.2.9 says</p>
<blockquote>
<p>If an implementation does not support denormalized values, the value of Number.MIN_VALUE must be the smallest non-zero positive value that can actually be represented by the implementation.</p>
</blockquote>
<p>that suggests the answer could be 'no', but that's the only indication I see that it could be 'no', which seems way too oblique a reference to license such an interpretation</p>
</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Feb 18 2025 15:49:06 GMT-0800 (Pacific Standard Time)">23:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@jcranmer:mozilla.org">jcranmer</span>&gt;</div></td><td class="msg-cell">(I'm trying to collate what various language standards say with respect to floating-point semantics, and I want to be certain I don't misrepresent JS here)</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Feb 18 2025 15:51:39 GMT-0800 (Pacific Standard Time)">23:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@jcranmer:mozilla.org">jcranmer</span>&gt;</div></td><td class="msg-cell">also, I don't see tests covering denormal values in the JS test suite</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Feb 18 2025 15:52:15 GMT-0800 (Pacific Standard Time)">23:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@jcranmer:mozilla.org">jcranmer</span>&gt;</div></td><td class="msg-cell">(the closest I've got to anything is bug 1940434)</td></tr>

</tbody></table></div></div></div>
</body></html>