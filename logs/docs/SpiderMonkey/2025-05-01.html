<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2025-05-01</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2025-05-01<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2025-04-30" class="nav-link"><span>prev</span></a>
<a href="2025-05-05" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Apr 30 2025 19:47:18 GMT-0700 (Pacific Daylight Time)">02:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@mayankleoboy1:mozilla.org">mayankleoboy1</span>&gt;</div></td><td class="msg-cell">Many massive improvements on jetstream2-wasm tests. Probably due to enabling lazt tiering. Backfills in progress</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Apr 30 2025 23:38:57 GMT-0700 (Pacific Daylight Time)">06:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@mayankleoboy1:mozilla.org">mayankleoboy1</span>&gt;</div></td><td class="msg-cell"><a href="https://treeherder.mozilla.org/perfherder/graphs?highlightAlerts=1&amp;highlightChangelogData=1&amp;highlightCommonAlerts=0&amp;replicates=0&amp;selected=3415656,2016700898&amp;series=mozilla-central,3415656,1,13&amp;timerange=5184000&amp;zoom=1744153362935,1746089980638,120.87080847186193,131.00800395341489">1.4% improvement</a> on embenchen-wasm-misc-baseline-compile . Just a guess that its from bug 1961674</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Wed Apr 30 2025 23:38:59 GMT-0700 (Pacific Daylight Time)">06:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1961674">https://bugzil.la/1961674</a> — RESOLVED (bvisness) — Use the whole-cell store buffer for wasm</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu May 01 2025 03:53:54 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">if anyone here is on an Arm64 Mac that has clang++ available and wants to help track down what looks like a CPU issue, I'm interested in the output of <a href="https://gist.github.com/jandem/e6b5660975f145b85d533b97ad054f08">this test case</a></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu May 01 2025 03:55:06 GMT-0700 (Pacific Daylight Time)">10:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">when the Flush-to-Zero flag is set, we've seen different results for the fjcvtzs instruction with denormals on  M1 vs M4</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu May 01 2025 03:55:57 GMT-0700 (Pacific Daylight Time)">10:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">having additional data points for M1/M2/M3/M4 would help</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu May 01 2025 04:00:12 GMT-0700 (Pacific Daylight Time)">11:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell">that was fast, thanks! so far everyone on M2-M4 gets 0 for the zero flag and only my M1 gets 1</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu May 01 2025 06:16:28 GMT-0700 (Pacific Daylight Time)">13:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@bvisness:mozilla.org">bvisness</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <a href="https://treeherder.mozilla.org/perfherder/graphs?highlightAlerts=1&amp;highlightChangelogData=1&amp;highlightCommonAlerts=0&amp;replicates=0&amp;selected=3415656,2016700898&amp;series=mozilla-central,3415656,1,13&amp;timerange=5184000&amp;zoom=1744153362935,1746089980638,120.87080847186193,131.00800395341489">1.4% improvement</a> on embenchen-wasm-misc-baseline-compile . Just a guess that its from bug 1961674</blockquote></mx-reply>Uh?! Does embenchen even do wasm gc at all?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu May 01 2025 06:17:41 GMT-0700 (Pacific Daylight Time)">13:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@bvisness:mozilla.org">bvisness</span>&gt;</div></td><td class="msg-cell">I wouldn’t have expected any changes to embenchen</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu May 01 2025 06:37:04 GMT-0700 (Pacific Daylight Time)">13:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@mayankleoboy1:mozilla.org">mayankleoboy1</span>&gt;</div></td><td class="msg-cell">That was my best guess. I'm curious if you agree there is an improvement and whats the reason. </td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu May 01 2025 07:54:56 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@bvisness:mozilla.org">bvisness</span>&gt;</div></td><td class="msg-cell">it does look a good bit lower</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu May 01 2025 07:55:36 GMT-0700 (Pacific Daylight Time)">14:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@bvisness:mozilla.org">bvisness</span>&gt;</div></td><td class="msg-cell">although, we've had some low outliers in that range before by the looks of it</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu May 01 2025 08:00:41 GMT-0700 (Pacific Daylight Time)">15:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@bvisness:mozilla.org">bvisness</span>&gt;</div></td><td class="msg-cell">also, what exactly does that compile job measure? I'm not sure where these are defined, but if it's just timing how long it takes to run the baseline compiler, the post barrier bug should have basically zero impact on that</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu May 01 2025 08:28:12 GMT-0700 (Pacific Daylight Time)">15:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@mayankleoboy1:mozilla.org">mayankleoboy1</span>&gt;</div></td><td class="msg-cell">and the improvement is only on the baseline-compile mode. Edit: And <a href="https://treeherder.mozilla.org/perfherder/graphs?highlightAlerts=1&amp;highlightChangelogData=1&amp;highlightCommonAlerts=0&amp;replicates=0&amp;series=mozilla-central,5273319,1,13&amp;timerange=5184000&amp;zoom=1743651660436,1746061151829,51.4528785923545,66.50227289008471">here</a> are the windows results.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu May 01 2025 11:04:28 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@leftmostcat:matrix.org">leftmostcat</span>&gt;</div></td><td class="msg-cell">Am I understanding <a href="https://searchfox.org/mozilla-central/source/js/src/jit/GenerateLIRFiles.py#422">https://searchfox.org/mozilla-central/source/js/src/jit/GenerateLIRFiles.py#422</a> and <a href="https://searchfox.org/mozilla-central/source/js/src/jit/GenerateMIRFiles.py#160">https://searchfox.org/mozilla-central/source/js/src/jit/GenerateMIRFiles.py#160</a> correctly that behavior should not be distinct between omitting the <code>operands</code> property in the YAML and an explicit <code>operands:</code>?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu May 01 2025 11:42:18 GMT-0700 (Pacific Daylight Time)">18:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">leftmostcat</span>: correct. <code>operands:</code> can be omitted if there are no operands</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu May 01 2025 11:50:09 GMT-0700 (Pacific Daylight Time)">18:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@jandem:mozilla.org">jandem</span>&gt;</div></td><td class="msg-cell"><code>RegExpSearcherLastLimit</code> is a MIR/LIR instruction with explicit-but-empty <code>operands:</code> in the YAML, but usually we omit it</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu May 01 2025 11:52:58 GMT-0700 (Pacific Daylight Time)">18:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@leftmostcat:matrix.org">leftmostcat</span>&gt;</div></td><td class="msg-cell">Yeah, it's that one I was wondering about. It's a candidate for automated generation of the LIR op save that the code for that asserts that <code>operands</code> is a dict, which isn't the case if it's explicit-but-empty. So if omission is the same as explicitly empty, then it's possible to drop the explicit-but-empty field and generation works just fine. :)</td></tr>

</tbody></table></div></div></div>
</body></html>