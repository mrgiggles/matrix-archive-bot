<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2022-09-11</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2022-09-11<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-09-10" class="nav-link"><span>prev</span></a>
<a href="2022-09-12" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sat Sep 10 2022 18:22:59 GMT-0700 (Pacific Daylight Time)">01:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">oh.., its on <code>ContextOptions</code><br>I thought it would be directly on <code>CompileOptions</code><br>I see (It's not defaulted to true because I'm still on SM 96)</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Sep 11 2022 15:14:13 GMT-0700 (Pacific Daylight Time)">22:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">hello</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun Sep 11 2022 15:14:58 GMT-0700 (Pacific Daylight Time)">22:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">can anyone tell me more about the 'artifact' mode when building spidermonkey for embedding in c++ windows?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sun Sep 11 2022 15:52:25 GMT-0700 (Pacific Daylight Time)">22:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><p>Is there any way I can get the underlying <code>ArrayBuffer</code> as a <code>JSObject*</code> of a <code>TypedArray</code>?<br>or does <code>UnwrapArrayBuffer</code>/<code>UnwrapArrayBufferView</code> just work on <code>TypedArray</code>s too?</p>
<p>On that note, what even is a <code>ArrayBufferView</code>?</p></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sun Sep 11 2022 16:02:13 GMT-0700 (Pacific Daylight Time)">23:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-3">devscripter</span>: See <a href="https://firefox-source-docs.mozilla.org/contributing/build/artifact_builds.html">here</a>. Note that only full browser builds are supported; there is no artifact mode for SM.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sun Sep 11 2022 16:02:37 GMT-0700 (Pacific Daylight Time)">23:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">ye read that but still dont understand, like does it generate lib files for me?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun Sep 11 2022 16:04:32 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">If you are working on the browser, and you're only going to be changing code written in JS, then instead of building the C++ parts yourself, you can use artifact builds to download the C++ components and save compilation time. SM compiles much faster than the full browser, and it's mostly written in C++, so there's no point in artifact builds.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun Sep 11 2022 16:05:13 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">oh ok and this is for windows right?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun Sep 11 2022 16:05:19 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">cuz m on windows</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun Sep 11 2022 16:05:45 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the artifact is a set of intermediate files for building Firefox, for each OS</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun Sep 11 2022 16:06:25 GMT-0700 (Pacific Daylight Time)">23:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">basically it's not for other embeddings</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun Sep 11 2022 16:06:41 GMT-0700 (Pacific Daylight Time)">23:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">a couple months ago i asked in this forum if it was possible to build spidermonkey only (the embeddable js engine) for C++,and i was told i HAVE to download the entire 40 gigs of firefox. is this really necessary? I am only trying to embed javascript like I would embed Lua or something in c++ </td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun Sep 11 2022 16:10:58 GMT-0700 (Pacific Daylight Time)">23:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-3">devscripter</span>: Yes. SpiderMonkey lives in the same repository as the rest of the browser.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun Sep 11 2022 16:11:47 GMT-0700 (Pacific Daylight Time)">23:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">right, so there's just no way to go about it other than downloading all the source right?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun Sep 11 2022 16:12:20 GMT-0700 (Pacific Daylight Time)">23:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">downloading the all source is the easiest way</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun Sep 11 2022 16:13:28 GMT-0700 (Pacific Daylight Time)">23:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">so what are these branches? "esr-68" "esr-91" are these also the entire browser?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sun Sep 11 2022 16:13:43 GMT-0700 (Pacific Daylight Time)">23:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">oh, maybe I misunderstood the "artifact" you mentioned</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Sun Sep 11 2022 16:14:05 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><a href="http://ftp.mozilla.org/pub/firefox/releases/101.0/source/">http://ftp.mozilla.org/pub/firefox/releases/101.0/source/</a> There's stuff like this which should be less than 40GB</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Sun Sep 11 2022 16:14:13 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">yea nvm the artifact</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Sun Sep 11 2022 16:14:21 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">If I remember correctly, the actual spidermonkey part is around 4 GB</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Sun Sep 11 2022 16:14:32 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">if it was referring the artifact of SpiderMonkey package job, it's smaller</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Sun Sep 11 2022 16:15:40 GMT-0700 (Pacific Daylight Time)">23:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <a href="http://ftp.mozilla.org/pub/firefox/releases/101.0/source/">http://ftp.mozilla.org/pub/firefox/releases/101.0/source/</a> There's stuff like this which should be less than 40GB</blockquote></mx-reply>i downloaded the same one except it's esr-91, and i also downloaded mozilla build, i just dont know where to go from here</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Sun Sep 11 2022 16:16:19 GMT-0700 (Pacific Daylight Time)">23:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">although i recall bootstrap downloaded all the tools necessary, but it also installed the 40 gigs of firefox which i mostly dont need</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Sun Sep 11 2022 16:16:47 GMT-0700 (Pacific Daylight Time)">23:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr91/docs/Building%20SpiderMonkey.md">https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr91/docs/Building%20SpiderMonkey.md</a> Probably will be helpful</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Sun Sep 11 2022 16:17:29 GMT-0700 (Pacific Daylight Time)">23:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">thats great and all except its for linux</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Sun Sep 11 2022 16:17:39 GMT-0700 (Pacific Daylight Time)">23:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <a href="https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr91/docs/Building%20SpiderMonkey.md">https://github.com/mozilla-spidermonkey/spidermonkey-embedding-examples/blob/esr91/docs/Building%20SpiderMonkey.md</a> Probably will be helpful</blockquote></mx-reply>m running windows</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Sun Sep 11 2022 16:18:53 GMT-0700 (Pacific Daylight Time)">23:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Redfire</span> What are you trying to do with a TypedArray? <code>UnwrapArrayBuffer</code> is about removing cross-compartment wrappers.</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Sun Sep 11 2022 16:19:22 GMT-0700 (Pacific Daylight Time)">23:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><code>ArrayBufferView</code> is the shared ancestor of TypedArray and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView">DataView</a></td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Sun Sep 11 2022 16:20:20 GMT-0700 (Pacific Daylight Time)">23:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><span class="nick-3">devscripter</span>:<br>Use these two in conjunction<br><a href="https://firefox-source-docs.mozilla.org/setup/windows_build.html">https://firefox-source-docs.mozilla.org/setup/windows_build.html</a><br><a href="https://firefox-source-docs.mozilla.org/js/build.html">https://firefox-source-docs.mozilla.org/js/build.html</a></td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Sun Sep 11 2022 16:22:06 GMT-0700 (Pacific Daylight Time)">23:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-8">Redfire</span> What are you trying to do with a TypedArray? <code>UnwrapArrayBuffer</code> is about removing cross-compartment wrappers.</blockquote></mx-reply>Trying to get the byte (u8) representation of <code>TypedArray</code><br>I'm currently checking through every type of <code>TypedArray</code> (Uint8Array, Float32Array, etc.), which is clearly not the greatest</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Sun Sep 11 2022 16:22:16 GMT-0700 (Pacific Daylight Time)">23:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">boostrap downloads all the 40 gigs i just want esr-91 like the link Redfire provided except it should be for windows not linux</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Sun Sep 11 2022 16:24:34 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">there are 2 types of bootstrap</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Sun Sep 11 2022 16:24:54 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">one is to download <code><a href="https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py">https://hg.mozilla.org/mozilla-central/raw-file/default/python/mozboot/bin/bootstrap.py</a></code> and run it, as explained in the document</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Sun Sep 11 2022 16:25:12 GMT-0700 (Pacific Daylight Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the script downloads the repository and then runs the remaining of the bootstrap process</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Sun Sep 11 2022 16:25:24 GMT-0700 (Pacific Daylight Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">other is to run <code>./mach bootstrap</code> inside the already-downloaded repository</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Sun Sep 11 2022 16:25:38 GMT-0700 (Pacific Daylight Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">that corresponds to the "remaining of the bootstrap process"</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Sun Sep 11 2022 16:25:52 GMT-0700 (Pacific Daylight Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, if you already have the source tree, what you need is <code>./mach bootstrap</code></td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Sun Sep 11 2022 16:26:40 GMT-0700 (Pacific Daylight Time)">23:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">but I think, lately <code>./mach bootstrap</code> expects mercurial/git checkout of the source (to determine the versions of tools, iiuc)</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Sun Sep 11 2022 16:26:46 GMT-0700 (Pacific Daylight Time)">23:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> so, if you already have the source tree, what you need is <code>./mach bootstrap</code></blockquote></mx-reply>ohh ok, that explains it</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Sun Sep 11 2022 16:26:47 GMT-0700 (Pacific Daylight Time)">23:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, <code>./mach bootstrap</code> might not work</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Sun Sep 11 2022 16:26:53 GMT-0700 (Pacific Daylight Time)">23:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">crap</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Sun Sep 11 2022 16:27:41 GMT-0700 (Pacific Daylight Time)">23:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">cuz it says this atm checking for rustc... not found
checking for cargo... not found
ERROR: Rust compiler not found.
To compile rust language sources, you must have 'rustc' in your path.
See <a href="https://www.rust-lang.org/">https://www.rust-lang.org/</a> for more information.

You can install rust by running './mach bootstrap'</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Sun Sep 11 2022 16:27:45 GMT-0700 (Pacific Daylight Time)">23:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">so, if you downloaded a snapshot of source tree, you'll need to setup necessary tools by yourself</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Sun Sep 11 2022 16:27:59 GMT-0700 (Pacific Daylight Time)">23:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">thas wot it sayz</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Sun Sep 11 2022 16:28:55 GMT-0700 (Pacific Daylight Time)">23:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">also how do you go back a directory in the start-shell.bat?</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Sun Sep 11 2022 16:29:36 GMT-0700 (Pacific Daylight Time)">23:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">windows just needs rust, llvm and mozilla-build afaik</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Sun Sep 11 2022 16:30:17 GMT-0700 (Pacific Daylight Time)">23:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> windows just needs rust, llvm and mozilla-build afaik</blockquote></mx-reply>llvm is for the c compiler right?</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Sun Sep 11 2022 16:30:25 GMT-0700 (Pacific Daylight Time)">23:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> also how do you go back a directory in the start-shell.bat?</blockquote></mx-reply><code>cd ..</code></td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Sun Sep 11 2022 16:30:45 GMT-0700 (Pacific Daylight Time)">23:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">actually not sure if llvm is needed, that might just be for the rust wrapper of mozjs</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Sun Sep 11 2022 16:30:52 GMT-0700 (Pacific Daylight Time)">23:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell"><span class="nick-8">Redfire</span>: Does <a href="https://searchfox.org/mozilla-central/source/js/src/vm/ArrayBufferViewObject.cpp#261-274">this</a> work?</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Sun Sep 11 2022 16:31:12 GMT-0700 (Pacific Daylight Time)">23:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> actually not sure if llvm is needed, that might just be for the rust wrapper of mozjs</blockquote></mx-reply>i dont need llvm  since it is already detecting the one installed with MSVC</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Sun Sep 11 2022 16:31:57 GMT-0700 (Pacific Daylight Time)">23:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">iain</span>: I haven't tried yet, but I could try doing only <code>ArrayBufferView</code> instead of 10 different typed arrays</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Sun Sep 11 2022 16:32:25 GMT-0700 (Pacific Daylight Time)">23:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">why is this happening: </td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Sun Sep 11 2022 16:32:26 GMT-0700 (Pacific Daylight Time)">23:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">~/downloads/firefox-91.0esr.source/firefox-91.0/js
$ ./mach bootstrap
bash: ./mach: No such file or directory</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Sun Sep 11 2022 16:32:37 GMT-0700 (Pacific Daylight Time)">23:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">cd up two levels</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Sun Sep 11 2022 16:32:51 GMT-0700 (Pacific Daylight Time)">23:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">mach is in the root of the source code</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Sun Sep 11 2022 16:33:05 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">yes but doesnt ./ meaning one directory back?</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Sun Sep 11 2022 16:33:06 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">or err, just one</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Sun Sep 11 2022 16:33:13 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">../ means one dir back</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Sun Sep 11 2022 16:33:20 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">. is the current dir</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Sun Sep 11 2022 16:33:22 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">and with the single dot?</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Sun Sep 11 2022 16:33:23 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">oh</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Sun Sep 11 2022 16:33:26 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">thanks a lot</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Sun Sep 11 2022 16:33:58 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">this now:</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Sun Sep 11 2022 16:33:59 GMT-0700 (Pacific Daylight Time)">23:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><p>Please choose the version of Firefox you want to build:</p>
<ol>
<li>Firefox for Desktop Artifact Mode [default]</li>
<li>Firefox for Desktop</li>
<li>GeckoView/Firefox for Android Artifact Mode</li>
<li>GeckoView/Firefox for Android</li>
<li>SpiderMonkey JavaScript engine<br>Your choice:</li>
</ol>
</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Sun Sep 11 2022 16:34:05 GMT-0700 (Pacific Daylight Time)">23:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">i should select 5 right?</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Sun Sep 11 2022 16:34:15 GMT-0700 (Pacific Daylight Time)">23:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Sun Sep 11 2022 16:34:22 GMT-0700 (Pacific Daylight Time)">23:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">cuz thats what i want to build, only the js engine for embedding in c++</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Sun Sep 11 2022 16:34:24 GMT-0700 (Pacific Daylight Time)">23:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Sun Sep 11 2022 16:35:51 GMT-0700 (Pacific Daylight Time)">23:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">ach.util.UserError: Need permission to create global state directory at C:\Users\</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Sun Sep 11 2022 16:36:03 GMT-0700 (Pacific Daylight Time)">23:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">how do i fix this, how do i give it permission?</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Sun Sep 11 2022 16:44:55 GMT-0700 (Pacific Daylight Time)">23:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">any help?</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Sun Sep 11 2022 16:52:21 GMT-0700 (Pacific Daylight Time)">23:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">can you pastebin the whole input and output to <a href="https://paste.mozilla.org/">https://paste.mozilla.org/</a> ?</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Sun Sep 11 2022 16:52:38 GMT-0700 (Pacific Daylight Time)">23:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">in which step does the error happen?  have you entered anything until then?</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Sun Sep 11 2022 16:53:52 GMT-0700 (Pacific Daylight Time)">23:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><p>Please choose the version of Firefox you want to build:</p>
<ol>
<li>Firefox for Desktop Artifact Mode [default]</li>
<li>Firefox for Desktop</li>
<li>GeckoView/Firefox for Android Artifact Mode</li>
<li>GeckoView/Firefox for Android</li>
<li>SpiderMonkey JavaScript engine<br>Your choice:5<br>Your version of Python 3 (3.9.10) is new enough.<br>WARNING: Your version of Python 2 (None) is not new enough. You must have Python &gt;= 2.7.3 to build Firefox. Python 2 is not required to build, so we will proceed. However, Python 2 is required for other development tasks, like running tests; you may like to have Python 2 installed for that reason.<br>Python is provided by MozillaBuild; ensure your MozillaBuild installation is up to date.</li>
</ol>
<p>The Firefox build system and related tools store shared, persistent state<br>in a common directory on the filesystem. On this machine, that directory<br>is:</p>
<p>C:\Users&lt;&gt;/.mozbuild</p>
<p>If you would like to use a different directory, hit CTRL+c and set the<br>MOZBUILD_STATE_PATH environment variable to the directory you'd like to<br>use and re-run the bootstrapper.</p>
</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Sun Sep 11 2022 16:53:53 GMT-0700 (Pacific Daylight Time)">23:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">Would you like to create this directory? (Yn):</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Sun Sep 11 2022 16:54:06 GMT-0700 (Pacific Daylight Time)">23:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">it doesnt matter if i hit y or n it still complains about permission</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Sun Sep 11 2022 16:54:41 GMT-0700 (Pacific Daylight Time)">23:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">are you running it in mozilla build's shell?</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Sun Sep 11 2022 16:55:29 GMT-0700 (Pacific Daylight Time)">23:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">exactly</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Sun Sep 11 2022 16:55:53 GMT-0700 (Pacific Daylight Time)">23:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">what does <code>echo $HOME</code> command say?</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Sun Sep 11 2022 16:56:18 GMT-0700 (Pacific Daylight Time)">23:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">its definitely not a problem with mach i just need to figure out how to let my computer allow this shell to make directories</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Sun Sep 11 2022 16:56:42 GMT-0700 (Pacific Daylight Time)">23:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> what does <code>echo $HOME</code> command say?</blockquote></mx-reply>where do i type it? its asking me yes or no</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Sun Sep 11 2022 16:56:57 GMT-0700 (Pacific Daylight Time)">23:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">hit Ctrl+C</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Sun Sep 11 2022 16:57:00 GMT-0700 (Pacific Daylight Time)">23:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">and then type it there</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Sun Sep 11 2022 16:57:04 GMT-0700 (Pacific Daylight Time)">23:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Sun Sep 11 2022 16:57:11 GMT-0700 (Pacific Daylight Time)">23:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the system fails to figure out the correct home directory of your account</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Sun Sep 11 2022 16:57:22 GMT-0700 (Pacific Daylight Time)">23:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">it says "mach interrupted by signal or user action. Stopping." when i hit control c</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Sun Sep 11 2022 16:57:32 GMT-0700 (Pacific Daylight Time)">23:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">is that bad?</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Sun Sep 11 2022 16:57:52 GMT-0700 (Pacific Daylight Time)">23:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">you can ignore that</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Sun Sep 11 2022 16:58:30 GMT-0700 (Pacific Daylight Time)">23:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">when i do echo home it says: /c/Users/myname</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Sun Sep 11 2022 16:58:35 GMT-0700 (Pacific Daylight Time)">23:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@redfire75369:mozilla.org">Redfire</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <span class="nick-4">iain</span>: I haven't tried yet, but I could try doing only <code>ArrayBufferView</code> instead of 10 different typed arrays</blockquote></mx-reply>Update: Seems to work with the TypedArrays, DataView works too</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Sun Sep 11 2022 16:59:13 GMT-0700 (Pacific Daylight Time)">23:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">is <code>C:\Users&lt;&gt;/.mozbuild</code> part in the above paste exact output? or have you modified that part?</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Sun Sep 11 2022 16:59:29 GMT-0700 (Pacific Daylight Time)">23:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@arai:mozilla.org">arai</span>&gt;</div></td><td class="msg-cell">the output sounds strange</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Sun Sep 11 2022 16:59:51 GMT-0700 (Pacific Daylight Time)">23:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">um it says C:\Users\myname/.mozbuild</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Sun Sep 11 2022 16:59:54 GMT-0700 (Pacific Daylight Time)">23:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@devscripter:mozilla.org">devscripter</span>&gt;</div></td><td class="msg-cell">in the above part</td></tr>

</tbody></table></div></div></div>
</body></html>