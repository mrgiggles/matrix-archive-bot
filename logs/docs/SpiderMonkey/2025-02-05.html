<!DOCTYPE html><html><head>
  <meta charset="UTF-8">
  <title>SpiderMonkey on 2025-02-05</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "SpiderMonkey";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">SpiderMonkey<br>2025-02-05<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2025-02-04" class="nav-link"><span>prev</span></a>
<a href="2025-02-06" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search SpiderMonkey">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Feb 04 2025 16:06:09 GMT-0800 (Pacific Standard Time)">00:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Something to do with <a href="https://www.youtube.com/feed/subscriptions">https://www.youtube.com/feed/subscriptions</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Feb 04 2025 16:22:59 GMT-0800 (Pacific Standard Time)">00:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@jesup:mozilla.org">jesup</span>&gt;</div></td><td class="msg-cell"><span class="nick-4">smaug</span>: I think the original reporter on reddit can.  I tried and couldn't generate the leak that continued past gc/cc; always dropped to 350-500MB after a short bit (via about:processes)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Feb 04 2025 16:24:05 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">jesup</span>: I think we'd need cc/gc logs when the memory use isn't crazy high yet, but when there are already those js-non-window zones in memory report</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Feb 04 2025 16:24:30 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">I didn't see any unusual addons in the memory report</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Feb 04 2025 16:24:34 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell">Is there any more detail about what the memory is under js-non-window? Like under a zone? </td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Feb 04 2025 16:24:53 GMT-0800 (Pacific Standard Time)">00:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell">With no information here I'd blame a goofy YouTube download addon doing something bad</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Feb 04 2025 16:29:44 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">â”‚  â”‚  â”œâ”€â”€â”€â”€142.62 MB (07.18%) -- zone(0x7fd60eabb100)
â”‚  â”‚  â”‚    â”œâ”€â”€113.86 MB (05.73%) -- realm(<a href="https://www.youtube.com/feed/subscriptions">https://www.youtube.com/feed/subscriptions</a>)
â”‚  â”‚  â”‚    â”‚  â”œâ”€â”€107.39 MB (05.40%) -- classes
â”‚  â”‚  â”‚    â”‚  â”‚  â”œâ”€â”€â”€35.47 MB (01.78%) -- class(Function)/objects
â”‚  â”‚  â”‚    â”‚  â”‚  â”‚   â”œâ”€â”€33.34 MB (01.68%) â”€â”€ gc-heap
â”‚  â”‚  â”‚    â”‚  â”‚  â”‚   â””â”€â”€â”€2.13 MB (00.11%) â”€â”€ malloc-heap/slots
â”‚  â”‚  â”‚    â”‚  â”‚  â”œâ”€â”€â”€27.28 MB (01.37%) -- class(Call)/objects
â”‚  â”‚  â”‚    â”‚  â”‚  â”‚   â”œâ”€â”€27.07 MB (01.36%) â”€â”€ gc-heap
â”‚  â”‚  â”‚    â”‚  â”‚  â”‚   â””â”€â”€â”€0.21 MB (00.01%) â”€â”€ malloc-heap/slots
â”‚  â”‚  â”‚    â”‚  â”‚  â”œâ”€â”€â”€24.45 MB (01.23%) ++ (21 tiny)
â”‚  â”‚  â”‚    â”‚  â”‚  â””â”€â”€â”€20.20 MB (01.02%) ++ class(Object)/objects
â”‚  â”‚  â”‚    â”‚  â””â”€â”€â”€â”€6.46 MB (00.33%) ++ (3 tiny)
â”‚  â”‚  â”‚    â””â”€â”€â”€28.77 MB (01.45%) ++ (14 tiny)</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Feb 04 2025 16:29:57 GMT-0800 (Pacific Standard Time)">00:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">That isn't too useful</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Feb 04 2025 16:30:13 GMT-0800 (Pacific Standard Time)">00:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Several somewhat similar zones</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Feb 04 2025 16:31:29 GMT-0800 (Pacific Standard Time)">00:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">oh, wait, hmm "[Expanded Principal [<a href="https://www.youtube.com/feed/subscriptions">https://www.youtube.com/feed/subscriptions</a>, moz-extension://e66083de-4154-468c-8dd1-d13036383bc3/]], Content Script "Web Compatibility Interventions""</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Feb 04 2025 16:31:47 GMT-0800 (Pacific Standard Time)">00:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">I think Web Compat Interventions is leaking</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Feb 04 2025 16:31:57 GMT-0800 (Pacific Standard Time)">00:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">twisniewski</span>: ^</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Feb 04 2025 16:32:32 GMT-0800 (Pacific Standard Time)">00:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">(very much a guess still)</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Feb 04 2025 16:33:16 GMT-0800 (Pacific Standard Time)">00:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@twisniewski:mozilla.org">twisniewski</span>&gt;</div></td><td class="msg-cell">oof. this is our current youtube-related intervention: <a href="https://searchfox.org/mozilla-central/source/browser/extensions/webcompat/injections/js/bug1842437-www.youtube.com-performance-now-precision.js#8">https://searchfox.org/mozilla-central/source/browser/extensions/webcompat/injections/js/bug1842437-www.youtube.com-performance-now-precision.js#8</a></td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Feb 04 2025 16:33:59 GMT-0800 (Pacific Standard Time)">00:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@twisniewski:mozilla.org">twisniewski</span>&gt;</div></td><td class="msg-cell">if you can go into about:compat and disable it, then reload the tab and retry, we can at least confirm whether the leak goes away.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Feb 04 2025 16:34:19 GMT-0800 (Pacific Standard Time)">00:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">well, <em>I</em> haven't reproduced anything ðŸ™‚</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Feb 04 2025 16:36:08 GMT-0800 (Pacific Standard Time)">00:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-12">twisniewski</span>: and I think I am wrong here. There are still too many "<a href="https://www.youtube.com/feed/subscriptions">https://www.youtube.com/feed/subscriptions</a>" zones. Something else is creating the zones for those</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Feb 04 2025 16:37:06 GMT-0800 (Pacific Standard Time)">00:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@twisniewski:mozilla.org">twisniewski</span>&gt;</div></td><td class="msg-cell">ok, keep me posted. we try to not introduce leaks, but there's never any guarantee</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Feb 04 2025 16:37:41 GMT-0800 (Pacific Standard Time)">00:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">that <a href="http://performance.now">performance.now</a>() intervention has been there for quite some time</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Feb 04 2025 16:37:50 GMT-0800 (Pacific Standard Time)">00:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@twisniewski:mozilla.org">twisniewski</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Feb 04 2025 18:24:14 GMT-0800 (Pacific Standard Time)">02:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@jesup:mozilla.org">jesup</span>&gt;</div></td><td class="msg-cell">That report was from my very generic test profile, with me spamming reload and then hitting Measure in my about:memory tab</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Feb 04 2025 18:26:07 GMT-0800 (Pacific Standard Time)">02:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@jesup:mozilla.org">jesup</span>&gt;</div></td><td class="msg-cell">I'll investigate more; this was me signed into youtube in a generic test profile, running a local opt build.  Spamming reload, and taking memory profiles before it could drop back down to 500ish MB</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Feb 04 2025 18:26:23 GMT-0800 (Pacific Standard Time)">02:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@jesup:mozilla.org">jesup</span>&gt;</div></td><td class="msg-cell">I'll try to find the reddit thread as well</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Wed Feb 05 2025 09:26:15 GMT-0800 (Pacific Standard Time)">17:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell"><p>hello, I am working on a port of spidermonkey to zos.  I'm curious, I have an x86_64/Linux build of RELEASE_52 at the moment working.  However, when I examine the build log, I see weird things.</p>
<ol>
<li>./mach build shows filenames without context.  For instance, here are five header files mentioned but it does not say why.  Are they being referrenced?  Are they being generated?  See screenshot below:</li>
</ol>
</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Wed Feb 05 2025 09:28:01 GMT-0800 (Pacific Standard Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I believe those are being auto-generated. selfhosted.out.h is, at least.</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Wed Feb 05 2025 09:28:52 GMT-0800 (Pacific Standard Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell">Yeah, any random file name getting dumped out during build is probably indicating that the file is being generated there.</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Wed Feb 05 2025 09:34:10 GMT-0800 (Pacific Standard Time)">17:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell"><ol start="2">
<li>Here is a build line for a source file. The last bit of text in that line is what appears to be a filename being compiled.  However at the end of the build, I generate a list of files -- excluding the .hg, .cargo, and obj dir.  When I examine this list of files or simply search the build tree/dir, I don't see a file with this name.  See screenshot.</li>
</ol>
</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Wed Feb 05 2025 09:35:00 GMT-0800 (Pacific Standard Time)">17:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">hmm, many thanks <span class="nick-4">iain</span> and <span class="nick-16">mccr8</span> .  These are genrated files, but deleted aftewords?  Is there a mechnism to keep the files around after the build is completed?</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Wed Feb 05 2025 09:35:49 GMT-0800 (Pacific Standard Time)">17:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell"><ol start="3">
<li>In one release,I am pretty sure I saw a --verbose flag that worked.  I don't have that option for ./mach configure or ./mach build.  Is there an option to enable verbose?</li>
</ol>
</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Wed Feb 05 2025 09:37:43 GMT-0800 (Pacific Standard Time)">17:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell"><ol start="4">
<li>What is the tie-in between what avaialbe options such as --disable-tests to configure and the source? I just google and randomly attempt to find working options.  I did find a file...can't remember at the moment the fname, but it had if defined for HAVE_DTRACE and I vound an option for --disable-dtrace in one particular build release.</li>
</ol>
</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Wed Feb 05 2025 09:37:49 GMT-0800 (Pacific Standard Time)">17:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I can't speak to 52, but currently if I look in the objdir where my build lives, I see (eg) obj-opt/js/src/selfhosted.out.h</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Wed Feb 05 2025 09:39:39 GMT-0800 (Pacific Standard Time)">17:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">I'll attempt to capture build output on filesystem in between clobber, configure and build.  Currently I only examine obj-x86_64-pc-linux-gnu.  I currently don't have a obj-opt or any obj* dir except for the obj-x86_64-pc-linux-gnu</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Wed Feb 05 2025 09:40:36 GMT-0800 (Pacific Standard Time)">17:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yeah, the name of the obj-dir is arbitrary</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Wed Feb 05 2025 09:41:25 GMT-0800 (Pacific Standard Time)">17:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">Is there a way to preserve the generated files?</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Wed Feb 05 2025 09:43:53 GMT-0800 (Pacific Standard Time)">17:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Are you using ./mach build? Can you post your mozconfig?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Wed Feb 05 2025 09:44:06 GMT-0800 (Pacific Standard Time)">17:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">yes, i am using ./mach build</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Wed Feb 05 2025 09:44:14 GMT-0800 (Pacific Standard Time)">17:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">sure i can post my mozconfig</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Wed Feb 05 2025 09:44:18 GMT-0800 (Pacific Standard Time)">17:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">one moment</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Wed Feb 05 2025 09:46:03 GMT-0800 (Pacific Standard Time)">17:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">for 52, I wonder if you'd be best erved by generatiing a source package, -then- using that as the basis to port. avoiding all mach stuff in general: <a href="https://searchfox.org/mozilla-central/source/js/src/Makefile.in#116-133">https://searchfox.org/mozilla-central/source/js/src/Makefile.in#116-133</a> </td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Wed Feb 05 2025 09:49:34 GMT-0800 (Pacific Standard Time)">17:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">My thoughts were to get a build on x86_64 linux, migrate all the files to zos and use either gmake or gn.  When I learned the mach switched from python3.8 to python2.7 upon doing 52, i abandoned using mach on zos.  I'm not certain python2.7 exists for z/os.  However, what you are saying might useful.  Even trying to get a python2.7 on zos working might be something possible.  Perhaps its exists, but at the moment I have never used it and its not installed.</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Wed Feb 05 2025 09:53:04 GMT-0800 (Pacific Standard Time)">17:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">Just did a quick check , zos is weird in that system admins install packages.  So we have 3.12 and nothing for 2.7.   I'll ask around and see if I can find a python and attempt to get it installed.</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Wed Feb 05 2025 09:54:26 GMT-0800 (Pacific Standard Time)">17:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">As someone who has installed OSS software on zOS: I really, honestly, wish you luck. It's often possible, just -hard- </td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Wed Feb 05 2025 09:54:37 GMT-0800 (Pacific Standard Time)">17:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Yeah, it looks like since you didn't specify MOZ_OBJDIR, obj-x86_64-pc-linux-gnu is <a href="https://searchfox.org/mozilla-central/source/docs/setup/configuring_build_options.rst#68-72">picked by default</a>. Generated files should be created there. Not sure why they're being deleted afterwards.</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Wed Feb 05 2025 09:54:59 GMT-0800 (Pacific Standard Time)">17:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">(I lived for a long time with an incredibly old vim because I couldn't be bothered to do all the work to build it)</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Wed Feb 05 2025 09:56:18 GMT-0800 (Pacific Standard Time)">17:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">IIRC my version of emacs when I worked at IBM was compiled in 1998</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Wed Feb 05 2025 09:57:07 GMT-0800 (Pacific Standard Time)">17:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">Yes, USS has its ups and down.  I work with IBM on the zopen git repo and I use their vim amongst other things.</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Wed Feb 05 2025 09:57:42 GMT-0800 (Pacific Standard Time)">17:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Are we still using python 2 in more recent releases? I was under the vague impression that we'd finished the 2-&gt;3 migration</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Wed Feb 05 2025 10:00:40 GMT-0800 (Pacific Standard Time)">18:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">In general I think we're going to have better answers if you're building a version of SM that is less than 8 years old</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Wed Feb 05 2025 10:04:00 GMT-0800 (Pacific Standard Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">Yes, I understand. However, its my understanding that 52 is the best bet for porting to zos.  ie does not have rust - I don't know of a rust compiler for zos.  I don't see asm being used.  I don't want to have to convert x86_64 assembly to IBM HAL.  It doesn't support JIT, or at least it appears not. Less code to port is better.</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Wed Feb 05 2025 10:04:39 GMT-0800 (Pacific Standard Time)">18:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I don't think there's any Rust code inside SM, actually</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Wed Feb 05 2025 10:05:52 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell">I'm not sure where this Rust code is, but for recent versions several Rust packages are fetched and compiled when you build SM</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Wed Feb 05 2025 10:05:55 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell">maybe it's for cbindgen?</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Wed Feb 05 2025 10:06:01 GMT-0800 (Pacific Standard Time)">18:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Hmm, maybe</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Wed Feb 05 2025 10:06:11 GMT-0800 (Pacific Standard Time)">18:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">When i was build sm rel 130 and 135 i saw the rustc compiler running.  I also counted the number of .rs files and they were present. perhaps it was in the tree but not used for the src/js directory.</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Wed Feb 05 2025 10:07:10 GMT-0800 (Pacific Standard Time)">18:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">Or rather: there's definitely some rust code inside SM (see js/src/rust), but I don't think any of it is necessary to build the shell</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Wed Feb 05 2025 10:08:06 GMT-0800 (Pacific Standard Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@iain:mozilla.org">iain</span>&gt;</div></td><td class="msg-cell">I guess ICU4X will eventually become the default</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Wed Feb 05 2025 10:08:09 GMT-0800 (Pacific Standard Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">hmm, I don't know.  I just went with smaller is better approach but perhaps that is nto a good goal.</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Wed Feb 05 2025 10:09:55 GMT-0800 (Pacific Standard Time)">18:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> for 52, I wonder if you'd be best erved by generatiing a source package, -then- using that as the basis to port. avoiding all mach stuff in general: <a href="https://searchfox.org/mozilla-central/source/js/src/Makefile.in#116-133">https://searchfox.org/mozilla-central/source/js/src/Makefile.in#116-133</a> </blockquote></mx-reply>GNOME has unofficial source packages from certain 52.x releases onwards: <a href="https://download.gnome.org/teams/releng/tarballs-needing-help/mozjs/">https://download.gnome.org/teams/releng/tarballs-needing-help/mozjs/</a> (ones with <code>gnome</code> in the version number have additional backports applied, though)</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Wed Feb 05 2025 10:15:13 GMT-0800 (Pacific Standard Time)">18:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">many thanks <span class="nick-13">ptomato</span> <span class="nick-2">mgaudet</span> <span class="nick-4">iain</span> , I've noted all three of these urls.  I'll examine these potential paths.  Thanks!</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Wed Feb 05 2025 10:28:50 GMT-0800 (Pacific Standard Time)">18:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@mgaudet:mozilla.org">mgaudet</span>&gt;</div></td><td class="msg-cell">What's the status of performance-testing-with-devtools-open: Once upon a time I got the impression that this was a bad idea. Is it still? </td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Wed Feb 05 2025 10:33:14 GMT-0800 (Pacific Standard Time)">18:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@rhunt:mozilla.org">Ryan Hunt</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> What's the status of performance-testing-with-devtools-open: Once upon a time I got the impression that this was a bad idea. Is it still? </blockquote></mx-reply>At least for wasm, make sure you donâ€™t open the debugger tab of dev tools because it will disable optimizing wasm code</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Wed Feb 05 2025 10:36:12 GMT-0800 (Pacific Standard Time)">18:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@netskink:matrix.org">netskink</span>&gt;</div></td><td class="msg-cell">hmm, i stand corrected. my find files was ignoreing .hg, .cargo and obj-x86_64-pc-linux-gnu.  Each file list I generated after clobber, configure and build were identical.  I am in process of generating a new list of files including the obj-x86_64-pc-linux-gnu dir.  I bet this time, I will find these generated files.</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Wed Feb 05 2025 13:12:29 GMT-0800 (Pacific Standard Time)">21:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell"><span class="nick-7">jesup</span>: <span class="nick-16">mccr8</span> I <em>think</em> those mystery zones are actually window objects</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Wed Feb 05 2025 13:12:48 GMT-0800 (Pacific Standard Time)">21:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">oh, are they unlinked Windows</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Wed Feb 05 2025 13:13:19 GMT-0800 (Pacific Standard Time)">21:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Is that possible because of <a href="https://searchfox.org/mozilla-central/rev/94f8fc2185ca48c98020beeff129c4d89a776af9/dom/base/nsGlobalWindowInner.cpp#1489">https://searchfox.org/mozilla-central/rev/94f8fc2185ca48c98020beeff129c4d89a776af9/dom/base/nsGlobalWindowInner.cpp#1489</a></td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Wed Feb 05 2025 13:13:26 GMT-0800 (Pacific Standard Time)">21:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell">Somebody pointed me at this bug about YouTube memory being high.  Dunno if that is related. <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1945363">https://bugzilla.mozilla.org/show_bug.cgi?id=1945363</a></td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Wed Feb 05 2025 13:16:18 GMT-0800 (Pacific Standard Time)">21:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Could be</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Wed Feb 05 2025 13:17:03 GMT-0800 (Pacific Standard Time)">21:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Anyhow, I think the windowid handling is possibly a reason why there are js-non-window realms in the memory report</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Wed Feb 05 2025 13:17:07 GMT-0800 (Pacific Standard Time)">21:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Those are actually windows</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Wed Feb 05 2025 13:17:30 GMT-0800 (Pacific Standard Time)">21:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">That isn't the cause for the leak, it just makes the memory reports look a bit surprising</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Wed Feb 05 2025 13:19:04 GMT-0800 (Pacific Standard Time)">21:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">I've tried to reproduce the leak jesup told about, no luck. Well, no luck with any sorts of leaks with youtube. I did reloading and loading subscriptions page and resizing the window and opening and closing devtools etc.</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Wed Feb 05 2025 13:32:41 GMT-0800 (Pacific Standard Time)">21:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">Memory report in bug 1945363 looks quite different.  There top level active window has tons of JS </td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Wed Feb 05 2025 13:32:43 GMT-0800 (Pacific Standard Time)">21:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-3" title="@botzilla:mozilla.org">botzilla</span>&gt;</div></td><td class="msg-cell"><a href="https://bugzil.la/1945363">https://bugzil.la/1945363</a> â€” UNCONFIRMED (nobody) â€” Very high memory usage (4GB) on YouTube</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Wed Feb 05 2025 13:33:25 GMT-0800 (Pacific Standard Time)">21:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">(which hints more about a site leak)</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Wed Feb 05 2025 13:33:37 GMT-0800 (Pacific Standard Time)">21:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-4" title="@smaug:mozilla.org">smaug</span>&gt;</div></td><td class="msg-cell">(or something related to addons)</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Wed Feb 05 2025 13:54:22 GMT-0800 (Pacific Standard Time)">21:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@jesup:mozilla.org">jesup</span>&gt;</div></td><td class="msg-cell">The reddit report I was trying to reproduce was <a href="https://www.reddit.com/r/firefox/comments/1ifth2n/comment/mathyr0/">https://www.reddit.com/r/firefox/comments/1ifth2n/comment/mathyr0/</a></td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Wed Feb 05 2025 14:20:54 GMT-0800 (Pacific Standard Time)">22:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-16" title="@mccr8:mozilla.org">mccr8</span>&gt;</div></td><td class="msg-cell">The reporter in 1945363 was able to repro without addons</td></tr>

</tbody></table></div></div></div>
</body></html>